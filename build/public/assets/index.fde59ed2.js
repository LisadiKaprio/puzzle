const Na=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};Na();function jo(e,t){const n=Object.create(null),s=e.split(",");for(let o=0;o<s.length;o++)n[s[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const $a="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ma=jo($a);function Gl(e){return!!e||e===""}function Nt(e){if(te(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=He(s)?Ia(s):Nt(s);if(o)for(const i in o)t[i]=o[i]}return t}else{if(He(e))return e;if(Ve(e))return e}}const Ua=/;(?![^(]*\))/g,La=/:(.+)/;function Ia(e){const t={};return e.split(Ua).forEach(n=>{if(n){const s=n.split(La);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Pt(e){let t="";if(He(e))t=e;else if(te(e))for(let n=0;n<e.length;n++){const s=Pt(e[n]);s&&(t+=s+" ")}else if(Ve(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Da(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=cn(e[s],t[s]);return n}function cn(e,t){if(e===t)return!0;let n=Di(e),s=Di(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=qn(e),s=qn(t),n||s)return e===t;if(n=te(e),s=te(t),n||s)return n&&s?Da(e,t):!1;if(n=Ve(e),s=Ve(t),n||s){if(!n||!s)return!1;const o=Object.keys(e).length,i=Object.keys(t).length;if(o!==i)return!1;for(const l in e){const r=e.hasOwnProperty(l),c=t.hasOwnProperty(l);if(r&&!c||!r&&c||!cn(e[l],t[l]))return!1}}return String(e)===String(t)}function Ko(e,t){return e.findIndex(n=>cn(n,t))}const ee=e=>He(e)?e:e==null?"":te(e)||Ve(e)&&(e.toString===Wl||!re(e.toString))?JSON.stringify(e,Fl,2):String(e),Fl=(e,t)=>t&&t.__v_isRef?Fl(e,t.value):En(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o])=>(n[`${s} =>`]=o,n),{})}:Rn(t)?{[`Set(${t.size})`]:[...t.values()]}:Ve(t)&&!te(t)&&!jl(t)?String(t):t,Re={},wn=[],gt=()=>{},Va=()=>!1,Ba=/^on[^a-z]/,Vs=e=>Ba.test(e),Yo=e=>e.startsWith("onUpdate:"),Xe=Object.assign,Zo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},za=Object.prototype.hasOwnProperty,ge=(e,t)=>za.call(e,t),te=Array.isArray,En=e=>os(e)==="[object Map]",Rn=e=>os(e)==="[object Set]",Di=e=>os(e)==="[object Date]",re=e=>typeof e=="function",He=e=>typeof e=="string",qn=e=>typeof e=="symbol",Ve=e=>e!==null&&typeof e=="object",Hl=e=>Ve(e)&&re(e.then)&&re(e.catch),Wl=Object.prototype.toString,os=e=>Wl.call(e),Ga=e=>os(e).slice(8,-1),jl=e=>os(e)==="[object Object]",qo=e=>He(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ms=jo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bs=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Fa=/-(\w)/g,Ct=Bs(e=>e.replace(Fa,(t,n)=>n?n.toUpperCase():"")),Ha=/\B([A-Z])/g,fn=Bs(e=>e.replace(Ha,"-$1").toLowerCase()),zs=Bs(e=>e.charAt(0).toUpperCase()+e.slice(1)),eo=Bs(e=>e?`on${zs(e)}`:""),Xn=(e,t)=>!Object.is(e,t),vs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Cs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},xs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Vi;const Wa=()=>Vi||(Vi=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let wt;class ja{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&wt&&(this.parent=wt,this.index=(wt.scopes||(wt.scopes=[])).push(this)-1)}run(t){if(this.active){const n=wt;try{return wt=this,t()}finally{wt=n}}}on(){wt=this}off(){wt=this.parent}stop(t){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function Ka(e,t=wt){t&&t.active&&t.effects.push(e)}const Xo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Kl=e=>(e.w&jt)>0,Yl=e=>(e.n&jt)>0,Ya=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=jt},Za=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const o=t[s];Kl(o)&&!Yl(o)?o.delete(e):t[n++]=o,o.w&=~jt,o.n&=~jt}t.length=n}},uo=new WeakMap;let Dn=0,jt=1;const fo=30;let dt;const on=Symbol(""),ho=Symbol("");class Qo{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ka(this,s)}run(){if(!this.active)return this.fn();let t=dt,n=Ht;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=dt,dt=this,Ht=!0,jt=1<<++Dn,Dn<=fo?Ya(this):Bi(this),this.fn()}finally{Dn<=fo&&Za(this),jt=1<<--Dn,dt=this.parent,Ht=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){dt===this?this.deferStop=!0:this.active&&(Bi(this),this.onStop&&this.onStop(),this.active=!1)}}function Bi(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ht=!0;const Zl=[];function kn(){Zl.push(Ht),Ht=!1}function Nn(){const e=Zl.pop();Ht=e===void 0?!0:e}function rt(e,t,n){if(Ht&&dt){let s=uo.get(e);s||uo.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=Xo()),ql(o)}}function ql(e,t){let n=!1;Dn<=fo?Yl(e)||(e.n|=jt,n=!Kl(e)):n=!e.has(dt),n&&(e.add(dt),dt.deps.push(e))}function $t(e,t,n,s,o,i){const l=uo.get(e);if(!l)return;let r=[];if(t==="clear")r=[...l.values()];else if(n==="length"&&te(e))l.forEach((c,u)=>{(u==="length"||u>=s)&&r.push(c)});else switch(n!==void 0&&r.push(l.get(n)),t){case"add":te(e)?qo(n)&&r.push(l.get("length")):(r.push(l.get(on)),En(e)&&r.push(l.get(ho)));break;case"delete":te(e)||(r.push(l.get(on)),En(e)&&r.push(l.get(ho)));break;case"set":En(e)&&r.push(l.get(on));break}if(r.length===1)r[0]&&po(r[0]);else{const c=[];for(const u of r)u&&c.push(...u);po(Xo(c))}}function po(e,t){const n=te(e)?e:[...e];for(const s of n)s.computed&&zi(s);for(const s of n)s.computed||zi(s)}function zi(e,t){(e!==dt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const qa=jo("__proto__,__v_isRef,__isVue"),Xl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(qn)),Xa=Jo(),Qa=Jo(!1,!0),Ja=Jo(!0),Gi=ec();function ec(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=be(this);for(let i=0,l=this.length;i<l;i++)rt(s,"get",i+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(be)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){kn();const s=be(this)[t].apply(this,n);return Nn(),s}}),e}function Jo(e=!1,t=!1){return function(s,o,i){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&i===(e?t?_c:nr:t?tr:er).get(s))return s;const l=te(s);if(!e&&l&&ge(Gi,o))return Reflect.get(Gi,o,i);const r=Reflect.get(s,o,i);return(qn(o)?Xl.has(o):qa(o))||(e||rt(s,"get",o),t)?r:Ye(r)?l&&qo(o)?r:r.value:Ve(r)?e?sr(r):is(r):r}}const tc=Ql(),nc=Ql(!0);function Ql(e=!1){return function(n,s,o,i){let l=n[s];if(Qn(l)&&Ye(l)&&!Ye(o))return!1;if(!e&&!Qn(o)&&(go(o)||(o=be(o),l=be(l)),!te(n)&&Ye(l)&&!Ye(o)))return l.value=o,!0;const r=te(n)&&qo(s)?Number(s)<n.length:ge(n,s),c=Reflect.set(n,s,o,i);return n===be(i)&&(r?Xn(o,l)&&$t(n,"set",s,o):$t(n,"add",s,o)),c}}function sc(e,t){const n=ge(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&n&&$t(e,"delete",t,void 0),s}function oc(e,t){const n=Reflect.has(e,t);return(!qn(t)||!Xl.has(t))&&rt(e,"has",t),n}function ic(e){return rt(e,"iterate",te(e)?"length":on),Reflect.ownKeys(e)}const Jl={get:Xa,set:tc,deleteProperty:sc,has:oc,ownKeys:ic},lc={get:Ja,set(e,t){return!0},deleteProperty(e,t){return!0}},rc=Xe({},Jl,{get:Qa,set:nc}),ei=e=>e,Gs=e=>Reflect.getPrototypeOf(e);function rs(e,t,n=!1,s=!1){e=e.__v_raw;const o=be(e),i=be(t);n||(t!==i&&rt(o,"get",t),rt(o,"get",i));const{has:l}=Gs(o),r=s?ei:n?si:Jn;if(l.call(o,t))return r(e.get(t));if(l.call(o,i))return r(e.get(i));e!==o&&e.get(t)}function as(e,t=!1){const n=this.__v_raw,s=be(n),o=be(e);return t||(e!==o&&rt(s,"has",e),rt(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function cs(e,t=!1){return e=e.__v_raw,!t&&rt(be(e),"iterate",on),Reflect.get(e,"size",e)}function Fi(e){e=be(e);const t=be(this);return Gs(t).has.call(t,e)||(t.add(e),$t(t,"add",e,e)),this}function Hi(e,t){t=be(t);const n=be(this),{has:s,get:o}=Gs(n);let i=s.call(n,e);i||(e=be(e),i=s.call(n,e));const l=o.call(n,e);return n.set(e,t),i?Xn(t,l)&&$t(n,"set",e,t):$t(n,"add",e,t),this}function Wi(e){const t=be(this),{has:n,get:s}=Gs(t);let o=n.call(t,e);o||(e=be(e),o=n.call(t,e)),s&&s.call(t,e);const i=t.delete(e);return o&&$t(t,"delete",e,void 0),i}function ji(){const e=be(this),t=e.size!==0,n=e.clear();return t&&$t(e,"clear",void 0,void 0),n}function us(e,t){return function(s,o){const i=this,l=i.__v_raw,r=be(l),c=t?ei:e?si:Jn;return!e&&rt(r,"iterate",on),l.forEach((u,f)=>s.call(o,c(u),c(f),i))}}function fs(e,t,n){return function(...s){const o=this.__v_raw,i=be(o),l=En(i),r=e==="entries"||e===Symbol.iterator&&l,c=e==="keys"&&l,u=o[e](...s),f=n?ei:t?si:Jn;return!t&&rt(i,"iterate",c?ho:on),{next(){const{value:p,done:h}=u.next();return h?{value:p,done:h}:{value:r?[f(p[0]),f(p[1])]:f(p),done:h}},[Symbol.iterator](){return this}}}}function Ut(e){return function(...t){return e==="delete"?!1:this}}function ac(){const e={get(i){return rs(this,i)},get size(){return cs(this)},has:as,add:Fi,set:Hi,delete:Wi,clear:ji,forEach:us(!1,!1)},t={get(i){return rs(this,i,!1,!0)},get size(){return cs(this)},has:as,add:Fi,set:Hi,delete:Wi,clear:ji,forEach:us(!1,!0)},n={get(i){return rs(this,i,!0)},get size(){return cs(this,!0)},has(i){return as.call(this,i,!0)},add:Ut("add"),set:Ut("set"),delete:Ut("delete"),clear:Ut("clear"),forEach:us(!0,!1)},s={get(i){return rs(this,i,!0,!0)},get size(){return cs(this,!0)},has(i){return as.call(this,i,!0)},add:Ut("add"),set:Ut("set"),delete:Ut("delete"),clear:Ut("clear"),forEach:us(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=fs(i,!1,!1),n[i]=fs(i,!0,!1),t[i]=fs(i,!1,!0),s[i]=fs(i,!0,!0)}),[e,n,t,s]}const[cc,uc,fc,dc]=ac();function ti(e,t){const n=t?e?dc:fc:e?uc:cc;return(s,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(ge(n,o)&&o in s?n:s,o,i)}const hc={get:ti(!1,!1)},pc={get:ti(!1,!0)},gc={get:ti(!0,!1)},er=new WeakMap,tr=new WeakMap,nr=new WeakMap,_c=new WeakMap;function mc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vc(e){return e.__v_skip||!Object.isExtensible(e)?0:mc(Ga(e))}function is(e){return Qn(e)?e:ni(e,!1,Jl,hc,er)}function yc(e){return ni(e,!1,rc,pc,tr)}function sr(e){return ni(e,!0,lc,gc,nr)}function ni(e,t,n,s,o){if(!Ve(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const l=vc(e);if(l===0)return e;const r=new Proxy(e,l===2?s:n);return o.set(e,r),r}function bn(e){return Qn(e)?bn(e.__v_raw):!!(e&&e.__v_isReactive)}function Qn(e){return!!(e&&e.__v_isReadonly)}function go(e){return!!(e&&e.__v_isShallow)}function or(e){return bn(e)||Qn(e)}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function ir(e){return Cs(e,"__v_skip",!0),e}const Jn=e=>Ve(e)?is(e):e,si=e=>Ve(e)?sr(e):e;function lr(e){Ht&&dt&&(e=be(e),ql(e.dep||(e.dep=Xo())))}function rr(e,t){e=be(e),e.dep&&po(e.dep)}function Ye(e){return!!(e&&e.__v_isRef===!0)}function j(e){return ar(e,!1)}function wc(e){return ar(e,!0)}function ar(e,t){return Ye(e)?e:new Ec(e,t)}class Ec{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:be(t),this._value=n?t:Jn(t)}get value(){return lr(this),this._value}set value(t){t=this.__v_isShallow?t:be(t),Xn(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Jn(t),rr(this))}}function ue(e){return Ye(e)?e.value:e}const bc={get:(e,t,n)=>ue(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Ye(o)&&!Ye(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function cr(e){return bn(e)?e:new Proxy(e,bc)}function Pc(e){const t=te(e)?new Array(e.length):{};for(const n in e)t[n]=Cc(e,n);return t}class Tc{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Cc(e,t,n){const s=e[t];return Ye(s)?s:new Tc(e,t,n)}class xc{constructor(t,n,s,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Qo(t,()=>{this._dirty||(this._dirty=!0,rr(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=be(this);return lr(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Sc(e,t,n=!1){let s,o;const i=re(e);return i?(s=e,o=gt):(s=e.get,o=e.set),new xc(s,o,i||!o,n)}function Wt(e,t,n,s){let o;try{o=s?e(...s):e()}catch(i){Fs(i,t,n)}return o}function ut(e,t,n,s){if(re(e)){const i=Wt(e,t,n,s);return i&&Hl(i)&&i.catch(l=>{Fs(l,t,n)}),i}const o=[];for(let i=0;i<e.length;i++)o.push(ut(e[i],t,n,s));return o}function Fs(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const l=t.proxy,r=n;for(;i;){const u=i.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,r)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){Wt(c,null,10,[e,l,r]);return}}Ac(e,n,o,s)}function Ac(e,t,n,s=!0){console.error(e)}let Ss=!1,_o=!1;const lt=[];let At=0;const Fn=[];let Vn=null,pn=0;const Hn=[];let Vt=null,gn=0;const ur=Promise.resolve();let oi=null,mo=null;function ii(e){const t=oi||ur;return e?t.then(this?e.bind(this):e):t}function Oc(e){let t=At+1,n=lt.length;for(;t<n;){const s=t+n>>>1;es(lt[s])<e?t=s+1:n=s}return t}function fr(e){(!lt.length||!lt.includes(e,Ss&&e.allowRecurse?At+1:At))&&e!==mo&&(e.id==null?lt.push(e):lt.splice(Oc(e.id),0,e),dr())}function dr(){!Ss&&!_o&&(_o=!0,oi=ur.then(gr))}function Rc(e){const t=lt.indexOf(e);t>At&&lt.splice(t,1)}function hr(e,t,n,s){te(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?s+1:s))&&n.push(e),dr()}function kc(e){hr(e,Vn,Fn,pn)}function Nc(e){hr(e,Vt,Hn,gn)}function Hs(e,t=null){if(Fn.length){for(mo=t,Vn=[...new Set(Fn)],Fn.length=0,pn=0;pn<Vn.length;pn++)Vn[pn]();Vn=null,pn=0,mo=null,Hs(e,t)}}function pr(e){if(Hs(),Hn.length){const t=[...new Set(Hn)];if(Hn.length=0,Vt){Vt.push(...t);return}for(Vt=t,Vt.sort((n,s)=>es(n)-es(s)),gn=0;gn<Vt.length;gn++)Vt[gn]();Vt=null,gn=0}}const es=e=>e.id==null?1/0:e.id;function gr(e){_o=!1,Ss=!0,Hs(e),lt.sort((n,s)=>es(n)-es(s));const t=gt;try{for(At=0;At<lt.length;At++){const n=lt[At];n&&n.active!==!1&&Wt(n,null,14)}}finally{At=0,lt.length=0,pr(),Ss=!1,oi=null,(lt.length||Fn.length||Hn.length)&&gr(e)}}function $c(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Re;let o=n;const i=t.startsWith("update:"),l=i&&t.slice(7);if(l&&l in s){const f=`${l==="modelValue"?"model":l}Modifiers`,{number:p,trim:h}=s[f]||Re;h&&(o=n.map(m=>m.trim())),p&&(o=n.map(xs))}let r,c=s[r=eo(t)]||s[r=eo(Ct(t))];!c&&i&&(c=s[r=eo(fn(t))]),c&&ut(c,e,6,o);const u=s[r+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,ut(u,e,6,o)}}function _r(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const i=e.emits;let l={},r=!1;if(!re(e)){const c=u=>{const f=_r(u,t,!0);f&&(r=!0,Xe(l,f))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!r?(s.set(e,null),null):(te(i)?i.forEach(c=>l[c]=null):Xe(l,i),s.set(e,l),l)}function Ws(e,t){return!e||!Vs(t)?!1:(t=t.slice(2).replace(/Once$/,""),ge(e,t[0].toLowerCase()+t.slice(1))||ge(e,fn(t))||ge(e,t))}let qe=null,mr=null;function As(e){const t=qe;return qe=e,mr=e&&e.type.__scopeId||null,t}function De(e,t=qe,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&sl(-1);const i=As(t),l=e(...o);return As(i),s._d&&sl(1),l};return s._n=!0,s._c=!0,s._d=!0,s}function to(e){const{type:t,vnode:n,proxy:s,withProxy:o,props:i,propsOptions:[l],slots:r,attrs:c,emit:u,render:f,renderCache:p,data:h,setupState:m,ctx:x,inheritAttrs:b}=e;let T,w;const g=As(e);try{if(n.shapeFlag&4){const k=o||s;T=bt(f.call(k,k,p,i,m,h,x)),w=c}else{const k=t;T=bt(k.length>1?k(i,{attrs:c,slots:r,emit:u}):k(i,null)),w=t.props?c:Mc(c)}}catch(k){jn.length=0,Fs(k,e,1),T=N(ft)}let v=T;if(w&&b!==!1){const k=Object.keys(w),{shapeFlag:U}=v;k.length&&U&7&&(l&&k.some(Yo)&&(w=Uc(w,l)),v=Kt(v,w))}return n.dirs&&(v=Kt(v),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),T=v,As(g),T}const Mc=e=>{let t;for(const n in e)(n==="class"||n==="style"||Vs(n))&&((t||(t={}))[n]=e[n]);return t},Uc=(e,t)=>{const n={};for(const s in e)(!Yo(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Lc(e,t,n){const{props:s,children:o,component:i}=e,{props:l,children:r,patchFlag:c}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Ki(s,l,u):!!l;if(c&8){const f=t.dynamicProps;for(let p=0;p<f.length;p++){const h=f[p];if(l[h]!==s[h]&&!Ws(u,h))return!0}}}else return(o||r)&&(!r||!r.$stable)?!0:s===l?!1:s?l?Ki(s,l,u):!0:!!l;return!1}function Ki(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const i=s[o];if(t[i]!==e[i]&&!Ws(n,i))return!0}return!1}function Ic({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Dc=e=>e.__isSuspense;function Vc(e,t){t&&t.pendingBranch?te(e)?t.effects.push(...e):t.effects.push(e):Nc(e)}function ys(e,t){if(Fe){let n=Fe.provides;const s=Fe.parent&&Fe.parent.provides;s===n&&(n=Fe.provides=Object.create(s)),n[e]=t}}function Tt(e,t,n=!1){const s=Fe||qe;if(s){const o=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&re(t)?t.call(s.proxy):t}}const Yi={};function Ge(e,t,n){return vr(e,t,n)}function vr(e,t,{immediate:n,deep:s,flush:o,onTrack:i,onTrigger:l}=Re){const r=Fe;let c,u=!1,f=!1;if(Ye(e)?(c=()=>e.value,u=go(e)):bn(e)?(c=()=>e,s=!0):te(e)?(f=!0,u=e.some(w=>bn(w)||go(w)),c=()=>e.map(w=>{if(Ye(w))return w.value;if(bn(w))return sn(w);if(re(w))return Wt(w,r,2)})):re(e)?t?c=()=>Wt(e,r,2):c=()=>{if(!(r&&r.isUnmounted))return p&&p(),ut(e,r,3,[h])}:c=gt,t&&s){const w=c;c=()=>sn(w())}let p,h=w=>{p=T.onStop=()=>{Wt(w,r,4)}};if(ns)return h=gt,t?n&&ut(t,r,3,[c(),f?[]:void 0,h]):c(),gt;let m=f?[]:Yi;const x=()=>{if(!!T.active)if(t){const w=T.run();(s||u||(f?w.some((g,v)=>Xn(g,m[v])):Xn(w,m)))&&(p&&p(),ut(t,r,3,[w,m===Yi?void 0:m,h]),m=w)}else T.run()};x.allowRecurse=!!t;let b;o==="sync"?b=x:o==="post"?b=()=>nt(x,r&&r.suspense):b=()=>kc(x);const T=new Qo(c,b);return t?n?x():m=T.run():o==="post"?nt(T.run.bind(T),r&&r.suspense):T.run(),()=>{T.stop(),r&&r.scope&&Zo(r.scope.effects,T)}}function Bc(e,t,n){const s=this.proxy,o=He(e)?e.includes(".")?yr(s,e):()=>s[e]:e.bind(s,s);let i;re(t)?i=t:(i=t.handler,n=t);const l=Fe;Cn(this);const r=vr(o,i.bind(s),n);return l?Cn(l):ln(),r}function yr(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function sn(e,t){if(!Ve(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ye(e))sn(e.value,t);else if(te(e))for(let n=0;n<e.length;n++)sn(e[n],t);else if(Rn(e)||En(e))e.forEach(n=>{sn(n,t)});else if(jl(e))for(const n in e)sn(e[n],t);return e}function zc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qe(()=>{e.isMounted=!0}),li(()=>{e.isUnmounting=!0}),e}const at=[Function,Array],Gc={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:at,onEnter:at,onAfterEnter:at,onEnterCancelled:at,onBeforeLeave:at,onLeave:at,onAfterLeave:at,onLeaveCancelled:at,onBeforeAppear:at,onAppear:at,onAfterAppear:at,onAppearCancelled:at},setup(e,{slots:t}){const n=Su(),s=zc();let o;return()=>{const i=t.default&&Er(t.default(),!0);if(!i||!i.length)return;let l=i[0];if(i.length>1){for(const b of i)if(b.type!==ft){l=b;break}}const r=be(e),{mode:c}=r;if(s.isLeaving)return no(l);const u=Zi(l);if(!u)return no(l);const f=vo(u,r,s,n);yo(u,f);const p=n.subTree,h=p&&Zi(p);let m=!1;const{getTransitionKey:x}=u.type;if(x){const b=x();o===void 0?o=b:b!==o&&(o=b,m=!0)}if(h&&h.type!==ft&&(!en(u,h)||m)){const b=vo(h,r,s,n);if(yo(h,b),c==="out-in")return s.isLeaving=!0,b.afterLeave=()=>{s.isLeaving=!1,n.update()},no(l);c==="in-out"&&u.type!==ft&&(b.delayLeave=(T,w,g)=>{const v=wr(s,h);v[String(h.key)]=h,T._leaveCb=()=>{w(),T._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=g})}return l}}},Fc=Gc;function wr(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function vo(e,t,n,s){const{appear:o,mode:i,persisted:l=!1,onBeforeEnter:r,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:p,onLeave:h,onAfterLeave:m,onLeaveCancelled:x,onBeforeAppear:b,onAppear:T,onAfterAppear:w,onAppearCancelled:g}=t,v=String(e.key),k=wr(n,e),U=(H,se)=>{H&&ut(H,s,9,se)},O=(H,se)=>{const Q=se[1];U(H,se),te(H)?H.every(Y=>Y.length<=1)&&Q():H.length<=1&&Q()},K={mode:i,persisted:l,beforeEnter(H){let se=r;if(!n.isMounted)if(o)se=b||r;else return;H._leaveCb&&H._leaveCb(!0);const Q=k[v];Q&&en(e,Q)&&Q.el._leaveCb&&Q.el._leaveCb(),U(se,[H])},enter(H){let se=c,Q=u,Y=f;if(!n.isMounted)if(o)se=T||c,Q=w||u,Y=g||f;else return;let z=!1;const q=H._enterCb=ve=>{z||(z=!0,ve?U(Y,[H]):U(Q,[H]),K.delayedLeave&&K.delayedLeave(),H._enterCb=void 0)};se?O(se,[H,q]):q()},leave(H,se){const Q=String(e.key);if(H._enterCb&&H._enterCb(!0),n.isUnmounting)return se();U(p,[H]);let Y=!1;const z=H._leaveCb=q=>{Y||(Y=!0,se(),q?U(x,[H]):U(m,[H]),H._leaveCb=void 0,k[Q]===e&&delete k[Q])};k[Q]=e,h?O(h,[H,z]):z()},clone(H){return vo(H,t,n,s)}};return K}function no(e){if(js(e))return e=Kt(e),e.children=null,e}function Zi(e){return js(e)?e.children?e.children[0]:void 0:e}function yo(e,t){e.shapeFlag&6&&e.component?yo(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Er(e,t=!1,n){let s=[],o=0;for(let i=0;i<e.length;i++){let l=e[i];const r=n==null?l.key:String(n)+String(l.key!=null?l.key:i);l.type===pe?(l.patchFlag&128&&o++,s=s.concat(Er(l.children,t,r))):(t||l.type!==ft)&&s.push(r!=null?Kt(l,{key:r}):l)}if(o>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function me(e){return re(e)?{setup:e,name:e.name}:e}const Wn=e=>!!e.type.__asyncLoader,js=e=>e.type.__isKeepAlive;function Hc(e,t){br(e,"a",t)}function Wc(e,t){br(e,"da",t)}function br(e,t,n=Fe){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Ks(t,s,n),n){let o=n.parent;for(;o&&o.parent;)js(o.parent.vnode)&&jc(s,t,n,o),o=o.parent}}function jc(e,t,n,s){const o=Ks(t,e,s,!0);$n(()=>{Zo(s[t],o)},n)}function Ks(e,t,n=Fe,s=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...l)=>{if(n.isUnmounted)return;kn(),Cn(n);const r=ut(t,n,e,l);return ln(),Nn(),r});return s?o.unshift(i):o.push(i),i}}const Mt=e=>(t,n=Fe)=>(!ns||e==="sp")&&Ks(e,t,n),Kc=Mt("bm"),Qe=Mt("m"),Yc=Mt("bu"),Zc=Mt("u"),li=Mt("bum"),$n=Mt("um"),qc=Mt("sp"),Xc=Mt("rtg"),Qc=Mt("rtc");function Jc(e,t=Fe){Ks("ec",e,t)}function Ae(e,t){const n=qe;if(n===null)return e;const s=Zs(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[l,r,c,u=Re]=t[i];re(l)&&(l={mounted:l,updated:l}),l.deep&&sn(r),o.push({dir:l,instance:s,value:r,oldValue:void 0,arg:c,modifiers:u})}return e}function Zt(e,t,n,s){const o=e.dirs,i=t&&t.dirs;for(let l=0;l<o.length;l++){const r=o[l];i&&(r.oldValue=i[l].value);let c=r.dir[s];c&&(kn(),ut(c,n,8,[e.el,r,e,t]),Nn())}}const Pr="components";function _e(e,t){return tu(Pr,e,!0,t)||e}const eu=Symbol();function tu(e,t,n=!0,s=!1){const o=qe||Fe;if(o){const i=o.type;if(e===Pr){const r=Nu(i,!1);if(r&&(r===t||r===Ct(t)||r===zs(Ct(t))))return i}const l=qi(o[e]||i[e],t)||qi(o.appContext[e],t);return!l&&s?i:l}}function qi(e,t){return e&&(e[t]||e[Ct(t)]||e[zs(Ct(t))])}function Ze(e,t,n,s){let o;const i=n&&n[s];if(te(e)||He(e)){o=new Array(e.length);for(let l=0,r=e.length;l<r;l++)o[l]=t(e[l],l,void 0,i&&i[l])}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=t(l+1,l,void 0,i&&i[l])}else if(Ve(e))if(e[Symbol.iterator])o=Array.from(e,(l,r)=>t(l,r,void 0,i&&i[r]));else{const l=Object.keys(e);o=new Array(l.length);for(let r=0,c=l.length;r<c;r++){const u=l[r];o[r]=t(e[u],u,r,i&&i[r])}}else o=[];return n&&(n[s]=o),o}function Tr(e,t,n={},s,o){if(qe.isCE||qe.parent&&Wn(qe.parent)&&qe.parent.isCE)return N("slot",t==="default"?null:{name:t},s&&s());let i=e[t];i&&i._c&&(i._d=!1),A();const l=i&&Cr(i(n)),r=we(pe,{key:n.key||`_${t}`},l||(s?s():[]),l&&e._===1?64:-2);return!o&&r.scopeId&&(r.slotScopeIds=[r.scopeId+"-s"]),i&&i._c&&(i._d=!0),r}function Cr(e){return e.some(t=>ks(t)?!(t.type===ft||t.type===pe&&!Cr(t.children)):!0)?e:null}const wo=e=>e?Ir(e)?Zs(e)||e.proxy:wo(e.parent):null,Os=Xe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wo(e.parent),$root:e=>wo(e.root),$emit:e=>e.emit,$options:e=>Sr(e),$forceUpdate:e=>e.f||(e.f=()=>fr(e.update)),$nextTick:e=>e.n||(e.n=ii.bind(e.proxy)),$watch:e=>Bc.bind(e)}),nu={get({_:e},t){const{ctx:n,setupState:s,data:o,props:i,accessCache:l,type:r,appContext:c}=e;let u;if(t[0]!=="$"){const m=l[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(s!==Re&&ge(s,t))return l[t]=1,s[t];if(o!==Re&&ge(o,t))return l[t]=2,o[t];if((u=e.propsOptions[0])&&ge(u,t))return l[t]=3,i[t];if(n!==Re&&ge(n,t))return l[t]=4,n[t];Eo&&(l[t]=0)}}const f=Os[t];let p,h;if(f)return t==="$attrs"&&rt(e,"get",t),f(e);if((p=r.__cssModules)&&(p=p[t]))return p;if(n!==Re&&ge(n,t))return l[t]=4,n[t];if(h=c.config.globalProperties,ge(h,t))return h[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:i}=e;return o!==Re&&ge(o,t)?(o[t]=n,!0):s!==Re&&ge(s,t)?(s[t]=n,!0):ge(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:i}},l){let r;return!!n[l]||e!==Re&&ge(e,l)||t!==Re&&ge(t,l)||(r=i[0])&&ge(r,l)||ge(s,l)||ge(Os,l)||ge(o.config.globalProperties,l)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ge(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Eo=!0;function su(e){const t=Sr(e),n=e.proxy,s=e.ctx;Eo=!1,t.beforeCreate&&Xi(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:l,watch:r,provide:c,inject:u,created:f,beforeMount:p,mounted:h,beforeUpdate:m,updated:x,activated:b,deactivated:T,beforeDestroy:w,beforeUnmount:g,destroyed:v,unmounted:k,render:U,renderTracked:O,renderTriggered:K,errorCaptured:H,serverPrefetch:se,expose:Q,inheritAttrs:Y,components:z,directives:q,filters:ve}=t;if(u&&ou(u,s,null,e.appContext.config.unwrapInjectedRef),l)for(const le in l){const xe=l[le];re(xe)&&(s[le]=xe.bind(n))}if(o){const le=o.call(n,n);Ve(le)&&(e.data=is(le))}if(Eo=!0,i)for(const le in i){const xe=i[le],ze=re(xe)?xe.bind(n,n):re(xe.get)?xe.get.bind(n,n):gt,xt=!re(xe)&&re(xe.set)?xe.set.bind(n):gt,st=he({get:ze,set:xt});Object.defineProperty(s,le,{enumerable:!0,configurable:!0,get:()=>st.value,set:ot=>st.value=ot})}if(r)for(const le in r)xr(r[le],s,n,le);if(c){const le=re(c)?c.call(n):c;Reflect.ownKeys(le).forEach(xe=>{ys(xe,le[xe])})}f&&Xi(f,e,"c");function fe(le,xe){te(xe)?xe.forEach(ze=>le(ze.bind(n))):xe&&le(xe.bind(n))}if(fe(Kc,p),fe(Qe,h),fe(Yc,m),fe(Zc,x),fe(Hc,b),fe(Wc,T),fe(Jc,H),fe(Qc,O),fe(Xc,K),fe(li,g),fe($n,k),fe(qc,se),te(Q))if(Q.length){const le=e.exposed||(e.exposed={});Q.forEach(xe=>{Object.defineProperty(le,xe,{get:()=>n[xe],set:ze=>n[xe]=ze})})}else e.exposed||(e.exposed={});U&&e.render===gt&&(e.render=U),Y!=null&&(e.inheritAttrs=Y),z&&(e.components=z),q&&(e.directives=q)}function ou(e,t,n=gt,s=!1){te(e)&&(e=bo(e));for(const o in e){const i=e[o];let l;Ve(i)?"default"in i?l=Tt(i.from||o,i.default,!0):l=Tt(i.from||o):l=Tt(i),Ye(l)&&s?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:r=>l.value=r}):t[o]=l}}function Xi(e,t,n){ut(te(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function xr(e,t,n,s){const o=s.includes(".")?yr(n,s):()=>n[s];if(He(e)){const i=t[e];re(i)&&Ge(o,i)}else if(re(e))Ge(o,e.bind(n));else if(Ve(e))if(te(e))e.forEach(i=>xr(i,t,n,s));else{const i=re(e.handler)?e.handler.bind(n):t[e.handler];re(i)&&Ge(o,i,e)}}function Sr(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:l}}=e.appContext,r=i.get(t);let c;return r?c=r:!o.length&&!n&&!s?c=t:(c={},o.length&&o.forEach(u=>Rs(c,u,l,!0)),Rs(c,t,l)),i.set(t,c),c}function Rs(e,t,n,s=!1){const{mixins:o,extends:i}=t;i&&Rs(e,i,n,!0),o&&o.forEach(l=>Rs(e,l,n,!0));for(const l in t)if(!(s&&l==="expose")){const r=iu[l]||n&&n[l];e[l]=r?r(e[l],t[l]):t[l]}return e}const iu={data:Qi,props:Xt,emits:Xt,methods:Xt,computed:Xt,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:Xt,directives:Xt,watch:ru,provide:Qi,inject:lu};function Qi(e,t){return t?e?function(){return Xe(re(e)?e.call(this,this):e,re(t)?t.call(this,this):t)}:t:e}function lu(e,t){return Xt(bo(e),bo(t))}function bo(e){if(te(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Je(e,t){return e?[...new Set([].concat(e,t))]:t}function Xt(e,t){return e?Xe(Xe(Object.create(null),e),t):t}function ru(e,t){if(!e)return t;if(!t)return e;const n=Xe(Object.create(null),e);for(const s in t)n[s]=Je(e[s],t[s]);return n}function au(e,t,n,s=!1){const o={},i={};Cs(i,Ys,1),e.propsDefaults=Object.create(null),Ar(e,t,o,i);for(const l in e.propsOptions[0])l in o||(o[l]=void 0);n?e.props=s?o:yc(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function cu(e,t,n,s){const{props:o,attrs:i,vnode:{patchFlag:l}}=e,r=be(o),[c]=e.propsOptions;let u=!1;if((s||l>0)&&!(l&16)){if(l&8){const f=e.vnode.dynamicProps;for(let p=0;p<f.length;p++){let h=f[p];if(Ws(e.emitsOptions,h))continue;const m=t[h];if(c)if(ge(i,h))m!==i[h]&&(i[h]=m,u=!0);else{const x=Ct(h);o[x]=Po(c,r,x,m,e,!1)}else m!==i[h]&&(i[h]=m,u=!0)}}}else{Ar(e,t,o,i)&&(u=!0);let f;for(const p in r)(!t||!ge(t,p)&&((f=fn(p))===p||!ge(t,f)))&&(c?n&&(n[p]!==void 0||n[f]!==void 0)&&(o[p]=Po(c,r,p,void 0,e,!0)):delete o[p]);if(i!==r)for(const p in i)(!t||!ge(t,p)&&!0)&&(delete i[p],u=!0)}u&&$t(e,"set","$attrs")}function Ar(e,t,n,s){const[o,i]=e.propsOptions;let l=!1,r;if(t)for(let c in t){if(ms(c))continue;const u=t[c];let f;o&&ge(o,f=Ct(c))?!i||!i.includes(f)?n[f]=u:(r||(r={}))[f]=u:Ws(e.emitsOptions,c)||(!(c in s)||u!==s[c])&&(s[c]=u,l=!0)}if(i){const c=be(n),u=r||Re;for(let f=0;f<i.length;f++){const p=i[f];n[p]=Po(o,c,p,u[p],e,!ge(u,p))}}return l}function Po(e,t,n,s,o,i){const l=e[n];if(l!=null){const r=ge(l,"default");if(r&&s===void 0){const c=l.default;if(l.type!==Function&&re(c)){const{propsDefaults:u}=o;n in u?s=u[n]:(Cn(o),s=u[n]=c.call(null,t),ln())}else s=c}l[0]&&(i&&!r?s=!1:l[1]&&(s===""||s===fn(n))&&(s=!0))}return s}function Or(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const i=e.props,l={},r=[];let c=!1;if(!re(e)){const f=p=>{c=!0;const[h,m]=Or(p,t,!0);Xe(l,h),m&&r.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!i&&!c)return s.set(e,wn),wn;if(te(i))for(let f=0;f<i.length;f++){const p=Ct(i[f]);Ji(p)&&(l[p]=Re)}else if(i)for(const f in i){const p=Ct(f);if(Ji(p)){const h=i[f],m=l[p]=te(h)||re(h)?{type:h}:h;if(m){const x=nl(Boolean,m.type),b=nl(String,m.type);m[0]=x>-1,m[1]=b<0||x<b,(x>-1||ge(m,"default"))&&r.push(p)}}}const u=[l,r];return s.set(e,u),u}function Ji(e){return e[0]!=="$"}function el(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function tl(e,t){return el(e)===el(t)}function nl(e,t){return te(t)?t.findIndex(n=>tl(n,e)):re(t)&&tl(t,e)?0:-1}const Rr=e=>e[0]==="_"||e==="$stable",ri=e=>te(e)?e.map(bt):[bt(e)],uu=(e,t,n)=>{if(t._n)return t;const s=De((...o)=>ri(t(...o)),n);return s._c=!1,s},kr=(e,t,n)=>{const s=e._ctx;for(const o in e){if(Rr(o))continue;const i=e[o];if(re(i))t[o]=uu(o,i,s);else if(i!=null){const l=ri(i);t[o]=()=>l}}},Nr=(e,t)=>{const n=ri(t);e.slots.default=()=>n},fu=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=be(t),Cs(t,"_",n)):kr(t,e.slots={})}else e.slots={},t&&Nr(e,t);Cs(e.slots,Ys,1)},du=(e,t,n)=>{const{vnode:s,slots:o}=e;let i=!0,l=Re;if(s.shapeFlag&32){const r=t._;r?n&&r===1?i=!1:(Xe(o,t),!n&&r===1&&delete o._):(i=!t.$stable,kr(t,o)),l=t}else t&&(Nr(e,t),l={default:1});if(i)for(const r in o)!Rr(r)&&!(r in l)&&delete o[r]};function $r(){return{app:null,config:{isNativeTag:Va,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hu=0;function pu(e,t){return function(s,o=null){re(s)||(s=Object.assign({},s)),o!=null&&!Ve(o)&&(o=null);const i=$r(),l=new Set;let r=!1;const c=i.app={_uid:hu++,_component:s,_props:o,_container:null,_context:i,_instance:null,version:Mu,get config(){return i.config},set config(u){},use(u,...f){return l.has(u)||(u&&re(u.install)?(l.add(u),u.install(c,...f)):re(u)&&(l.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,p){if(!r){const h=N(s,o);return h.appContext=i,f&&t?t(h,u):e(h,u,p),r=!0,c._container=u,u.__vue_app__=c,Zs(h.component)||h.component.proxy}},unmount(){r&&(e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c}};return c}}function To(e,t,n,s,o=!1){if(te(e)){e.forEach((h,m)=>To(h,t&&(te(t)?t[m]:t),n,s,o));return}if(Wn(s)&&!o)return;const i=s.shapeFlag&4?Zs(s.component)||s.component.proxy:s.el,l=o?null:i,{i:r,r:c}=e,u=t&&t.r,f=r.refs===Re?r.refs={}:r.refs,p=r.setupState;if(u!=null&&u!==c&&(He(u)?(f[u]=null,ge(p,u)&&(p[u]=null)):Ye(u)&&(u.value=null)),re(c))Wt(c,r,12,[l,f]);else{const h=He(c),m=Ye(c);if(h||m){const x=()=>{if(e.f){const b=h?f[c]:c.value;o?te(b)&&Zo(b,i):te(b)?b.includes(i)||b.push(i):h?(f[c]=[i],ge(p,c)&&(p[c]=f[c])):(c.value=[i],e.k&&(f[e.k]=c.value))}else h?(f[c]=l,ge(p,c)&&(p[c]=l)):m&&(c.value=l,e.k&&(f[e.k]=l))};l?(x.id=-1,nt(x,n)):x()}}}const nt=Vc;function gu(e){return _u(e)}function _u(e,t){const n=Wa();n.__VUE__=!0;const{insert:s,remove:o,patchProp:i,createElement:l,createText:r,createComment:c,setText:u,setElementText:f,parentNode:p,nextSibling:h,setScopeId:m=gt,cloneNode:x,insertStaticContent:b}=e,T=(d,_,P,M=null,$=null,G=null,E=!1,y=null,S=!!_.dynamicChildren)=>{if(d===_)return;d&&!en(d,_)&&(M=X(d),je(d,$,G,!0),d=null),_.patchFlag===-2&&(S=!1,_.dynamicChildren=null);const{type:C,ref:F,shapeFlag:B}=_;switch(C){case ai:w(d,_,P,M);break;case ft:g(d,_,P,M);break;case ws:d==null&&v(_,P,M,E);break;case pe:q(d,_,P,M,$,G,E,y,S);break;default:B&1?O(d,_,P,M,$,G,E,y,S):B&6?ve(d,_,P,M,$,G,E,y,S):(B&64||B&128)&&C.process(d,_,P,M,$,G,E,y,S,ye)}F!=null&&$&&To(F,d&&d.ref,G,_||d,!_)},w=(d,_,P,M)=>{if(d==null)s(_.el=r(_.children),P,M);else{const $=_.el=d.el;_.children!==d.children&&u($,_.children)}},g=(d,_,P,M)=>{d==null?s(_.el=c(_.children||""),P,M):_.el=d.el},v=(d,_,P,M)=>{[d.el,d.anchor]=b(d.children,_,P,M,d.el,d.anchor)},k=({el:d,anchor:_},P,M)=>{let $;for(;d&&d!==_;)$=h(d),s(d,P,M),d=$;s(_,P,M)},U=({el:d,anchor:_})=>{let P;for(;d&&d!==_;)P=h(d),o(d),d=P;o(_)},O=(d,_,P,M,$,G,E,y,S)=>{E=E||_.type==="svg",d==null?K(_,P,M,$,G,E,y,S):Q(d,_,$,G,E,y,S)},K=(d,_,P,M,$,G,E,y)=>{let S,C;const{type:F,props:B,shapeFlag:V,transition:J,patchFlag:ce,dirs:Te}=d;if(d.el&&x!==void 0&&ce===-1)S=d.el=x(d.el);else{if(S=d.el=l(d.type,G,B&&B.is,B),V&8?f(S,d.children):V&16&&se(d.children,S,null,M,$,G&&F!=="foreignObject",E,y),Te&&Zt(d,null,M,"created"),B){for(const Se in B)Se!=="value"&&!ms(Se)&&i(S,Se,null,B[Se],G,d.children,M,$,W);"value"in B&&i(S,"value",null,B.value),(C=B.onVnodeBeforeMount)&&yt(C,M,d)}H(S,d,d.scopeId,E,M)}Te&&Zt(d,null,M,"beforeMount");const Ce=(!$||$&&!$.pendingBranch)&&J&&!J.persisted;Ce&&J.beforeEnter(S),s(S,_,P),((C=B&&B.onVnodeMounted)||Ce||Te)&&nt(()=>{C&&yt(C,M,d),Ce&&J.enter(S),Te&&Zt(d,null,M,"mounted")},$)},H=(d,_,P,M,$)=>{if(P&&m(d,P),M)for(let G=0;G<M.length;G++)m(d,M[G]);if($){let G=$.subTree;if(_===G){const E=$.vnode;H(d,E,E.scopeId,E.slotScopeIds,$.parent)}}},se=(d,_,P,M,$,G,E,y,S=0)=>{for(let C=S;C<d.length;C++){const F=d[C]=y?Bt(d[C]):bt(d[C]);T(null,F,_,P,M,$,G,E,y)}},Q=(d,_,P,M,$,G,E)=>{const y=_.el=d.el;let{patchFlag:S,dynamicChildren:C,dirs:F}=_;S|=d.patchFlag&16;const B=d.props||Re,V=_.props||Re;let J;P&&qt(P,!1),(J=V.onVnodeBeforeUpdate)&&yt(J,P,_,d),F&&Zt(_,d,P,"beforeUpdate"),P&&qt(P,!0);const ce=$&&_.type!=="foreignObject";if(C?Y(d.dynamicChildren,C,y,P,M,ce,G):E||ze(d,_,y,null,P,M,ce,G,!1),S>0){if(S&16)z(y,_,B,V,P,M,$);else if(S&2&&B.class!==V.class&&i(y,"class",null,V.class,$),S&4&&i(y,"style",B.style,V.style,$),S&8){const Te=_.dynamicProps;for(let Ce=0;Ce<Te.length;Ce++){const Se=Te[Ce],tt=B[Se],mt=V[Se];(mt!==tt||Se==="value")&&i(y,Se,tt,mt,$,d.children,P,M,W)}}S&1&&d.children!==_.children&&f(y,_.children)}else!E&&C==null&&z(y,_,B,V,P,M,$);((J=V.onVnodeUpdated)||F)&&nt(()=>{J&&yt(J,P,_,d),F&&Zt(_,d,P,"updated")},M)},Y=(d,_,P,M,$,G,E)=>{for(let y=0;y<_.length;y++){const S=d[y],C=_[y],F=S.el&&(S.type===pe||!en(S,C)||S.shapeFlag&70)?p(S.el):P;T(S,C,F,null,M,$,G,E,!0)}},z=(d,_,P,M,$,G,E)=>{if(P!==M){for(const y in M){if(ms(y))continue;const S=M[y],C=P[y];S!==C&&y!=="value"&&i(d,y,C,S,E,_.children,$,G,W)}if(P!==Re)for(const y in P)!ms(y)&&!(y in M)&&i(d,y,P[y],null,E,_.children,$,G,W);"value"in M&&i(d,"value",P.value,M.value)}},q=(d,_,P,M,$,G,E,y,S)=>{const C=_.el=d?d.el:r(""),F=_.anchor=d?d.anchor:r("");let{patchFlag:B,dynamicChildren:V,slotScopeIds:J}=_;J&&(y=y?y.concat(J):J),d==null?(s(C,P,M),s(F,P,M),se(_.children,P,F,$,G,E,y,S)):B>0&&B&64&&V&&d.dynamicChildren?(Y(d.dynamicChildren,V,P,$,G,E,y),(_.key!=null||$&&_===$.subTree)&&Mr(d,_,!0)):ze(d,_,P,F,$,G,E,y,S)},ve=(d,_,P,M,$,G,E,y,S)=>{_.slotScopeIds=y,d==null?_.shapeFlag&512?$.ctx.activate(_,P,M,E,S):$e(_,P,M,$,G,E,S):fe(d,_,S)},$e=(d,_,P,M,$,G,E)=>{const y=d.component=xu(d,M,$);if(js(d)&&(y.ctx.renderer=ye),Au(y),y.asyncDep){if($&&$.registerDep(y,le),!d.el){const S=y.subTree=N(ft);g(null,S,_,P)}return}le(y,d,_,P,$,G,E)},fe=(d,_,P)=>{const M=_.component=d.component;if(Lc(d,_,P))if(M.asyncDep&&!M.asyncResolved){xe(M,_,P);return}else M.next=_,Rc(M.update),M.update();else _.el=d.el,M.vnode=_},le=(d,_,P,M,$,G,E)=>{const y=()=>{if(d.isMounted){let{next:F,bu:B,u:V,parent:J,vnode:ce}=d,Te=F,Ce;qt(d,!1),F?(F.el=ce.el,xe(d,F,E)):F=ce,B&&vs(B),(Ce=F.props&&F.props.onVnodeBeforeUpdate)&&yt(Ce,J,F,ce),qt(d,!0);const Se=to(d),tt=d.subTree;d.subTree=Se,T(tt,Se,p(tt.el),X(tt),d,$,G),F.el=Se.el,Te===null&&Ic(d,Se.el),V&&nt(V,$),(Ce=F.props&&F.props.onVnodeUpdated)&&nt(()=>yt(Ce,J,F,ce),$)}else{let F;const{el:B,props:V}=_,{bm:J,m:ce,parent:Te}=d,Ce=Wn(_);if(qt(d,!1),J&&vs(J),!Ce&&(F=V&&V.onVnodeBeforeMount)&&yt(F,Te,_),qt(d,!0),B&&ie){const Se=()=>{d.subTree=to(d),ie(B,d.subTree,d,$,null)};Ce?_.type.__asyncLoader().then(()=>!d.isUnmounted&&Se()):Se()}else{const Se=d.subTree=to(d);T(null,Se,P,M,d,$,G),_.el=Se.el}if(ce&&nt(ce,$),!Ce&&(F=V&&V.onVnodeMounted)){const Se=_;nt(()=>yt(F,Te,Se),$)}(_.shapeFlag&256||Te&&Wn(Te.vnode)&&Te.vnode.shapeFlag&256)&&d.a&&nt(d.a,$),d.isMounted=!0,_=P=M=null}},S=d.effect=new Qo(y,()=>fr(C),d.scope),C=d.update=()=>S.run();C.id=d.uid,qt(d,!0),C()},xe=(d,_,P)=>{_.component=d;const M=d.vnode.props;d.vnode=_,d.next=null,cu(d,_.props,M,P),du(d,_.children,P),kn(),Hs(void 0,d.update),Nn()},ze=(d,_,P,M,$,G,E,y,S=!1)=>{const C=d&&d.children,F=d?d.shapeFlag:0,B=_.children,{patchFlag:V,shapeFlag:J}=_;if(V>0){if(V&128){st(C,B,P,M,$,G,E,y,S);return}else if(V&256){xt(C,B,P,M,$,G,E,y,S);return}}J&8?(F&16&&W(C,$,G),B!==C&&f(P,B)):F&16?J&16?st(C,B,P,M,$,G,E,y,S):W(C,$,G,!0):(F&8&&f(P,""),J&16&&se(B,P,M,$,G,E,y,S))},xt=(d,_,P,M,$,G,E,y,S)=>{d=d||wn,_=_||wn;const C=d.length,F=_.length,B=Math.min(C,F);let V;for(V=0;V<B;V++){const J=_[V]=S?Bt(_[V]):bt(_[V]);T(d[V],J,P,null,$,G,E,y,S)}C>F?W(d,$,G,!0,!1,B):se(_,P,M,$,G,E,y,S,B)},st=(d,_,P,M,$,G,E,y,S)=>{let C=0;const F=_.length;let B=d.length-1,V=F-1;for(;C<=B&&C<=V;){const J=d[C],ce=_[C]=S?Bt(_[C]):bt(_[C]);if(en(J,ce))T(J,ce,P,null,$,G,E,y,S);else break;C++}for(;C<=B&&C<=V;){const J=d[B],ce=_[V]=S?Bt(_[V]):bt(_[V]);if(en(J,ce))T(J,ce,P,null,$,G,E,y,S);else break;B--,V--}if(C>B){if(C<=V){const J=V+1,ce=J<F?_[J].el:M;for(;C<=V;)T(null,_[C]=S?Bt(_[C]):bt(_[C]),P,ce,$,G,E,y,S),C++}}else if(C>V)for(;C<=B;)je(d[C],$,G,!0),C++;else{const J=C,ce=C,Te=new Map;for(C=ce;C<=V;C++){const it=_[C]=S?Bt(_[C]):bt(_[C]);it.key!=null&&Te.set(it.key,C)}let Ce,Se=0;const tt=V-ce+1;let mt=!1,Ui=0;const Mn=new Array(tt);for(C=0;C<tt;C++)Mn[C]=0;for(C=J;C<=B;C++){const it=d[C];if(Se>=tt){je(it,$,G,!0);continue}let vt;if(it.key!=null)vt=Te.get(it.key);else for(Ce=ce;Ce<=V;Ce++)if(Mn[Ce-ce]===0&&en(it,_[Ce])){vt=Ce;break}vt===void 0?je(it,$,G,!0):(Mn[vt-ce]=C+1,vt>=Ui?Ui=vt:mt=!0,T(it,_[vt],P,null,$,G,E,y,S),Se++)}const Li=mt?mu(Mn):wn;for(Ce=Li.length-1,C=tt-1;C>=0;C--){const it=ce+C,vt=_[it],Ii=it+1<F?_[it+1].el:M;Mn[C]===0?T(null,vt,P,Ii,$,G,E,y,S):mt&&(Ce<0||C!==Li[Ce]?ot(vt,P,Ii,2):Ce--)}}},ot=(d,_,P,M,$=null)=>{const{el:G,type:E,transition:y,children:S,shapeFlag:C}=d;if(C&6){ot(d.component.subTree,_,P,M);return}if(C&128){d.suspense.move(_,P,M);return}if(C&64){E.move(d,_,P,ye);return}if(E===pe){s(G,_,P);for(let B=0;B<S.length;B++)ot(S[B],_,P,M);s(d.anchor,_,P);return}if(E===ws){k(d,_,P);return}if(M!==2&&C&1&&y)if(M===0)y.beforeEnter(G),s(G,_,P),nt(()=>y.enter(G),$);else{const{leave:B,delayLeave:V,afterLeave:J}=y,ce=()=>s(G,_,P),Te=()=>{B(G,()=>{ce(),J&&J()})};V?V(G,ce,Te):Te()}else s(G,_,P)},je=(d,_,P,M=!1,$=!1)=>{const{type:G,props:E,ref:y,children:S,dynamicChildren:C,shapeFlag:F,patchFlag:B,dirs:V}=d;if(y!=null&&To(y,null,P,d,!0),F&256){_.ctx.deactivate(d);return}const J=F&1&&V,ce=!Wn(d);let Te;if(ce&&(Te=E&&E.onVnodeBeforeUnmount)&&yt(Te,_,d),F&6)Z(d.component,P,M);else{if(F&128){d.suspense.unmount(P,M);return}J&&Zt(d,null,_,"beforeUnmount"),F&64?d.type.remove(d,_,P,$,ye,M):C&&(G!==pe||B>0&&B&64)?W(C,_,P,!1,!0):(G===pe&&B&384||!$&&F&16)&&W(S,_,P),M&&Be(d)}(ce&&(Te=E&&E.onVnodeUnmounted)||J)&&nt(()=>{Te&&yt(Te,_,d),J&&Zt(d,null,_,"unmounted")},P)},Be=d=>{const{type:_,el:P,anchor:M,transition:$}=d;if(_===pe){R(P,M);return}if(_===ws){U(d);return}const G=()=>{o(P),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(d.shapeFlag&1&&$&&!$.persisted){const{leave:E,delayLeave:y}=$,S=()=>E(P,G);y?y(d.el,G,S):S()}else G()},R=(d,_)=>{let P;for(;d!==_;)P=h(d),o(d),d=P;o(_)},Z=(d,_,P)=>{const{bum:M,scope:$,update:G,subTree:E,um:y}=d;M&&vs(M),$.stop(),G&&(G.active=!1,je(E,d,_,P)),y&&nt(y,_),nt(()=>{d.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},W=(d,_,P,M=!1,$=!1,G=0)=>{for(let E=G;E<d.length;E++)je(d[E],_,P,M,$)},X=d=>d.shapeFlag&6?X(d.component.subTree):d.shapeFlag&128?d.suspense.next():h(d.anchor||d.el),Pe=(d,_,P)=>{d==null?_._vnode&&je(_._vnode,null,null,!0):T(_._vnode||null,d,_,null,null,null,P),pr(),_._vnode=d},ye={p:T,um:je,m:ot,r:Be,mt:$e,mc:se,pc:ze,pbc:Y,n:X,o:e};let ae,ie;return t&&([ae,ie]=t(ye)),{render:Pe,hydrate:ae,createApp:pu(Pe,ae)}}function qt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Mr(e,t,n=!1){const s=e.children,o=t.children;if(te(s)&&te(o))for(let i=0;i<s.length;i++){const l=s[i];let r=o[i];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=o[i]=Bt(o[i]),r.el=l.el),n||Mr(l,r))}}function mu(e){const t=e.slice(),n=[0];let s,o,i,l,r;const c=e.length;for(s=0;s<c;s++){const u=e[s];if(u!==0){if(o=n[n.length-1],e[o]<u){t[s]=o,n.push(s);continue}for(i=0,l=n.length-1;i<l;)r=i+l>>1,e[n[r]]<u?i=r+1:l=r;u<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,l=n[i-1];i-- >0;)n[i]=l,l=t[l];return n}const vu=e=>e.__isTeleport,pe=Symbol(void 0),ai=Symbol(void 0),ft=Symbol(void 0),ws=Symbol(void 0),jn=[];let pt=null;function A(e=!1){jn.push(pt=e?null:[])}function yu(){jn.pop(),pt=jn[jn.length-1]||null}let ts=1;function sl(e){ts+=e}function Ur(e){return e.dynamicChildren=ts>0?pt||wn:null,yu(),ts>0&&pt&&pt.push(e),e}function L(e,t,n,s,o,i){return Ur(a(e,t,n,s,o,i,!0))}function we(e,t,n,s,o){return Ur(N(e,t,n,s,o,!0))}function ks(e){return e?e.__v_isVNode===!0:!1}function en(e,t){return e.type===t.type&&e.key===t.key}const Ys="__vInternal",Lr=({key:e})=>e!=null?e:null,Es=({ref:e,ref_key:t,ref_for:n})=>e!=null?He(e)||Ye(e)||re(e)?{i:qe,r:e,k:t,f:!!n}:e:null;function a(e,t=null,n=null,s=0,o=null,i=e===pe?0:1,l=!1,r=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Lr(t),ref:t&&Es(t),scopeId:mr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null};return r?(ci(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=He(n)?8:16),ts>0&&!l&&pt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&pt.push(c),c}const N=wu;function wu(e,t=null,n=null,s=0,o=null,i=!1){if((!e||e===eu)&&(e=ft),ks(e)){const r=Kt(e,t,!0);return n&&ci(r,n),ts>0&&!i&&pt&&(r.shapeFlag&6?pt[pt.indexOf(e)]=r:pt.push(r)),r.patchFlag|=-2,r}if($u(e)&&(e=e.__vccOpts),t){t=Eu(t);let{class:r,style:c}=t;r&&!He(r)&&(t.class=Pt(r)),Ve(c)&&(or(c)&&!te(c)&&(c=Xe({},c)),t.style=Nt(c))}const l=He(e)?1:Dc(e)?128:vu(e)?64:Ve(e)?4:re(e)?2:0;return a(e,t,n,s,o,l,i,!0)}function Eu(e){return e?or(e)||Ys in e?Xe({},e):e:null}function Kt(e,t,n=!1){const{props:s,ref:o,patchFlag:i,children:l}=e,r=t?Pu(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:r,key:r&&Lr(r),ref:t&&t.ref?n&&o?te(o)?o.concat(Es(t)):[o,Es(t)]:Es(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==pe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Kt(e.ssContent),ssFallback:e.ssFallback&&Kt(e.ssFallback),el:e.el,anchor:e.anchor}}function D(e=" ",t=0){return N(ai,null,e,t)}function bu(e,t){const n=N(ws,null,e);return n.staticCount=t,n}function oe(e="",t=!1){return t?(A(),we(ft,null,e)):N(ft,null,e)}function bt(e){return e==null||typeof e=="boolean"?N(ft):te(e)?N(pe,null,e.slice()):typeof e=="object"?Bt(e):N(ai,null,String(e))}function Bt(e){return e.el===null||e.memo?e:Kt(e)}function ci(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(te(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),ci(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Ys in t)?t._ctx=qe:o===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else re(t)?(t={default:t,_ctx:qe},n=32):(t=String(t),s&64?(n=16,t=[D(t)]):n=8);e.children=t,e.shapeFlag|=n}function Pu(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=Pt([t.class,s.class]));else if(o==="style")t.style=Nt([t.style,s.style]);else if(Vs(o)){const i=t[o],l=s[o];l&&i!==l&&!(te(i)&&i.includes(l))&&(t[o]=i?[].concat(i,l):l)}else o!==""&&(t[o]=s[o])}return t}function yt(e,t,n,s=null){ut(e,t,7,[n,s])}const Tu=$r();let Cu=0;function xu(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||Tu,i={uid:Cu++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new ja(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Or(s,o),emitsOptions:_r(s,o),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:s.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=$c.bind(null,i),e.ce&&e.ce(i),i}let Fe=null;const Su=()=>Fe||qe,Cn=e=>{Fe=e,e.scope.on()},ln=()=>{Fe&&Fe.scope.off(),Fe=null};function Ir(e){return e.vnode.shapeFlag&4}let ns=!1;function Au(e,t=!1){ns=t;const{props:n,children:s}=e.vnode,o=Ir(e);au(e,n,o,t),fu(e,s);const i=o?Ou(e,t):void 0;return ns=!1,i}function Ou(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ir(new Proxy(e.ctx,nu));const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?ku(e):null;Cn(e),kn();const i=Wt(s,e,0,[e.props,o]);if(Nn(),ln(),Hl(i)){if(i.then(ln,ln),t)return i.then(l=>{ol(e,l,t)}).catch(l=>{Fs(l,e,0)});e.asyncDep=i}else ol(e,i,t)}else Dr(e,t)}function ol(e,t,n){re(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ve(t)&&(e.setupState=cr(t)),Dr(e,n)}let il;function Dr(e,t,n){const s=e.type;if(!e.render){if(!t&&il&&!s.render){const o=s.template;if(o){const{isCustomElement:i,compilerOptions:l}=e.appContext.config,{delimiters:r,compilerOptions:c}=s,u=Xe(Xe({isCustomElement:i,delimiters:r},l),c);s.render=il(o,u)}}e.render=s.render||gt}Cn(e),kn(),su(e),Nn(),ln()}function Ru(e){return new Proxy(e.attrs,{get(t,n){return rt(e,"get","$attrs"),t[n]}})}function ku(e){const t=s=>{e.exposed=s||{}};let n;return{get attrs(){return n||(n=Ru(e))},slots:e.slots,emit:e.emit,expose:t}}function Zs(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(cr(ir(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Os)return Os[n](e)}}))}function Nu(e,t=!0){return re(e)?e.displayName||e.name:e.name||t&&e.__name}function $u(e){return re(e)&&"__vccOpts"in e}const he=(e,t)=>Sc(e,t,ns);function Vr(e,t,n){const s=arguments.length;return s===2?Ve(t)&&!te(t)?ks(t)?N(e,null,[t]):N(e,t):N(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ks(n)&&(n=[n]),N(e,t,n))}const Mu="3.2.37",Uu="http://www.w3.org/2000/svg",tn=typeof document!="undefined"?document:null,ll=tn&&tn.createElement("template"),Lu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t?tn.createElementNS(Uu,e):tn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>tn.createTextNode(e),createComment:e=>tn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>tn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,s,o,i){const l=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{ll.innerHTML=s?`<svg>${e}</svg>`:e;const r=ll.content;if(s){const c=r.firstChild;for(;c.firstChild;)r.appendChild(c.firstChild);r.removeChild(c)}t.insertBefore(r,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Iu(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Du(e,t,n){const s=e.style,o=He(n);if(n&&!o){for(const i in n)Co(s,i,n[i]);if(t&&!He(t))for(const i in t)n[i]==null&&Co(s,i,"")}else{const i=s.display;o?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=i)}}const rl=/\s*!important$/;function Co(e,t,n){if(te(n))n.forEach(s=>Co(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Vu(e,t);rl.test(n)?e.setProperty(fn(s),n.replace(rl,""),"important"):e[s]=n}}const al=["Webkit","Moz","ms"],so={};function Vu(e,t){const n=so[t];if(n)return n;let s=Ct(t);if(s!=="filter"&&s in e)return so[t]=s;s=zs(s);for(let o=0;o<al.length;o++){const i=al[o]+s;if(i in e)return so[t]=i}return t}const cl="http://www.w3.org/1999/xlink";function Bu(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(cl,t.slice(6,t.length)):e.setAttributeNS(cl,t,n);else{const i=Ma(t);n==null||i&&!Gl(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function zu(e,t,n,s,o,i,l){if(t==="innerHTML"||t==="textContent"){s&&l(s,o,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const c=n==null?"":n;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),n==null&&e.removeAttribute(t);return}let r=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Gl(n):n==null&&c==="string"?(n="",r=!0):c==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(t)}const[Br,Gu]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let xo=0;const Fu=Promise.resolve(),Hu=()=>{xo=0},Wu=()=>xo||(Fu.then(Hu),xo=Br());function Ot(e,t,n,s){e.addEventListener(t,n,s)}function ju(e,t,n,s){e.removeEventListener(t,n,s)}function Ku(e,t,n,s,o=null){const i=e._vei||(e._vei={}),l=i[t];if(s&&l)l.value=s;else{const[r,c]=Yu(t);if(s){const u=i[t]=Zu(s,o);Ot(e,r,u,c)}else l&&(ju(e,r,l,c),i[t]=void 0)}}const ul=/(?:Once|Passive|Capture)$/;function Yu(e){let t;if(ul.test(e)){t={};let n;for(;n=e.match(ul);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[fn(e.slice(2)),t]}function Zu(e,t){const n=s=>{const o=s.timeStamp||Br();(Gu||o>=n.attached-1)&&ut(qu(s,n.value),t,5,[s])};return n.value=e,n.attached=Wu(),n}function qu(e,t){if(te(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const fl=/^on[a-z]/,Xu=(e,t,n,s,o=!1,i,l,r,c)=>{t==="class"?Iu(e,s,o):t==="style"?Du(e,n,s):Vs(t)?Yo(t)||Ku(e,t,n,s,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Qu(e,t,s,o))?zu(e,t,s,i,l,r,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Bu(e,t,s,o))};function Qu(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&fl.test(t)&&re(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||fl.test(t)&&He(n)?!1:t in e}const Ju={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Fc.props;const Yt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return te(t)?n=>vs(t,n):t};function ef(e){e.target.composing=!0}function dl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const kt={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e._assign=Yt(o);const i=s||o.props&&o.props.type==="number";Ot(e,t?"change":"input",l=>{if(l.target.composing)return;let r=e.value;n&&(r=r.trim()),i&&(r=xs(r)),e._assign(r)}),n&&Ot(e,"change",()=>{e.value=e.value.trim()}),t||(Ot(e,"compositionstart",ef),Ot(e,"compositionend",dl),Ot(e,"change",dl))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},i){if(e._assign=Yt(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===t||(o||e.type==="number")&&xs(e.value)===t))return;const l=t==null?"":t;e.value!==l&&(e.value=l)}},nn={deep:!0,created(e,t,n){e._assign=Yt(n),Ot(e,"change",()=>{const s=e._modelValue,o=xn(e),i=e.checked,l=e._assign;if(te(s)){const r=Ko(s,o),c=r!==-1;if(i&&!c)l(s.concat(o));else if(!i&&c){const u=[...s];u.splice(r,1),l(u)}}else if(Rn(s)){const r=new Set(s);i?r.add(o):r.delete(o),l(r)}else l(zr(e,i))})},mounted:hl,beforeUpdate(e,t,n){e._assign=Yt(n),hl(e,t,n)}};function hl(e,{value:t,oldValue:n},s){e._modelValue=t,te(t)?e.checked=Ko(t,s.props.value)>-1:Rn(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=cn(t,zr(e,!0)))}const Et={created(e,{value:t},n){e.checked=cn(t,n.props.value),e._assign=Yt(n),Ot(e,"change",()=>{e._assign(xn(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e._assign=Yt(s),t!==n&&(e.checked=cn(t,s.props.value))}},tf={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const o=Rn(t);Ot(e,"change",()=>{const i=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?xs(xn(l)):xn(l));e._assign(e.multiple?o?new Set(i):i:i[0])}),e._assign=Yt(s)},mounted(e,{value:t}){pl(e,t)},beforeUpdate(e,t,n){e._assign=Yt(n)},updated(e,{value:t}){pl(e,t)}};function pl(e,t){const n=e.multiple;if(!(n&&!te(t)&&!Rn(t))){for(let s=0,o=e.options.length;s<o;s++){const i=e.options[s],l=xn(i);if(n)te(t)?i.selected=Ko(t,l)>-1:i.selected=t.has(l);else if(cn(xn(i),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function xn(e){return"_value"in e?e._value:e.value}function zr(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const nf=["ctrl","shift","alt","meta"],sf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>nf.some(n=>e[`${n}Key`]&&!t.includes(n))},Ns=(e,t)=>(n,...s)=>{for(let o=0;o<t.length;o++){const i=sf[t[o]];if(i&&i(n,t))return}return e(n,...s)},of={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},So=(e,t)=>n=>{if(!("key"in n))return;const s=fn(n.key);if(t.some(o=>o===s||of[o]===s))return e(n)},Gr={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Un(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Un(e,!0),s.enter(e)):s.leave(e,()=>{Un(e,!1)}):Un(e,t))},beforeUnmount(e,{value:t}){Un(e,t)}};function Un(e,t){e.style.display=t?e._vod:"none"}const lf=Xe({patchProp:Xu},Lu);let gl;function rf(){return gl||(gl=gu(lf))}const af=(...e)=>{const t=rf().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=cf(s);if(!o)return;const i=t._component;!re(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const l=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},t};function cf(e){return He(e)?document.querySelector(e):e}/*!
  * vue-router v4.1.2
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const _n=typeof window!="undefined";function uf(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Oe=Object.assign;function oo(e,t){const n={};for(const s in t){const o=t[s];n[s]=_t(o)?o.map(e):e(o)}return n}const Kn=()=>{},_t=Array.isArray,ff=/\/$/,df=e=>e.replace(ff,"");function io(e,t,n="/"){let s,o={},i="",l="";const r=t.indexOf("#");let c=t.indexOf("?");return r<c&&r>=0&&(c=-1),c>-1&&(s=t.slice(0,c),i=t.slice(c+1,r>-1?r:t.length),o=e(i)),r>-1&&(s=s||t.slice(0,r),l=t.slice(r,t.length)),s=_f(s!=null?s:t,n),{fullPath:s+(i&&"?")+i+l,path:s,query:o,hash:l}}function hf(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function _l(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function pf(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&Sn(t.matched[s],n.matched[o])&&Fr(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Sn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Fr(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!gf(e[n],t[n]))return!1;return!0}function gf(e,t){return _t(e)?ml(e,t):_t(t)?ml(t,e):e===t}function ml(e,t){return _t(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function _f(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/");let o=n.length-1,i,l;for(i=0;i<s.length;i++)if(l=s[i],l!==".")if(l==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var ss;(function(e){e.pop="pop",e.push="push"})(ss||(ss={}));var Yn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Yn||(Yn={}));function mf(e){if(!e)if(_n){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),df(e)}const vf=/^[^#]+#/;function yf(e,t){return e.replace(vf,"#")+t}function wf(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const qs=()=>({left:window.pageXOffset,top:window.pageYOffset});function Ef(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=wf(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function vl(e,t){return(history.state?history.state.position-t:-1)+e}const Ao=new Map;function bf(e,t){Ao.set(e,t)}function Pf(e){const t=Ao.get(e);return Ao.delete(e),t}let Tf=()=>location.protocol+"//"+location.host;function Hr(e,t){const{pathname:n,search:s,hash:o}=t,i=e.indexOf("#");if(i>-1){let r=o.includes(e.slice(i))?e.slice(i).length:1,c=o.slice(r);return c[0]!=="/"&&(c="/"+c),_l(c,"")}return _l(n,e)+s+o}function Cf(e,t,n,s){let o=[],i=[],l=null;const r=({state:h})=>{const m=Hr(e,location),x=n.value,b=t.value;let T=0;if(h){if(n.value=m,t.value=h,l&&l===x){l=null;return}T=b?h.position-b.position:0}else s(m);o.forEach(w=>{w(n.value,x,{delta:T,type:ss.pop,direction:T?T>0?Yn.forward:Yn.back:Yn.unknown})})};function c(){l=n.value}function u(h){o.push(h);const m=()=>{const x=o.indexOf(h);x>-1&&o.splice(x,1)};return i.push(m),m}function f(){const{history:h}=window;!h.state||h.replaceState(Oe({},h.state,{scroll:qs()}),"")}function p(){for(const h of i)h();i=[],window.removeEventListener("popstate",r),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",r),window.addEventListener("beforeunload",f),{pauseListeners:c,listen:u,destroy:p}}function yl(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?qs():null}}function xf(e){const{history:t,location:n}=window,s={value:Hr(e,n)},o={value:t.state};o.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,u,f){const p=e.indexOf("#"),h=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:Tf()+e+c;try{t[f?"replaceState":"pushState"](u,"",h),o.value=u}catch(m){console.error(m),n[f?"replace":"assign"](h)}}function l(c,u){const f=Oe({},t.state,yl(o.value.back,c,o.value.forward,!0),u,{position:o.value.position});i(c,f,!0),s.value=c}function r(c,u){const f=Oe({},o.value,t.state,{forward:c,scroll:qs()});i(f.current,f,!0);const p=Oe({},yl(s.value,c,null),{position:f.position+1},u);i(c,p,!1),s.value=c}return{location:s,state:o,push:r,replace:l}}function Sf(e){e=mf(e);const t=xf(e),n=Cf(e,t.state,t.location,t.replace);function s(i,l=!0){l||n.pauseListeners(),history.go(i)}const o=Oe({location:"",base:e,go:s,createHref:yf.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Af(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Sf(e)}function Of(e){return typeof e=="string"||e&&typeof e=="object"}function Wr(e){return typeof e=="string"||typeof e=="symbol"}const Lt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},jr=Symbol("");var wl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(wl||(wl={}));function An(e,t){return Oe(new Error,{type:e,[jr]:!0},t)}function It(e,t){return e instanceof Error&&jr in e&&(t==null||!!(e.type&t))}const El="[^/]+?",Rf={sensitive:!1,strict:!1,start:!0,end:!0},kf=/[.+*?^${}()[\]/\\]/g;function Nf(e,t){const n=Oe({},Rf,t),s=[];let o=n.start?"^":"";const i=[];for(const u of e){const f=u.length?[]:[90];n.strict&&!u.length&&(o+="/");for(let p=0;p<u.length;p++){const h=u[p];let m=40+(n.sensitive?.25:0);if(h.type===0)p||(o+="/"),o+=h.value.replace(kf,"\\$&"),m+=40;else if(h.type===1){const{value:x,repeatable:b,optional:T,regexp:w}=h;i.push({name:x,repeatable:b,optional:T});const g=w||El;if(g!==El){m+=10;try{new RegExp(`(${g})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${x}" (${g}): `+k.message)}}let v=b?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;p||(v=T&&u.length<2?`(?:/${v})`:"/"+v),T&&(v+="?"),o+=v,m+=20,T&&(m+=-8),b&&(m+=-20),g===".*"&&(m+=-50)}f.push(m)}s.push(f)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const l=new RegExp(o,n.sensitive?"":"i");function r(u){const f=u.match(l),p={};if(!f)return null;for(let h=1;h<f.length;h++){const m=f[h]||"",x=i[h-1];p[x.name]=m&&x.repeatable?m.split("/"):m}return p}function c(u){let f="",p=!1;for(const h of e){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const m of h)if(m.type===0)f+=m.value;else if(m.type===1){const{value:x,repeatable:b,optional:T}=m,w=x in u?u[x]:"";if(_t(w)&&!b)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const g=_t(w)?w.join("/"):w;if(!g)if(T)h.length<2&&e.length>1&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${x}"`);f+=g}}return f}return{re:l,score:s,keys:i,parse:r,stringify:c}}function $f(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Mf(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const i=$f(s[n],o[n]);if(i)return i;n++}if(Math.abs(o.length-s.length)===1){if(bl(s))return 1;if(bl(o))return-1}return o.length-s.length}function bl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Uf={type:0,value:""},Lf=/[a-zA-Z0-9_]/;function If(e){if(!e)return[[]];if(e==="/")return[[Uf]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${u}": ${m}`)}let n=0,s=n;const o=[];let i;function l(){i&&o.push(i),i=[]}let r=0,c,u="",f="";function p(){!u||(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:f,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=c}for(;r<e.length;){if(c=e[r++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(u&&p(),l()):c===":"?(p(),n=1):h();break;case 4:h(),n=s;break;case 1:c==="("?n=2:Lf.test(c)?h():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&r--);break;case 2:c===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+c:n=3:f+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&r--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),p(),l(),o}function Df(e,t,n){const s=Nf(If(e.path),n),o=Oe(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Vf(e,t){const n=[],s=new Map;t=Tl({strict:!1,end:!0,sensitive:!1},t);function o(f){return s.get(f)}function i(f,p,h){const m=!h,x=zf(f);x.aliasOf=h&&h.record;const b=Tl(t,f),T=[x];if("alias"in f){const v=typeof f.alias=="string"?[f.alias]:f.alias;for(const k of v)T.push(Oe({},x,{components:h?h.record.components:x.components,path:k,aliasOf:h?h.record:x}))}let w,g;for(const v of T){const{path:k}=v;if(p&&k[0]!=="/"){const U=p.record.path,O=U[U.length-1]==="/"?"":"/";v.path=p.record.path+(k&&O+k)}if(w=Df(v,p,b),h?h.alias.push(w):(g=g||w,g!==w&&g.alias.push(w),m&&f.name&&!Pl(w)&&l(f.name)),x.children){const U=x.children;for(let O=0;O<U.length;O++)i(U[O],w,h&&h.children[O])}h=h||w,c(w)}return g?()=>{l(g)}:Kn}function l(f){if(Wr(f)){const p=s.get(f);p&&(s.delete(f),n.splice(n.indexOf(p),1),p.children.forEach(l),p.alias.forEach(l))}else{const p=n.indexOf(f);p>-1&&(n.splice(p,1),f.record.name&&s.delete(f.record.name),f.children.forEach(l),f.alias.forEach(l))}}function r(){return n}function c(f){let p=0;for(;p<n.length&&Mf(f,n[p])>=0&&(f.record.path!==n[p].record.path||!Kr(f,n[p]));)p++;n.splice(p,0,f),f.record.name&&!Pl(f)&&s.set(f.record.name,f)}function u(f,p){let h,m={},x,b;if("name"in f&&f.name){if(h=s.get(f.name),!h)throw An(1,{location:f});b=h.record.name,m=Oe(Bf(p.params,h.keys.filter(g=>!g.optional).map(g=>g.name)),f.params),x=h.stringify(m)}else if("path"in f)x=f.path,h=n.find(g=>g.re.test(x)),h&&(m=h.parse(x),b=h.record.name);else{if(h=p.name?s.get(p.name):n.find(g=>g.re.test(p.path)),!h)throw An(1,{location:f,currentLocation:p});b=h.record.name,m=Oe({},p.params,f.params),x=h.stringify(m)}const T=[];let w=h;for(;w;)T.unshift(w.record),w=w.parent;return{name:b,path:x,params:m,matched:T,meta:Ff(T)}}return e.forEach(f=>i(f)),{addRoute:i,resolve:u,removeRoute:l,getRoutes:r,getRecordMatcher:o}}function Bf(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function zf(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Gf(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Gf(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="boolean"?n:n[s];return t}function Pl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ff(e){return e.reduce((t,n)=>Oe(t,n.meta),{})}function Tl(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Kr(e,t){return t.children.some(n=>n===e||Kr(e,n))}const Yr=/#/g,Hf=/&/g,Wf=/\//g,jf=/=/g,Kf=/\?/g,Zr=/\+/g,Yf=/%5B/g,Zf=/%5D/g,qr=/%5E/g,qf=/%60/g,Xr=/%7B/g,Xf=/%7C/g,Qr=/%7D/g,Qf=/%20/g;function ui(e){return encodeURI(""+e).replace(Xf,"|").replace(Yf,"[").replace(Zf,"]")}function Jf(e){return ui(e).replace(Xr,"{").replace(Qr,"}").replace(qr,"^")}function Oo(e){return ui(e).replace(Zr,"%2B").replace(Qf,"+").replace(Yr,"%23").replace(Hf,"%26").replace(qf,"`").replace(Xr,"{").replace(Qr,"}").replace(qr,"^")}function ed(e){return Oo(e).replace(jf,"%3D")}function td(e){return ui(e).replace(Yr,"%23").replace(Kf,"%3F")}function nd(e){return e==null?"":td(e).replace(Wf,"%2F")}function $s(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function sd(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const i=s[o].replace(Zr," "),l=i.indexOf("="),r=$s(l<0?i:i.slice(0,l)),c=l<0?null:$s(i.slice(l+1));if(r in t){let u=t[r];_t(u)||(u=t[r]=[u]),u.push(c)}else t[r]=c}return t}function Cl(e){let t="";for(let n in e){const s=e[n];if(n=ed(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(_t(s)?s.map(i=>i&&Oo(i)):[s&&Oo(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function od(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=_t(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const id=Symbol(""),xl=Symbol(""),Xs=Symbol(""),fi=Symbol(""),Ro=Symbol("");function Ln(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function zt(e,t,n,s,o){const i=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((l,r)=>{const c=p=>{p===!1?r(An(4,{from:n,to:t})):p instanceof Error?r(p):Of(p)?r(An(2,{from:t,to:p})):(i&&s.enterCallbacks[o]===i&&typeof p=="function"&&i.push(p),l())},u=e.call(s&&s.instances[o],t,n,c);let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(p=>r(p))})}function lo(e,t,n,s){const o=[];for(const i of e)for(const l in i.components){let r=i.components[l];if(!(t!=="beforeRouteEnter"&&!i.instances[l]))if(ld(r)){const u=(r.__vccOpts||r)[t];u&&o.push(zt(u,n,s,i,l))}else{let c=r();o.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${i.path}"`));const f=uf(u)?u.default:u;i.components[l]=f;const h=(f.__vccOpts||f)[t];return h&&zt(h,n,s,i,l)()}))}}return o}function ld(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Sl(e){const t=Tt(Xs),n=Tt(fi),s=he(()=>t.resolve(ue(e.to))),o=he(()=>{const{matched:c}=s.value,{length:u}=c,f=c[u-1],p=n.matched;if(!f||!p.length)return-1;const h=p.findIndex(Sn.bind(null,f));if(h>-1)return h;const m=Al(c[u-2]);return u>1&&Al(f)===m&&p[p.length-1].path!==m?p.findIndex(Sn.bind(null,c[u-2])):h}),i=he(()=>o.value>-1&&ud(n.params,s.value.params)),l=he(()=>o.value>-1&&o.value===n.matched.length-1&&Fr(n.params,s.value.params));function r(c={}){return cd(c)?t[ue(e.replace)?"replace":"push"](ue(e.to)).catch(Kn):Promise.resolve()}return{route:s,href:he(()=>s.value.href),isActive:i,isExactActive:l,navigate:r}}const rd=me({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Sl,setup(e,{slots:t}){const n=is(Sl(e)),{options:s}=Tt(Xs),o=he(()=>({[Ol(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ol(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Vr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),ad=rd;function cd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ud(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!_t(o)||o.length!==s.length||s.some((i,l)=>i!==o[l]))return!1}return!0}function Al(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ol=(e,t,n)=>e!=null?e:t!=null?t:n,fd=me({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Tt(Ro),o=he(()=>e.route||s.value),i=Tt(xl,0),l=he(()=>{let u=ue(i);const{matched:f}=o.value;let p;for(;(p=f[u])&&!p.components;)u++;return u}),r=he(()=>o.value.matched[l.value]);ys(xl,he(()=>l.value+1)),ys(id,r),ys(Ro,o);const c=j();return Ge(()=>[c.value,r.value,e.name],([u,f,p],[h,m,x])=>{f&&(f.instances[p]=u,m&&m!==f&&u&&u===h&&(f.leaveGuards.size||(f.leaveGuards=m.leaveGuards),f.updateGuards.size||(f.updateGuards=m.updateGuards))),u&&f&&(!m||!Sn(f,m)||!h)&&(f.enterCallbacks[p]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=o.value,f=r.value,p=f&&f.components[e.name],h=e.name;if(!p)return Rl(n.default,{Component:p,route:u});const m=f.props[e.name],x=m?m===!0?u.params:typeof m=="function"?m(u):m:null,T=Vr(p,Oe({},x,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[h]=null)},ref:c}));return Rl(n.default,{Component:T,route:u})||T}}});function Rl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const dd=fd;function hd(e){const t=Vf(e.routes,e),n=e.parseQuery||sd,s=e.stringifyQuery||Cl,o=e.history,i=Ln(),l=Ln(),r=Ln(),c=wc(Lt);let u=Lt;_n&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=oo.bind(null,R=>""+R),p=oo.bind(null,nd),h=oo.bind(null,$s);function m(R,Z){let W,X;return Wr(R)?(W=t.getRecordMatcher(R),X=Z):X=R,t.addRoute(X,W)}function x(R){const Z=t.getRecordMatcher(R);Z&&t.removeRoute(Z)}function b(){return t.getRoutes().map(R=>R.record)}function T(R){return!!t.getRecordMatcher(R)}function w(R,Z){if(Z=Oe({},Z||c.value),typeof R=="string"){const ie=io(n,R,Z.path),d=t.resolve({path:ie.path},Z),_=o.createHref(ie.fullPath);return Oe(ie,d,{params:h(d.params),hash:$s(ie.hash),redirectedFrom:void 0,href:_})}let W;if("path"in R)W=Oe({},R,{path:io(n,R.path,Z.path).path});else{const ie=Oe({},R.params);for(const d in ie)ie[d]==null&&delete ie[d];W=Oe({},R,{params:p(R.params)}),Z.params=p(Z.params)}const X=t.resolve(W,Z),Pe=R.hash||"";X.params=f(h(X.params));const ye=hf(s,Oe({},R,{hash:Jf(Pe),path:X.path})),ae=o.createHref(ye);return Oe({fullPath:ye,hash:Pe,query:s===Cl?od(R.query):R.query||{}},X,{redirectedFrom:void 0,href:ae})}function g(R){return typeof R=="string"?io(n,R,c.value.path):Oe({},R)}function v(R,Z){if(u!==R)return An(8,{from:Z,to:R})}function k(R){return K(R)}function U(R){return k(Oe(g(R),{replace:!0}))}function O(R){const Z=R.matched[R.matched.length-1];if(Z&&Z.redirect){const{redirect:W}=Z;let X=typeof W=="function"?W(R):W;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=g(X):{path:X},X.params={}),Oe({query:R.query,hash:R.hash,params:"path"in X?{}:R.params},X)}}function K(R,Z){const W=u=w(R),X=c.value,Pe=R.state,ye=R.force,ae=R.replace===!0,ie=O(W);if(ie)return K(Oe(g(ie),{state:Pe,force:ye,replace:ae}),Z||W);const d=W;d.redirectedFrom=Z;let _;return!ye&&pf(s,X,W)&&(_=An(16,{to:d,from:X}),xt(X,X,!0,!1)),(_?Promise.resolve(_):se(d,X)).catch(P=>It(P)?It(P,2)?P:ze(P):le(P,d,X)).then(P=>{if(P){if(It(P,2))return K(Oe(g(P.to),{state:Pe,force:ye,replace:ae}),Z||d)}else P=Y(d,X,!0,ae,Pe);return Q(d,X,P),P})}function H(R,Z){const W=v(R,Z);return W?Promise.reject(W):Promise.resolve()}function se(R,Z){let W;const[X,Pe,ye]=pd(R,Z);W=lo(X.reverse(),"beforeRouteLeave",R,Z);for(const ie of X)ie.leaveGuards.forEach(d=>{W.push(zt(d,R,Z))});const ae=H.bind(null,R,Z);return W.push(ae),hn(W).then(()=>{W=[];for(const ie of i.list())W.push(zt(ie,R,Z));return W.push(ae),hn(W)}).then(()=>{W=lo(Pe,"beforeRouteUpdate",R,Z);for(const ie of Pe)ie.updateGuards.forEach(d=>{W.push(zt(d,R,Z))});return W.push(ae),hn(W)}).then(()=>{W=[];for(const ie of R.matched)if(ie.beforeEnter&&!Z.matched.includes(ie))if(_t(ie.beforeEnter))for(const d of ie.beforeEnter)W.push(zt(d,R,Z));else W.push(zt(ie.beforeEnter,R,Z));return W.push(ae),hn(W)}).then(()=>(R.matched.forEach(ie=>ie.enterCallbacks={}),W=lo(ye,"beforeRouteEnter",R,Z),W.push(ae),hn(W))).then(()=>{W=[];for(const ie of l.list())W.push(zt(ie,R,Z));return W.push(ae),hn(W)}).catch(ie=>It(ie,8)?ie:Promise.reject(ie))}function Q(R,Z,W){for(const X of r.list())X(R,Z,W)}function Y(R,Z,W,X,Pe){const ye=v(R,Z);if(ye)return ye;const ae=Z===Lt,ie=_n?history.state:{};W&&(X||ae?o.replace(R.fullPath,Oe({scroll:ae&&ie&&ie.scroll},Pe)):o.push(R.fullPath,Pe)),c.value=R,xt(R,Z,W,ae),ze()}let z;function q(){z||(z=o.listen((R,Z,W)=>{if(!Be.listening)return;const X=w(R),Pe=O(X);if(Pe){K(Oe(Pe,{replace:!0}),X).catch(Kn);return}u=X;const ye=c.value;_n&&bf(vl(ye.fullPath,W.delta),qs()),se(X,ye).catch(ae=>It(ae,12)?ae:It(ae,2)?(K(ae.to,X).then(ie=>{It(ie,20)&&!W.delta&&W.type===ss.pop&&o.go(-1,!1)}).catch(Kn),Promise.reject()):(W.delta&&o.go(-W.delta,!1),le(ae,X,ye))).then(ae=>{ae=ae||Y(X,ye,!1),ae&&(W.delta?o.go(-W.delta,!1):W.type===ss.pop&&It(ae,20)&&o.go(-1,!1)),Q(X,ye,ae)}).catch(Kn)}))}let ve=Ln(),$e=Ln(),fe;function le(R,Z,W){ze(R);const X=$e.list();return X.length?X.forEach(Pe=>Pe(R,Z,W)):console.error(R),Promise.reject(R)}function xe(){return fe&&c.value!==Lt?Promise.resolve():new Promise((R,Z)=>{ve.add([R,Z])})}function ze(R){return fe||(fe=!R,q(),ve.list().forEach(([Z,W])=>R?W(R):Z()),ve.reset()),R}function xt(R,Z,W,X){const{scrollBehavior:Pe}=e;if(!_n||!Pe)return Promise.resolve();const ye=!W&&Pf(vl(R.fullPath,0))||(X||!W)&&history.state&&history.state.scroll||null;return ii().then(()=>Pe(R,Z,ye)).then(ae=>ae&&Ef(ae)).catch(ae=>le(ae,R,Z))}const st=R=>o.go(R);let ot;const je=new Set,Be={currentRoute:c,listening:!0,addRoute:m,removeRoute:x,hasRoute:T,getRoutes:b,resolve:w,options:e,push:k,replace:U,go:st,back:()=>st(-1),forward:()=>st(1),beforeEach:i.add,beforeResolve:l.add,afterEach:r.add,onError:$e.add,isReady:xe,install(R){const Z=this;R.component("RouterLink",ad),R.component("RouterView",dd),R.config.globalProperties.$router=Z,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>ue(c)}),_n&&!ot&&c.value===Lt&&(ot=!0,k(o.location).catch(Pe=>{}));const W={};for(const Pe in Lt)W[Pe]=he(()=>c.value[Pe]);R.provide(Xs,Z),R.provide(fi,is(W)),R.provide(Ro,c);const X=R.unmount;je.add(R),R.unmount=function(){je.delete(R),je.size<1&&(u=Lt,z&&z(),z=null,c.value=Lt,ot=!1,fe=!1),X()}}};return Be}function hn(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function pd(e,t){const n=[],s=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let l=0;l<i;l++){const r=t.matched[l];r&&(e.matched.find(u=>Sn(u,r))?s.push(r):n.push(r));const c=e.matched[l];c&&(t.matched.find(u=>Sn(u,c))||o.push(c))}return[n,s,o]}function gd(){return Tt(Xs)}function di(){return Tt(fi)}function hi(e){return{all:e=e||new Map,on:function(t,n){var s=e.get(t);s?s.push(n):e.set(t,[n])},off:function(t,n){var s=e.get(t);s&&(n?s.splice(s.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var s=e.get(t);s&&s.slice().map(function(o){o(n)}),(s=e.get("*"))&&s.slice().map(function(o){o(t,n)})}}}class Qs{constructor(t){this.rand_high=t||3735929054,this.rand_low=t^1231121986}random(t,n){this.rand_high=(this.rand_high<<16)+(this.rand_high>>16)+this.rand_low&4294967295,this.rand_low=this.rand_low+this.rand_high&4294967295;const s=(this.rand_high>>>0)/4294967295;return t+s*(n-t+1)|0}choice(t){return t[this.random(0,t.length-1)]}shuffle(t){const n=t.slice();for(let s=0;s<=n.length-2;s++){const o=this.random(s,n.length-1),i=n[s];n[s]=n[o],n[o]=i}return n}static serialize(t){return{rand_high:t.rand_high,rand_low:t.rand_low}}static unserialize(t){const n=new Qs(0);return n.rand_high=t.rand_high,n.rand_low=t.rand_low,n}}const _d=e=>{let t=e.toLowerCase();return t=t.replace(/[^a-z0-9]+/g,"-"),t=t.replace(/^-|-$/,""),t},bs=(e,t)=>{const n=`${e}`;return n.length>=t.length?n:t.substr(0,t.length-n.length)+n},pi=(...e)=>{const t=n=>(...s)=>{const o=new Date,i=bs(o.getHours(),"00"),l=bs(o.getMinutes(),"00"),r=bs(o.getSeconds(),"00");console[n](`${i}:${l}:${r}`,...e,...s)};return{log:t("log"),error:t("error"),info:t("info")}},md=()=>Date.now().toString(36)+Math.random().toString(36).substring(2);function vd(e){return e.top+1<<0|e.right+1<<2|e.bottom+1<<4|e.left+1<<6}function yd(e){return{top:(e>>0&3)-1,right:(e>>2&3)-1,bottom:(e>>4&3)-1,left:(e>>6&3)-1}}function wd(e){return[e.idx,e.pos.x,e.pos.y,e.z,e.owner,e.group]}function Ed(e){return{idx:e[0],pos:{x:e[1],y:e[2]},z:e[3],owner:e[4],group:e[5]}}function bd(e){return[e.id,e.x,e.y,e.d,e.name,e.color,e.bgcolor,e.points,e.ts]}function Pd(e){return{id:e[0],x:e[1],y:e[2],d:e[3],name:e[4],color:e[5],bgcolor:e[6],points:e[7],ts:e[8]}}function Td(e){return[e.id,e.rng.type||"",Qs.serialize(e.rng.obj),e.puzzle,e.players,e.scoreMode,e.shapeMode,e.snapMode,e.creatorUserId,e.hasReplay,e.gameVersion,e.private]}function Cd(e){return{id:e[0],rng:{type:e[1],obj:Qs.unserialize(e[2])},puzzle:e[3],players:e[4],scoreMode:e[5],shapeMode:e[6],snapMode:e[7],creatorUserId:e[8],hasReplay:e[9],gameVersion:e[10],private:e[11]}}function xd(e,t){const n=e.width/e.tileSize;return{x:t%n,y:Math.floor(t/n)}}function Sd(e,t){const n=e.width/e.pieceSize;return{x:t%n,y:Math.floor(t/n)}}const Ad=e=>{let t=0;for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);t=(t<<5)-t+s,t|=0}return t};function Od(e){const t=[];for(const n in e){const s=[n,e[n]].map(encodeURIComponent);t.push(s.join("="))}return t.length===0?"":`?${t.join("&")}`}var Ee={hash:Ad,slug:_d,pad:bs,uniqId:md,encodeShape:vd,decodeShape:yd,encodePiece:wd,decodePiece:Ed,encodePlayer:bd,decodePlayer:Pd,encodeGame:Td,decodeGame:Cd,coordByPieceIdxDeprecated:xd,coordByPieceIdx:Sd,asQueryArgs:Od};const gi=(e,t)=>{localStorage.setItem(e,t)},_i=e=>localStorage.getItem(e),Rd=(e,t)=>{gi(e,`${t}`)},kd=(e,t)=>{const n=_i(e);if(n===null)return t;const s=parseInt(n,10);return isNaN(s)?t:s},Nd=(e,t)=>{gi(e,t?"1":"0")},$d=(e,t)=>{const n=_i(e);return n===null?t:n==="1"},Md=(e,t)=>{gi(e,t)},Ud=(e,t)=>{const n=_i(e);return n===null?t:n};var ke={setInt:Rd,getInt:kd,setBool:Nd,getBool:$d,setStr:Md,getStr:Ud};let Bn="",Ps="";const ds=async(e,t,n)=>new Promise((s,o)=>{const i=new window.XMLHttpRequest;i.open(e,t,!0),i.withCredentials=!0;for(const l in n.headers||{})i.setRequestHeader(l,n.headers[l]);i.setRequestHeader("Client-Id",Bn),i.setRequestHeader("Client-Secret",Ps),i.addEventListener("load",function(l){s({status:this.status,text:this.responseText,json:async()=>JSON.parse(this.responseText)})}),i.addEventListener("error",function(l){o(new Error("xhr error"))}),i.upload&&n.onUploadProgress&&i.upload.addEventListener("progress",function(l){n.onUploadProgress&&n.onUploadProgress(l)}),i.send(n.body||null)}),hs=e=>{let t=ke.getStr(e,"");return t||(t=Ee.uniqId(),ke.setStr(e,t)),t};var We={init:()=>{Bn=hs("ID"),Ps=hs("SECRET"),Ne.eventBus.on("login",()=>{const e=Ne.getMe();e&&(Bn=e.clientId,Ps=e.clientSecret)}),Ne.eventBus.on("logout",()=>{Bn=hs("ID"),Ps=hs("SECRET")})},request:ds,get:(e,t)=>ds("get",e,t),delete:(e,t)=>ds("delete",e,t),post:(e,t)=>ds("post",e,t),clientId:()=>Bn};const Ld=async()=>await(await We.get("/admin/api/games",{})).json(),Id=async e=>await(await We.delete(`/admin/api/games/${e}`,{})).json(),Dd=async()=>await(await We.get("/admin/api/users",{})).json(),Vd=async()=>await(await We.get("/admin/api/images",{})).json(),Bd=async e=>await(await We.delete(`/admin/api/images/${e}`,{})).json(),zd=async()=>await(await We.get("/admin/api/groups",{})).json();var Gd={getGames:Ld,deleteGame:Id,getUsers:Dd,getImages:Vd,deleteImage:Bd,getGroups:zd};const Fd=async(e,t)=>await We.post("/api/auth",{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({login:e,pass:t})}),Hd=async()=>await We.post("/api/logout",{headers:{Accept:"application/json","Content-Type":"application/json"},body:{}}),Wd=async()=>We.get("/api/conf",{}),jd=async()=>We.get("/api/me",{}),Kd=async()=>We.get("/api/index-data",{}),Yd=async e=>We.get(`/api/newgame-data${Ee.asQueryArgs(e.filters)}`,{}),Zd=async e=>We.get(`/api/replay-data${Ee.asQueryArgs(e)}`,{}),qd=async e=>We.post("/api/save-image",{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e.id,title:e.title,tags:e.tags})}),Xd=async e=>We.post("/api/newgame",{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.gameSettings)}),Qd=async e=>{const t=new FormData;return t.append("file",e.file,e.file.name),t.append("title",e.title),t.append("tags",e.tags),t.append("private",e.isPrivate),We.post("/api/upload",{body:t,onUploadProgress:n=>{e.onProgress(n.loaded/n.total)}})};var Jd={auth:Fd,logout:Hd,config:Wd,me:jd,indexData:Kd,newgameData:Yd,replayData:Zd,saveImage:qd,newGame:Xd,upload:Qd},Le={pub:Jd,admin:Gd,init:We.init,clientId:We.clientId};let Ms=null;const Us=hi();async function Jr(){const e=await Le.pub.me();Ms=e.status===200?await e.json():null,Ms?(console.log("loggedin"),Us.emit("login")):(console.log("loggedout"),Us.emit("logout"))}async function eh(){return(await(await Le.pub.logout()).json()).success?(Ms=null,console.log("loggedout"),Us.emit("logout"),{error:!1}):{error:"[2021-09-25 18:36]"}}async function th(e,t){const n=await Le.pub.auth(e,t);return n.status===200?(await Jr(),{error:!1}):n.status===401?{error:(await n.json()).reason}:{error:"Unknown error"}}var Ne={getMe:()=>Ms,eventBus:Us,logout:eh,login:th,init:Jr};const nh={key:0,class:"nav"},sh=D("Games overview"),oh=D("New game"),ih={href:"https://stand-with-ukraine.pp.ua/",class:"btn btn-ukraine",target:"_blank"},lh=D(" Stand with Ukraine "),rh={key:0,style:{float:"right"}},ah={key:1,style:{float:"right"}},ch=D("Admin"),uh=me({__name:"Nav",setup(e){const t=di(),n=he(()=>!["game","replay"].includes(String(t.name))),s=j(!1);async function o(){await Ne.logout()}return Qe(async()=>{s.value=!!Ne.getMe(),Ne.eventBus.on("login",()=>{console.log("login"),s.value=!0}),Ne.eventBus.on("logout",()=>{console.log("logout"),s.value=!1})}),(i,l)=>{const r=_e("router-link"),c=_e("icon");return ue(n)?(A(),L("ul",nh,[a("li",null,[N(r,{class:"btn",to:{name:"index"}},{default:De(()=>[sh]),_:1})]),a("li",null,[N(r,{class:"btn",to:{name:"new-game"}},{default:De(()=>[oh]),_:1})]),a("li",null,[a("a",ih,[N(c,{icon:"ukraine-heart"}),lh,N(c,{icon:"ukraine-heart"})])]),s.value?(A(),L("li",rh,[a("span",{class:"btn",onClick:o},"Logout")])):oe("",!0),s.value?(A(),L("li",ah,[N(r,{class:"btn",to:{name:"admin"}},{default:De(()=>[ch]),_:1})])):oe("",!0)])):oe("",!0)}}}),fh={id:"app"},dh=me({__name:"App",setup(e){return(t,n)=>{const s=_e("router-view");return A(),L("div",fh,[N(uh),N(s)])}}}),ea=1,mi=ea*1e3,Ls=mi*60,Is=Ls*60,ko=Is*24,hh=()=>{const e=new Date;return Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())},ta=e=>{const t=Math.floor(e/ko);e=e%ko;const n=Math.floor(e/Is);e=e%Is;const s=Math.floor(e/Ls);e=e%Ls;const o=Math.floor(e/mi);return`${t}d ${n}h ${s}m ${o}s`},ph=(e,t)=>ta(t-e);var Rt={MS:ea,SEC:mi,MIN:Ls,HOUR:Is,DAY:ko,timestamp:hh,timeDiffStr:ph,durationStr:ta};const gh={class:"game-teaser"},_h={class:"game-info-text"},mh=a("br",null,null,-1),vh=a("br",null,null,-1),yh=a("br",null,null,-1),wh=D(" Watch replay "),No=me({__name:"GameTeaser",props:{game:null},setup(e){const s={"background-image":`url("${e.game.imageUrl.replace("uploads/","uploads/r/")+"-375x210.webp"}")`},o=(i,l)=>{const r=i,c=l||Rt.timestamp();return`${Rt.timeDiffStr(r,c)}`};return(i,l)=>{const r=_e("icon"),c=_e("router-link");return A(),L("div",gh,[a("div",{class:"game-teaser-inner",style:s},[N(c,{class:"game-info",to:{name:"game",params:{id:e.game.id}}},{default:De(()=>[a("span",_h,[N(r,{icon:"puzzle-piece"}),D(" "+ee(e.game.piecesFinished)+"/"+ee(e.game.piecesTotal),1),mh,N(r,{icon:"sillouette"}),D(" "+ee(e.game.players),1),vh,e.game.finished?(A(),we(r,{key:1,icon:"flag"})):(A(),we(r,{key:0,icon:"clock"})),D(" "+ee(o(e.game.started,e.game.finished)),1),yh])]),_:1},8,["to"]),e.game.hasReplay?(A(),we(c,{key:0,class:"game-replay",to:{name:"replay",params:{id:e.game.id}}},{default:De(()=>[N(r,{icon:"replay"}),wh]),_:1},8,["to"])):oe("",!0)])])}}}),Eh=a("h1",null,"Running games",-1),bh=a("h1",null,"Finished games",-1),Ph=me({__name:"Index",setup(e){const t=j([]),n=j([]);return Qe(async()=>{const o=await(await Le.pub.indexData()).json();t.value=o.gamesRunning,n.value=o.gamesFinished}),(s,o)=>(A(),L("div",null,[Eh,(A(!0),L(pe,null,Ze(t.value,(i,l)=>(A(),we(No,{key:l,game:i},null,8,["game"]))),128)),bh,(A(!0),L(pe,null,Ze(n.value,(i,l)=>(A(),we(No,{key:l,game:i},null,8,["game"]))),128))]))}}),Th=a("div",{class:"drop-target"},null,-1),Ch={key:0,class:"has-image"},xh={key:1},Sh={class:"upload"},Ah=a("div",{class:"upload-content"},[D(" How to upload an image? Choose any of the following methods: "),a("ul",null,[a("li",null,"Click this area to select an image for upload "),a("li",null,"Drag and drop an image into the area"),a("li",null,"Paste an image URL"),a("li",null,"Paste an image")]),a("div",{class:"hint"},` Don't worry, the image will not show up in the gallery unless "Post to gallery" was clicked. `)],-1),Oh={class:"area-settings"},Rh=a("td",null,[a("label",null,"Title")],-1),kh=a("tr",null,[a("td",{colspan:"2"},[a("div",{class:"hint"},"Feel free to leave a credit to the artist/photographer in the title :)")])],-1),Nh=a("td",null,[a("label",null,"Private Image")],-1),$h={class:"checkbox-only"},Mh=a("tr",null,[a("td",{colspan:"2"},[a("div",{class:"hint"},"Private images won't show up in the gallery.")])],-1),Uh=a("td",null,[a("label",null,"Tags")],-1),Lh={class:"area-buttons"},Ih=["disabled"],Dh=D(" Post to gallery"),Vh=["disabled"],Bh=D(" Set up game"),zh=D(" Post to gallery "),Gh=a("br",null,null,-1),Fh=D(" + set up game"),na=me({__name:"NewImageDialog",props:{autocompleteTags:null,uploadProgress:null,uploading:null},emits:["setupGameClick","postToGalleryClick","close"],setup(e,{emit:t}){const n=e,s=async Y=>{const z=await i(Y),q=await o(z);return l(q.toDataURL())},o=async Y=>{const z=document.createElement("canvas"),q=z.getContext("2d");return z.width=Y.width,z.height=Y.height,q.drawImage(Y,0,0),z},i=async Y=>new Promise((z,q)=>{const ve=new Image;ve.crossOrigin="anonymous",ve.onload=()=>{z(ve)},ve.onerror=$e=>{q($e)},ve.src=Y});function l(Y){const z=Y.split(","),q=z[0].match(/:(.*?);/);if(!q)return null;const ve=q[1],$e=atob(z[1]);let fe=$e.length;const le=new Uint8Array(fe);for(;fe--;)le[fe]=$e.charCodeAt(fe);return new Blob([le],{type:ve})}const r=j(""),c=j(null),u=j(""),f=j([]),p=j(!1),h=j(!1),m=j(!1),x=he(()=>n.uploadProgress?Math.round(n.uploadProgress*100):0),b=he(()=>n.uploading?!1:!!(r.value&&c.value)),T=he(()=>n.uploading?!1:!!(r.value&&c.value)),w=()=>{r.value="",c.value=null,u.value="",f.value=[],p.value=!1,h.value=!1},g=Y=>{var ve;const z=(ve=Y.dataTransfer)==null?void 0:ve.items;if(!z||z.length===0)return null;const q=z[0];return q.type.startsWith("image/")?q:null},v=async Y=>{if(!Y.clipboardData)return;const z=Y.clipboardData.getData("text");if(z){if(m.value)return;if(z.match(/^https?:\/\//)){const ve="/api/proxy?"+new URLSearchParams({url:z});try{const $e=await s(ve);$e?U($e):console.error("unable to transform image data url into blob")}catch($e){console.error("unable to transform image http url into blob",$e)}}else if(z.match(/^data:image\/([a-z]+);base64,/))try{const ve=l(z);ve?U(ve):console.error("unable to transform image data url into blob")}catch(ve){console.error("unable to transform image data url into blob",ve)}else console.log(z)}const q=Y.clipboardData.files[0];!q||U(q)},k=Y=>{const z=Y.target;if(!z.files)return;const q=z.files[0];!q||U(q)},U=Y=>{if(!Y.type.startsWith("image/")){console.error("file type is not supported",Y.type);return}const z=new FileReader;z.readAsDataURL(Y),z.onload=q=>{r.value=q.target.result,c.value=Y}},O=()=>{!c.value||(t("postToGalleryClick",{file:c.value,title:u.value,tags:f.value,isPrivate:p.value}),w())},K=()=>{!c.value||(t("setupGameClick",{file:c.value,title:u.value,tags:f.value,isPrivate:p.value}),w())},H=Y=>{h.value=!1;const z=g(Y);if(!z)return!1;const q=z.getAsFile();return q&&(c.value=q,U(q),Y.preventDefault()),!1},se=Y=>(g(Y)&&(h.value=!0,Y.preventDefault()),!1),Q=()=>{h.value=!1};return Qe(()=>{window.addEventListener("paste",v)}),$n(()=>{window.removeEventListener("paste",v)}),(Y,z)=>{const q=_e("responsive-image"),ve=_e("tags-input"),$e=_e("icon"),fe=_e("overlay");return A(),we(fe,{class:"new-image-dialog",onClose:z[7]||(z[7]=le=>t("close"))},{default:De(()=>[a("div",{class:Pt(["area-image",{"has-image":!!r.value,"no-image":!r.value,droppable:h.value}]),onDrop:H,onDragover:se,onDragleave:Q},[Th,r.value?(A(),L("div",Ch,[a("span",{class:"remove btn",onClick:z[0]||(z[0]=le=>r.value="")},"X"),N(q,{src:r.value},null,8,["src"])])):(A(),L("div",xh,[a("label",Sh,[a("input",{type:"file",style:{display:"none"},onChange:k,accept:"image/*"},null,32),Ah])]))],34),a("div",Oh,[a("table",null,[a("tr",null,[Rh,a("td",null,[Ae(a("input",{type:"text","onUpdate:modelValue":z[1]||(z[1]=le=>u.value=le),placeholder:"Flower by @artist",onFocus:z[2]||(z[2]=le=>m.value=!0),onBlur:z[3]||(z[3]=le=>m.value=!1)},null,544),[[kt,u.value]])])]),kh,a("tr",null,[Nh,a("td",$h,[Ae(a("input",{type:"checkbox","onUpdate:modelValue":z[4]||(z[4]=le=>p.value=le)},null,512),[[nn,p.value]])])]),Mh,a("tr",null,[Uh,a("td",null,[N(ve,{modelValue:f.value,"onUpdate:modelValue":z[5]||(z[5]=le=>f.value=le),autocompleteTags:e.autocompleteTags},null,8,["modelValue","autocompleteTags"])])])])]),a("div",Lh,[p.value?oe("",!0):(A(),L("button",{key:0,class:"btn",disabled:!ue(b),onClick:O},[e.uploading==="postToGallery"?(A(),L(pe,{key:0},[D("Uploading ("+ee(ue(x))+"%)",1)],64)):(A(),L(pe,{key:1},[N($e,{icon:"preview"}),Dh],64))],8,Ih)),a("button",{class:"btn",disabled:!ue(T),onClick:K},[e.uploading==="setupGame"?(A(),L(pe,{key:0},[D("Uploading ("+ee(ue(x))+"%)",1)],64)):p.value?(A(),L(pe,{key:1},[N($e,{icon:"puzzle-piece"}),Bh],64)):(A(),L(pe,{key:2},[N($e,{icon:"puzzle-piece"}),zh,Gh,Fh],64))],8,Vh),a("button",{class:"btn",onClick:z[6]||(z[6]=le=>t("close"))},"Cancel")])]),_:1})}}}),Hh={class:"area-image"},Wh={class:"has-image"},jh={class:"area-settings"},Kh=a("td",null,[a("label",null,"Title")],-1),Yh=a("tr",null,[a("td",{colspan:"2"},[a("div",{class:"hint"},"Feel free to leave a credit to the artist/photographer in the title :)")])],-1),Zh=a("td",null,[a("label",null,"Tags")],-1),qh={class:"area-buttons"},Xh=D(" Save image"),sa=me({__name:"EditImageDialog",props:{image:null,autocompleteTags:null},emits:["saveClick","close"],setup(e,{emit:t}){const n=e,s=j(""),o=j([]),i=r=>{s.value=r.title,o.value=r.tags.map(c=>c.title)},l=()=>{t("saveClick",{id:n.image.id,title:s.value,tags:o.value})};return i(n.image),Ge(()=>n.image,r=>{i(r)}),(r,c)=>{const u=_e("responsive-image"),f=_e("tags-input"),p=_e("icon"),h=_e("overlay");return A(),we(h,{class:"edit-image-dialog",onClose:c[3]||(c[3]=m=>t("close"))},{default:De(()=>[a("div",Hh,[a("div",Wh,[N(u,{src:e.image.url,title:e.image.title},null,8,["src","title"])])]),a("div",jh,[a("table",null,[a("tr",null,[Kh,a("td",null,[Ae(a("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=m=>s.value=m),placeholder:"Flower by @artist"},null,512),[[kt,s.value]])])]),Yh,a("tr",null,[Zh,a("td",null,[N(f,{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=m=>o.value=m),autocompleteTags:e.autocompleteTags},null,8,["modelValue","autocompleteTags"])])])])]),a("div",qh,[a("button",{class:"btn",onClick:l},[N(p,{icon:"preview"}),Xh]),a("button",{class:"btn",onClick:c[2]||(c[2]=m=>t("close"))},"Cancel")])]),_:1})}}});var rn=(e=>(e[e.FINAL=0]="FINAL",e[e.ANY=1]="ANY",e))(rn||{}),Zn=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ANY=1]="ANY",e[e.FLAT=2]="FLAT",e))(Zn||{}),On=(e=>(e[e.NORMAL=0]="NORMAL",e[e.REAL=1]="REAL",e))(On||{});const Qh={class:"area-image"},Jh={class:"has-image"},ep={key:0,class:"image-title"},tp={key:0,class:"image-title-title"},np={key:1,class:"image-title-dim"},sp={class:"area-settings"},op=a("td",null,[a("label",null,"Pieces")],-1),ip=a("td",null,[a("label",null,"Scoring: ")],-1),lp=D(" Any (Score when pieces are connected to each other or on final location)"),rp=a("br",null,null,-1),ap=D(" Final (Score when pieces are put to their final location)"),cp=a("td",null,[a("label",null,"Shapes: ")],-1),up=D(" Normal"),fp=a("br",null,null,-1),dp=D(" Any (Flat pieces can occur anywhere)"),hp=a("br",null,null,-1),pp=D(" Flat (All pieces flat on all sides)"),gp=a("td",null,[a("label",null,"Snapping: ")],-1),_p=D(" Normal (Pieces snap to final destination and to each other)"),mp=a("br",null,null,-1),vp=D(" Real (Pieces snap only to corners, already snapped pieces and to each other)"),yp=a("td",null,[a("label",null,"Private Game")],-1),wp={class:"checkbox-only"},Ep=["disabled"],bp=a("tr",null,[a("td",{colspan:"2"},[a("div",{class:"hint"},"Private games won't show up in the game overview.")])],-1),Pp={key:0},Tp=a("td",null,[a("label",null,"Tags: ")],-1),Cp={class:"area-buttons"},xp=["disabled"],Sp=D(" Generate Puzzle "),oa=me({__name:"NewGameDialog",props:{image:null,forcePrivate:{type:Boolean}},emits:["newGame","close"],setup(e,{emit:t}){const n=e,s=j(1e3),o=j(n.forcePrivate),i=j(rn.ANY),l=j(Zn.NORMAL),r=j(On.NORMAL),c=he(()=>!(!h.value||!n.image||!n.image.url||![0,1].includes(u.value))),u=he(()=>parseInt(`${i.value}`,10)),f=he(()=>parseInt(`${l.value}`,10)),p=he(()=>parseInt(`${r.value}`,10)),h=he(()=>parseInt(`${s.value}`,10)),m=()=>{t("newGame",{tiles:h.value,private:o.value,image:n.image,scoreMode:u.value,shapeMode:f.value,snapMode:p.value})};return(x,b)=>{const T=_e("responsive-image"),w=_e("icon"),g=_e("overlay");return A(),we(g,{class:"new-game-dialog",onClose:b[10]||(b[10]=v=>t("close"))},{default:De(()=>[a("div",Qh,[a("div",Jh,[N(T,{src:e.image.url,title:e.image.title},null,8,["src","title"])]),e.image.title||e.image.width||e.image.height?(A(),L("div",ep,[e.image.title?(A(),L("span",tp,'"'+ee(e.image.title)+'"',1)):oe("",!0),e.image.width||e.image.height?(A(),L("span",np,"("+ee(e.image.width)+" \u2715 "+ee(e.image.height)+")",1)):oe("",!0)])):oe("",!0)]),a("div",sp,[a("table",null,[a("tr",null,[op,a("td",null,[Ae(a("input",{type:"text","onUpdate:modelValue":b[0]||(b[0]=v=>s.value=v)},null,512),[[kt,s.value]])])]),a("tr",null,[ip,a("td",null,[a("label",null,[Ae(a("input",{type:"radio","onUpdate:modelValue":b[1]||(b[1]=v=>i.value=v),value:"1"},null,512),[[Et,i.value]]),lp]),rp,a("label",null,[Ae(a("input",{type:"radio","onUpdate:modelValue":b[2]||(b[2]=v=>i.value=v),value:"0"},null,512),[[Et,i.value]]),ap])])]),a("tr",null,[cp,a("td",null,[a("label",null,[Ae(a("input",{type:"radio","onUpdate:modelValue":b[3]||(b[3]=v=>l.value=v),value:"0"},null,512),[[Et,l.value]]),up]),fp,a("label",null,[Ae(a("input",{type:"radio","onUpdate:modelValue":b[4]||(b[4]=v=>l.value=v),value:"1"},null,512),[[Et,l.value]]),dp]),hp,a("label",null,[Ae(a("input",{type:"radio","onUpdate:modelValue":b[5]||(b[5]=v=>l.value=v),value:"2"},null,512),[[Et,l.value]]),pp])])]),a("tr",null,[gp,a("td",null,[a("label",null,[Ae(a("input",{type:"radio","onUpdate:modelValue":b[6]||(b[6]=v=>r.value=v),value:"0"},null,512),[[Et,r.value]]),_p]),mp,a("label",null,[Ae(a("input",{type:"radio","onUpdate:modelValue":b[7]||(b[7]=v=>r.value=v),value:"1"},null,512),[[Et,r.value]]),vp])])]),a("tr",null,[yp,a("td",wp,[Ae(a("input",{disabled:e.forcePrivate,type:"checkbox","onUpdate:modelValue":b[8]||(b[8]=v=>o.value=v)},null,8,Ep),[[nn,o.value]])])]),bp,e.image.tags.length?(A(),L("tr",Pp,[Tp,a("td",null,[(A(!0),L(pe,null,Ze(e.image.tags,(v,k)=>(A(),L("span",{key:k,class:"bit"},ee(v.title),1))),128))])])):oe("",!0)])]),a("div",Cp,[a("button",{class:"btn",disabled:!ue(c),onClick:m},[N(w,{icon:"puzzle-piece"}),Sp],8,xp),a("button",{class:"btn",onClick:b[9]||(b[9]=v=>t("close"))},"Cancel")])]),_:1})}}}),ia=me({__name:"ImageLibrary",props:{images:null},emits:["imageClicked","imageEditClicked"],setup(e,{emit:t}){return(n,s)=>{const o=_e("image-teaser"),i=_e("masonry-wall");return A(),we(i,{items:e.images,"column-width":320,gap:10},{default:De(({item:l,index:r})=>[(A(),we(o,{image:l,onClick:c=>t("imageClicked",l),onEditClick:c=>t("imageEditClicked",l),key:r},null,8,["image","onClick","onEditClick"]))]),_:1},8,["items"])}}}),Ap=a("div",{class:"hint"},"(The image you upload will be added to the public gallery.)",-1),Op={key:0},Rp=D(" Tags: "),kp=["onClick"],Np=D(" Sort by: "),$p=bu('<option value="date_desc">Newest first</option><option value="date_asc">Oldest first</option><option value="alpha_asc">A-Z</option><option value="alpha_desc">Z-A</option><option value="game_count_asc">Most plays first</option><option value="game_count_desc">Least plays first</option>',6),Mp=[$p],Up=me({__name:"NewGame",setup(e){const t=gd(),n=j({sort:"date_desc",tags:[]}),s=j([]),o=j([]),i=j({id:0,uploaderUserId:null,filename:"",url:"",title:"",tags:[],created:0,width:0,height:0}),l=j(""),r=j(!1),c=j(""),u=j(0),f=he(()=>o.value.filter(O=>O.total>0)),p=(O,K)=>o.value.filter(H=>!K.includes(H.title)&&H.title.toLowerCase().startsWith(O.toLowerCase())).slice(0,10).map(H=>H.title),h=O=>{n.value.tags.includes(O.slug)?n.value.tags=n.value.tags.filter(K=>K!==O.slug):n.value.tags.push(O.slug),x()},m=async()=>{const K=await(await Le.pub.newgameData({filters:n.value})).json();s.value=K.images,o.value=K.tags},x=async()=>{await m()},b=O=>{i.value=O,r.value=!1,l.value="new-game"},T=O=>{i.value=O,l.value="edit-image"},w=async O=>{u.value=0;const K=await Le.pub.upload({file:O.file,title:O.title,tags:O.tags,isPrivate:O.isPrivate,onProgress:H=>{u.value=H}});return u.value=1,await K.json()},g=async O=>{const H=await(await Le.pub.saveImage(O)).json();H.ok?(l.value="",await m()):alert(H.error)},v=async O=>{c.value="postToGallery",await w(O),c.value="",l.value="",await m()},k=async O=>{c.value="setupGame";const K=await w(O);c.value="",m(),K.value=K,r.value=O.isPrivate,l.value="new-game"},U=async O=>{const K=await Le.pub.newGame({gameSettings:O});if(K.status===200){const H=await K.json();t.push({name:"game",params:{id:H.id}})}};return Qe(async()=>{await m()}),(O,K)=>(A(),L("div",null,[a("div",{class:Pt(["upload-image-teaser",{blurred:l.value!==""}])},[a("div",{class:"btn is-big",onClick:K[0]||(K[0]=H=>l.value="new-image")},"Upload your image"),Ap],2),a("div",{class:Pt({blurred:l.value!==""})},[o.value.length>0?(A(),L("label",Op,[Rp,(A(!0),L(pe,null,Ze(ue(f),(H,se)=>(A(),L("span",{class:Pt(["bit is-clickable",{on:n.value.tags.includes(H.slug)}]),key:se,onClick:Q=>h(H)},ee(H.title)+" ("+ee(H.total)+")",11,kp))),128))])):oe("",!0),a("label",null,[Np,Ae(a("select",{"onUpdate:modelValue":K[1]||(K[1]=H=>n.value.sort=H),onChange:x},Mp,544),[[tf,n.value.sort]])])],2),N(ia,{class:Pt({blurred:l.value!==""}),images:s.value,onImageClicked:b,onImageEditClicked:T},null,8,["class","images"]),l.value==="new-image"?(A(),we(na,{key:0,autocompleteTags:p,onClose:K[2]||(K[2]=H=>l.value=""),onBgclick:K[3]||(K[3]=H=>l.value=""),uploadProgress:u.value,uploading:c.value,onPostToGalleryClick:v,onSetupGameClick:k},null,8,["uploadProgress","uploading"])):oe("",!0),l.value==="edit-image"?(A(),we(sa,{key:1,autocompleteTags:p,onClose:K[4]||(K[4]=H=>l.value=""),onBgclick:K[5]||(K[5]=H=>l.value=""),onSaveClick:g,image:i.value},null,8,["image"])):oe("",!0),i.value&&l.value==="new-game"?(A(),we(oa,{key:2,onClose:K[6]||(K[6]=H=>l.value=""),onBgclick:K[7]||(K[7]=H=>l.value=""),onNewGame:U,image:i.value,forcePrivate:r.value},null,8,["image","forcePrivate"])):oe("",!0)]))}}),Lp=e=>{let t=!1;const n=()=>{t=!0},s=e.fps||60,o=e.slow||1,i=e.update,l=e.render,r=window.requestAnimationFrame,c=1/s,u=o*c;let f,p=0,h=window.performance.now();const m=()=>{for(f=window.performance.now(),p=p+Math.min(1,(f-h)/1e3);p>u;)p=p-u,i(c);l(p/o),h=f,t||r(m)};return r(m),{stop:n}};let kl=.1;const Ip=6,Dp=.05;class $o{constructor(t=null){this.x=0,this.y=0,this.curZoom=1,t&&this.fromSnapshot(t)}calculateZoomCapping(t,n,s,o){kl=Math.max(.1,t/s,n/o)}snapshot(){return{x:this.x,y:this.y,curZoom:this.curZoom}}getCurrentZoom(){return this.curZoom}fromSnapshot(t){this.x=t.x,this.y=t.y,this.curZoom=t.curZoom}reset(){this.x=0,this.y=0,this.curZoom=1}move(t,n){this.x+=t/this.curZoom,this.y+=n/this.curZoom}calculateNewZoom(t){const n=t==="in"?1:-1,s=this.curZoom+Dp*this.curZoom*n;return Math.min(Math.max(s,kl),Ip)}canZoom(t){return this.curZoom!=this.calculateNewZoom(t)}setZoom(t,n){if(this.curZoom==t)return!1;const s=1-this.curZoom/t;return this.move(-n.x*s,-n.y*s),this.curZoom=t,!0}zoom(t,n){return this.setZoom(this.calculateNewZoom(t),n)}viewportToWorld(t){const{x:n,y:s}=this.viewportToWorldRaw(t);return{x:Math.round(n),y:Math.round(s)}}viewportToWorldRaw(t){return{x:t.x/this.curZoom-this.x,y:t.y/this.curZoom-this.y}}worldToViewport(t){const{x:n,y:s}=this.worldToViewportRaw(t);return{x:Math.round(n),y:Math.round(s)}}worldToViewportRaw(t){return{x:(t.x+this.x)*this.curZoom,y:(t.y+this.y)*this.curZoom}}worldDimToViewport(t){const{w:n,h:s}=this.worldDimToViewportRaw(t);return{w:Math.round(n),h:Math.round(s)}}worldDimToViewportRaw(t){return{w:t.w*this.curZoom,h:t.h*this.curZoom}}viewportDimToWorld(t){const{w:n,h:s}=this.viewportDimToWorldRaw(t);return{w:Math.round(n),h:Math.round(s)}}viewportDimToWorldRaw(t){return{w:t.w/this.curZoom,h:t.h/this.curZoom}}}const Vp=pi("Debug.js");let Mo=0,la=0;const Bp=e=>{Mo=performance.now(),la=e},zp=e=>{const t=performance.now(),n=t-Mo;n>la&&Vp.log(e+": "+n),Mo=t};var Dt={checkpoint_start:Bp,checkpoint:zp};const Gp=4,Fp=1,Hp=4,Wp=2,jp=3,Kp=1,Yp=2,Zp=4,qp=3,Xp=1,Qp=2,Jp=3,eg=4,tg=5,ng=6,sg=7,og=8,ig=9,lg=10,rg=11,ag=12,cg=13,ug=14,fg=15,dg=16,hg=17,pg=18,gg=19,_g=20,mg=21,vg=22,yg=23,wg=1,Eg=2,bg=3,Pg=4;var I={EV_SERVER_EVENT:Fp,EV_SERVER_INIT:Hp,EV_CLIENT_EVENT:Wp,EV_CLIENT_INIT:jp,GAME_VERSION:Gp,LOG_HEADER:Kp,LOG_ADD_PLAYER:Yp,LOG_UPDATE_PLAYER:Zp,LOG_HANDLE_INPUT:qp,INPUT_EV_MOVE:ig,INPUT_EV_MOUSE_DOWN:Xp,INPUT_EV_MOUSE_UP:Qp,INPUT_EV_MOUSE_MOVE:Jp,INPUT_EV_ZOOM_IN:eg,INPUT_EV_ZOOM_OUT:tg,INPUT_EV_BG_COLOR:ng,INPUT_EV_PLAYER_COLOR:sg,INPUT_EV_PLAYER_NAME:og,INPUT_EV_TOGGLE_INTERFACE:yg,INPUT_EV_TOGGLE_PREVIEW:lg,INPUT_EV_TOGGLE_SOUNDS:rg,INPUT_EV_REPLAY_TOGGLE_PAUSE:ag,INPUT_EV_REPLAY_SPEED_UP:cg,INPUT_EV_REPLAY_SPEED_DOWN:ug,INPUT_EV_TOGGLE_PLAYER_NAMES:fg,INPUT_EV_CENTER_FIT_PUZZLE:dg,INPUT_EV_TOGGLE_FIXED_PIECES:hg,INPUT_EV_TOGGLE_LOOSE_PIECES:pg,INPUT_EV_TOGGLE_TABLE:vg,INPUT_EV_STORE_POS:gg,INPUT_EV_RESTORE_POS:_g,INPUT_EV_CONNECTION_CLOSE:mg,CHANGE_DATA:wg,CHANGE_PIECE:Eg,CHANGE_PLAYER:bg,PLAYER_SNAP:Pg};const Tg=pi("Communication.js"),Cg=1001,vi=4e3,ra=0,Uo=1,yi=2,aa=3,ca=4;let ht,Lo=[],Io=e=>{Lo.push(e)},Do=[],Vo=e=>{Do.push(e)};function xg(e){Io=e;for(const t of Lo)Io(t);Lo=[]}function Sg(e){Vo=e;for(const t of Do)Vo(t);Do=[]}let Bo=ra;const In=e=>{Bo!==e&&(Bo=e,Vo(e))};function ua(e){if(Bo===yi)try{ht.send(JSON.stringify(e))}catch{Tg.info("unable to send message.. maybe because ws is invalid?")}}let yn,Pn,zo=0;function fa(e=2e4){ht.readyState==ht.OPEN&&ht.send(""),zo=setTimeout(fa,e)}function Nl(){zo&&clearTimeout(zo)}function Ag(e,t,n){return yn=0,Pn={},In(aa),new Promise(s=>{ht=new WebSocket(e,n+"|"+t),ht.onopen=()=>{In(yi),ua([I.EV_CLIENT_INIT]),fa()},ht.onmessage=o=>{const i=JSON.parse(o.data),l=i[0];if(l===I.EV_SERVER_INIT){const r=i[1];s(r)}else if(l===I.EV_SERVER_EVENT){const r=i[1],c=i[2];if(r===n&&Pn[c]){delete Pn[c];return}Io(i)}else throw`[ 2021-05-09 invalid connect msgType ${l} ]`},ht.onerror=()=>{throw Nl(),In(Uo),"[ 2021-05-15 onerror ]"},ht.onclose=o=>{Nl(),o.code===vi||o.code===Cg?In(ca):In(Uo)}})}async function Og(e,t){return await(await Le.pub.replayData({gameId:e,offset:t})).json()}function Rg(){ht&&ht.close(vi),yn=0,Pn={}}function kg(e){yn++,Pn[yn]=e,ua([I.EV_CLIENT_EVENT,yn,Pn[yn]])}var Gt={connect:Ag,requestReplayData:Og,disconnect:Rg,sendClientEvent:kg,onServerChange:xg,onConnectionStateChange:Sg,CODE_CUSTOM_DISCONNECT:vi,CONN_STATE_NOT_CONNECTED:ra,CONN_STATE_DISCONNECTED:Uo,CONN_STATE_CLOSED:ca,CONN_STATE_CONNECTED:yi,CONN_STATE_CONNECTING:aa};function Ng(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $g(e,t){return{x:e.x+t.x,y:e.y+t.y}}function da(e,t){const n=e.x-t.x,s=e.y-t.y;return Math.sqrt(n*n+s*s)}function Mg(e,t){return e.x>=t.x&&e.x<=t.x+t.w&&e.y>=t.y&&e.y<=t.y+t.h}function Go(e){return{x:e.x+e.w/2,y:e.y+e.h/2}}function Ug(e,t,n){return{x:e.x+t,y:e.y+n,w:e.w,h:e.h}}function Lg(e,t){return!(t.x>e.x+e.w||e.x>t.x+t.w||t.y>e.y+e.h||e.y>t.y+t.h)}function Ig(e,t){return da(Go(e),Go(t))}var Ue={pointSub:Ng,pointAdd:$g,pointDistance:da,pointInBounds:Mg,rectCenter:Go,rectMoved:Ug,rectCenterDistance:Ig,rectsOverlap:Lg};function Tn(e=0,t=0){const n=document.createElement("canvas");return n.width=e,n.height=t,n}async function Dg(e){return new Promise(t=>{const n=new Image;n.onload=()=>{createImageBitmap(n).then(t)},n.src=e})}async function Vg(e,t,n){const s=Tn(t,n);return s.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),await createImageBitmap(s)}function Bg(e,t,n){if(n==="ukraine"){const i=Tn(e.width,e.height),l=i.getContext("2d"),r=t.height/1.75;l.save(),l.drawImage(t,0,0),l.fillStyle="#0057B7",l.globalCompositeOperation="source-in",l.fillRect(0,0,t.width,r),l.restore(),l.save(),l.globalCompositeOperation="destination-over",l.drawImage(e,0,0),l.restore();const c=Tn(e.width,e.height/2),u=c.getContext("2d");return u.save(),u.drawImage(t,0,-r),u.fillStyle="#FFDD00",u.globalCompositeOperation="source-in",u.fillRect(0,0,t.width,t.height),u.restore(),u.save(),u.globalCompositeOperation="destination-over",u.drawImage(e,0,-r),u.restore(),l.drawImage(c,0,r),i}const s=Tn(e.width,e.height),o=s.getContext("2d");return o.save(),o.drawImage(t,0,0),o.fillStyle=n,o.globalCompositeOperation="source-in",o.fillRect(0,0,t.width,t.height),o.restore(),o.save(),o.globalCompositeOperation="destination-over",o.drawImage(e,0,0),o.restore(),s}function zg(e,t,n){let o,i;t.w>t.h?(o=Math.min(t.w,10240),i=o*t.h/t.w):(i=Math.min(t.h,10240),o=i*t.w/t.h);const l=Tn(o,i),r=e.width*n,c=e.height*n,u=l.getContext("2d");for(let f=0;f<l.width;f+=r)for(let p=0;p<l.height;p+=c)u.drawImage(e,f,p,r,c);return l}var et={createCanvas:Tn,loadImageToBitmap:Dg,resizeBitmap:Vg,colorizedCanvas:Bg,repeat:zg};const $l=pi("PuzzleGraphics.js");async function Gg(e,t,n){$l.log("start createPuzzleTileBitmaps");const s=n.tileSize,o=n.tileMarginWidth,i=n.tileDrawSize,l=s/100,r=[0,0,40,15,37,5,37,5,40,0,38,-5,38,-5,20,-20,50,-20,50,-20,80,-20,62,-5,62,-5,60,0,63,5,63,5,65,15,100,0],c=new Array(t.length),u={};function f(b){const T=`${b.top}${b.right}${b.left}${b.bottom}`;if(u[T])return u[T];const w=new Path2D,g={x:o,y:o},v=Ue.pointAdd(g,{x:s,y:0}),k=Ue.pointAdd(v,{x:0,y:s}),U=Ue.pointSub(k,{x:s,y:0});if(w.moveTo(g.x,g.y),b.top!==0)for(let O=0;O<r.length/6;O++){const K=Ue.pointAdd(g,{x:r[O*6+0]*l,y:b.top*r[O*6+1]*l}),H=Ue.pointAdd(g,{x:r[O*6+2]*l,y:b.top*r[O*6+3]*l}),se=Ue.pointAdd(g,{x:r[O*6+4]*l,y:b.top*r[O*6+5]*l});w.bezierCurveTo(K.x,K.y,H.x,H.y,se.x,se.y)}else w.lineTo(v.x,v.y);if(b.right!==0)for(let O=0;O<r.length/6;O++){const K=Ue.pointAdd(v,{x:-b.right*r[O*6+1]*l,y:r[O*6+0]*l}),H=Ue.pointAdd(v,{x:-b.right*r[O*6+3]*l,y:r[O*6+2]*l}),se=Ue.pointAdd(v,{x:-b.right*r[O*6+5]*l,y:r[O*6+4]*l});w.bezierCurveTo(K.x,K.y,H.x,H.y,se.x,se.y)}else w.lineTo(k.x,k.y);if(b.bottom!==0)for(let O=0;O<r.length/6;O++){const K=Ue.pointSub(k,{x:r[O*6+0]*l,y:b.bottom*r[O*6+1]*l}),H=Ue.pointSub(k,{x:r[O*6+2]*l,y:b.bottom*r[O*6+3]*l}),se=Ue.pointSub(k,{x:r[O*6+4]*l,y:b.bottom*r[O*6+5]*l});w.bezierCurveTo(K.x,K.y,H.x,H.y,se.x,se.y)}else w.lineTo(U.x,U.y);if(b.left!==0)for(let O=0;O<r.length/6;O++){const K=Ue.pointSub(U,{x:-b.left*r[O*6+1]*l,y:r[O*6+0]*l}),H=Ue.pointSub(U,{x:-b.left*r[O*6+3]*l,y:r[O*6+2]*l}),se=Ue.pointSub(U,{x:-b.left*r[O*6+5]*l,y:r[O*6+4]*l});w.bezierCurveTo(K.x,K.y,H.x,H.y,se.x,se.y)}else w.lineTo(g.x,g.y);return u[T]=w,w}const p=et.createCanvas(i,i),h=p.getContext("2d"),m=et.createCanvas(i,i),x=m.getContext("2d");for(const b of t){const T=Ee.decodePiece(b),w=Fg(n,T.idx),g=f(Ee.decodeShape(n.shapes[T.idx]));h.clearRect(0,0,i,i),h.save(),h.lineWidth=2,h.stroke(g),h.globalCompositeOperation="source-in",h.drawImage(e,w.x-o,w.y-o,i,i,0,0,i,i),h.restore(),h.save(),h.globalCompositeOperation="source-in",h.globalAlpha=.2,h.fillStyle="black",h.fillRect(0,0,p.width,p.height),h.restore(),h.save(),h.clip(g),h.drawImage(e,w.x-o,w.y-o,i,i,0,0,i,i),h.restore(),h.save(),h.clip(g),h.strokeStyle="rgba(0,0,0,.4)",h.lineWidth=0,h.shadowColor="black",h.shadowBlur=2,h.shadowOffsetX=-1,h.shadowOffsetY=-1,h.stroke(g),h.restore(),h.save(),h.clip(g),h.strokeStyle="rgba(255,255,255,.4)",h.lineWidth=0,h.shadowColor="white",h.shadowBlur=2,h.shadowOffsetX=1,h.shadowOffsetY=1,h.stroke(g),h.restore(),x.clearRect(0,0,i,i),x.save(),x.lineWidth=1,x.stroke(g),x.globalCompositeOperation="source-in",x.drawImage(e,w.x-o,w.y-o,i,i,0,0,i,i),x.restore(),h.drawImage(m,0,0),c[T.idx]=await createImageBitmap(p)}return $l.log("end createPuzzleTileBitmaps"),c}function Fg(e,t){const n=Ee.coordByPieceIdxDeprecated(e,t);return{x:n.x*e.tileSize,y:n.y*e.tileSize,w:e.tileSize,h:e.tileSize}}async function Hg(e){const t=await et.loadImageToBitmap(e.info.image.url),n=await et.resizeBitmap(t,e.info.width,e.info.height);return await Gg(n,e.tiles,e.info)}var Wg={loadPuzzleBitmaps:Hg};const ha=30,ne={};function jg(e){return!!ne[e]||!1}function Kg(e,t){return{id:e,x:0,y:0,d:0,name:null,color:null,bgcolor:null,points:0,ts:t}}function Yg(e,t){ne[e]=t}function Zg(e){delete ne[e]}function Js(e,t){let n=0;for(const s of ne[e].players){if(Ee.decodePlayer(s).id===t)return n;n++}return-1}function qg(e,t){return ne[e].players.length>t?Ee.decodePlayer(ne[e].players[t]).id:null}function un(e,t){const n=Js(e,t);return n===-1?null:Ee.decodePlayer(ne[e].players[n])}function wi(e,t,n){const s=Js(e,t);s===-1?ne[e].players.push(Ee.encodePlayer(n)):ne[e].players[s]=Ee.encodePlayer(n)}function Xg(e,t,n){ne[e].puzzle.tiles[t]=Ee.encodePiece(n)}function Qg(e,t){ne[e].puzzle.data=t}function pa(e,t){return Js(e,t)!==-1}function Jg(e,t){return Pa(ne[e],t)}function e_(e,t){return k_(ne[e],t)}function t_(e,t,n){pa(e,t)?Ke(e,t,{ts:n}):wi(e,t,Kg(t,n))}function n_(e){return ne[e]||null}function Fo(e){return xi(ne[e])}function s_(e){return Ta(ne[e])}function ro(e){return ne[e].scoreMode}function ga(e){return ne[e].snapMode}function _a(e){return ne[e].gameVersion}function Ho(e){return Ci(ne[e])}function o_(e){return ne[e].puzzle.tiles.map(Ee.decodePiece).sort((n,s)=>n.z-s.z)}function Ke(e,t,n){const s=un(e,t);if(s!==null){for(const o of Object.keys(n))s[o]=n[o];wi(e,t,s)}}function ps(e,t){for(const n of Object.keys(t))ne[e].puzzle.data[n]=t[n]}function an(e,t,n){for(const s of Object.keys(n)){const o=Ee.decodePiece(ne[e].puzzle.tiles[t]);o[s]=n[s],ne[e].puzzle.tiles[t]=Ee.encodePiece(o)}}const dn=(e,t)=>Ee.decodePiece(ne[e].puzzle.tiles[t]),Ds=(e,t)=>dn(e,t).group,i_=(e,t)=>{const n=ne[e].puzzle.info;return t===0||t===n.tilesX-1||t===n.tiles-n.tilesX||t===n.tiles-1},ma=(e,t)=>{const n=ne[e].puzzle.info,s={x:(n.table.width-n.width)/2,y:(n.table.height-n.height)/2},o=h_(e,t);return Ue.pointAdd(s,o)},Ts=(e,t)=>dn(e,t).pos,Ei=e=>_a(e)<=3?r_(e):l_(e),l_=e=>({x:0,y:0,w:Pi(e),h:Ti(e)}),r_=e=>{const t=Pi(e),n=Ti(e),s=Math.round(t/4),o=Math.round(n/4);return{x:0-s,y:0-o,w:t+2*s,h:n+2*o}},a_=(e,t)=>dn(e,t).z,zn=(e,t)=>{for(const n of ne[e].puzzle.tiles){const s=Ee.decodePiece(n);if(s.owner===t)return s.idx}return-1},c_=(e,t)=>{const n=zn(e,t);return n<0?null:ne[e].puzzle.tiles[n]},va=e=>ne[e].puzzle.info.tileDrawOffset,bi=e=>ne[e].puzzle.info.tileDrawSize,u_=e=>wa(ne[e]),f_=e=>Ea(ne[e]),Ml=e=>ne[e].puzzle.data.maxGroup,Ul=e=>ne[e].puzzle.data.maxZ,d_=(e,t)=>{let n=0;for(const s of t){const o=a_(e,s);o>n&&(n=o)}return n};function h_(e,t){const n=ne[e].puzzle.info,s=Ee.coordByPieceIdxDeprecated(n,t),o=s.x*n.tileSize,i=s.y*n.tileSize;return{x:o,y:i}}function p_(e,t){const n=ne[e].puzzle.info,s=Ee.coordByPieceIdxDeprecated(n,t);return[s.y>0?t-n.tilesX:-1,s.x<n.tilesX-1?t+1:-1,s.y<n.tilesY-1?t+n.tilesX:-1,s.x>0?t-1:-1]}const Ll=(e,t,n)=>{for(const s of t)an(e,s,{z:n})},ya=(e,t,n)=>{const s=Ts(e,t),o=Ue.pointAdd(s,n);an(e,t,{pos:o})},gs=(e,t,n)=>_a(e)>=3?__(e,t,n):g_(e,t,n),g_=(e,t,n)=>{const s=bi(e),o=Ei(e),i=n;for(const l of t){const r=dn(e,l);r.pos.x+n.x<o.x?i.x=Math.max(o.x-r.pos.x,i.x):r.pos.x+s+n.x>o.x+o.w&&(i.x=Math.min(o.x+o.w-r.pos.x+s,i.x)),r.pos.y+n.y<o.y?i.y=Math.max(o.y-r.pos.y,i.y):r.pos.y+s+n.y>o.y+o.h&&(i.y=Math.min(o.y+o.h-r.pos.y+s,i.y))}if(!i.x&&!i.y)return!1;for(const l of t)ya(e,l,i);return!0},__=(e,t,n)=>{const s=Ei(e),o=bi(e)+2*va(e),i=s.x,l=s.y,r=i+s.w-o,c=l+s.h-o,u=n;for(const f of t){const p=dn(e,f);n.x<0?u.x=Math.max(i-p.pos.x,u.x):u.x=Math.min(r-p.pos.x,u.x),n.y<0?u.y=Math.max(l-p.pos.y,u.y):u.y=Math.min(c-p.pos.y,u.y)}if(!u.x&&!u.y)return!1;for(const f of t)ya(e,f,u);return!0},m_=(e,t)=>v_(e,t)===-1,v_=(e,t)=>dn(e,t).owner,Il=(e,t)=>{for(const n of t)an(e,n,{owner:-1,z:1})},ao=(e,t,n)=>{for(const s of t)an(e,s,{owner:n})};function y_(e,t){return St(e,t).length}function St(e,t){const n=ne[e].puzzle.tiles,s=Ee.decodePiece(n[t]),o=[];if(s.group)for(const i of n){const l=Ee.decodePiece(i);l.group===s.group&&o.push(l.idx)}else o.push(s.idx);return o}const w_=(e,t)=>{const n=ne[e].puzzle.info,s=ne[e].puzzle.tiles;let o=-1,i=-1;for(let l=0;l<s.length;l++){const r=Ee.decodePiece(s[l]);if(r.owner!==0)continue;const c={x:r.pos.x,y:r.pos.y,w:n.tileSize,h:n.tileSize};Ue.pointInBounds(t,c)&&(o===-1||r.z>o)&&(o=r.z,i=l)}return i},E_=(e,t)=>{const n=un(e,t);return n?n.bgcolor:null},b_=(e,t)=>{const n=un(e,t);return n?n.color:null},P_=(e,t)=>{const n=un(e,t);return n?n.name:null},Dl=(e,t)=>{const n=un(e,t);return n?n.points:0},T_=(e,t,n)=>{const s=Ds(e,t),o=Ds(e,n);return!!(s&&s===o)},Pi=e=>ne[e].puzzle.info.table.width,Ti=e=>ne[e].puzzle.info.table.height,C_=e=>ne[e].puzzle,x_=e=>ne[e].rng.obj,S_=e=>ne[e].puzzle.info.width,A_=e=>ne[e].puzzle.info.height,O_=(e,t)=>{if(ga(e)===On.REAL){for(const n of t)if(i_(e,n))return!0;return!1}return!0};function R_(e,t,n,s){const o=ne[e].puzzle,i=[],l=()=>{i.push([I.CHANGE_DATA,o.data])},r=m=>{i.push([I.CHANGE_PIECE,Ee.encodePiece(dn(e,m))])},c=m=>{for(const x of m)r(x)},u=()=>{const m=un(e,t);!m||i.push([I.CHANGE_PLAYER,Ee.encodePlayer(m)])};let f=!1;const p=(m,x,b)=>{const T=ne[m].puzzle.tiles,w=Ds(m,x),g=Ds(m,b);let v;const k=[];if(w&&k.push(w),g&&k.push(g),w)v=w;else if(g)v=g;else{const U=Ml(m)+1;ps(m,{maxGroup:U}),l(),v=Ml(m)}if(an(m,x,{group:v}),r(x),an(m,b,{group:v}),r(b),k.length>0)for(const U of T){const O=Ee.decodePiece(U);k.includes(O.group)&&(an(m,O.idx,{group:v}),r(O.idx))}},h=n[0];if(h===I.INPUT_EV_CONNECTION_CLOSE){const m=zn(e,t);if(m>=0){const x=St(e,m);ao(e,x,0),c(x)}}else if(h===I.INPUT_EV_BG_COLOR){const m=n[1];Ke(e,t,{bgcolor:m,ts:s}),u()}else if(h===I.INPUT_EV_PLAYER_COLOR){const m=n[1];Ke(e,t,{color:m,ts:s}),u()}else if(h===I.INPUT_EV_PLAYER_NAME){const m=`${n[1]}`.substr(0,16);Ke(e,t,{name:m,ts:s}),u()}else if(h===I.INPUT_EV_MOVE){const m=n[1],x=n[2],b=un(e,t);if(b){const T=b.x-m,w=b.y-x;Ke(e,t,{ts:s,x:T,y:w}),u();const g=zn(e,t);if(g>=0){const v=St(e,g),k={x:-m,y:-x};gs(e,v,k)&&c(v)}}}else if(h===I.INPUT_EV_MOUSE_DOWN){const m=n[1],x=n[2],b={x:m,y:x};Ke(e,t,{d:1,ts:s}),u();const T=w_(e,b);if(T>=0){const w=Ul(e)+1;ps(e,{maxZ:w}),l();const g=St(e,T);Ll(e,g,Ul(e)),ao(e,g,t),c(g)}}else if(h===I.INPUT_EV_MOUSE_MOVE){const m=n[1],x=n[2];if(!n[5])Ke(e,t,{x:m,y:x,ts:s}),u();else{const T=zn(e,t);if(T<0)Ke(e,t,{ts:s}),u();else{const w=n[1],g=n[2],v=n[3],k=n[4];Ke(e,t,{x:w,y:g,ts:s}),u();const U=St(e,T);gs(e,U,{x:v,y:k})&&c(U)}}}else if(h===I.INPUT_EV_MOUSE_UP){const x=zn(e,t);if(x>=0){const b=St(e,x);ao(e,b,0),c(b);const T=Ts(e,x),w=ma(e,x);if(O_(e,b)&&Ue.pointDistance(w,T)<o.info.snapDistance){const g=Ue.pointSub(w,T);gs(e,b,g),Il(e,b),c(b);let v=Dl(e,t);ro(e)===rn.FINAL?v+=b.length:ro(e)===rn.ANY&&(v+=1),Ke(e,t,{d:0,ts:s,points:v}),u(),Ho(e)===Fo(e)&&(ps(e,{finished:s}),l()),f=!0}else{const g=(k,U,O,K)=>{const H=ne[k].puzzle.info;if(O<0||T_(k,U,O))return!1;const se=Ts(k,U),Q=Ue.pointAdd(Ts(k,O),{x:K[0]*H.tileSize,y:K[1]*H.tileSize});if(Ue.pointDistance(se,Q)<H.snapDistance){const Y=Ue.pointSub(Q,se);let z=St(k,U);if(gs(k,z,Y),p(k,U,O),z=St(k,U),m_(k,O))Il(k,z);else{const q=d_(k,z);Ll(k,z,q)}return c(z),!0}return!1};let v=!1;for(const k of St(e,x)){const U=p_(e,k);if(g(e,k,U[0],[0,1])||g(e,k,U[1],[-1,0])||g(e,k,U[2],[0,-1])||g(e,k,U[3],[1,0])){v=!0;break}}if(v&&ro(e)===rn.ANY){const k=Dl(e,t)+1;Ke(e,t,{d:0,ts:s,points:k}),u()}else Ke(e,t,{d:0,ts:s}),u();v&&ga(e)===On.REAL&&Ho(e)===Fo(e)&&(ps(e,{finished:s}),l()),v&&(f=!0)}}else Ke(e,t,{d:0,ts:s}),u()}else if(h===I.INPUT_EV_ZOOM_IN){const m=n[1],x=n[2];Ke(e,t,{x:m,y:x,ts:s}),u()}else if(h===I.INPUT_EV_ZOOM_OUT){const m=n[1],x=n[2];Ke(e,t,{x:m,y:x,ts:s}),u()}else Ke(e,t,{ts:s}),u();return f&&i.push([I.PLAYER_SNAP,t]),i}function wa(e){return e.puzzle.data.started}function Ea(e){return e.puzzle.data.finished}function Ci(e){let t=0;for(const n of e.puzzle.tiles)Ee.decodePiece(n).owner===-1&&t++;return t}function xi(e){return e.puzzle.tiles.length}function ba(e){return e.players.map(Ee.decodePlayer)}function Pa(e,t){const n=t-ha*Rt.SEC;return ba(e).filter(s=>s.ts>=n)}function k_(e,t){const n=t-ha*Rt.SEC;return ba(e).filter(s=>s.ts<n&&s.points>0)}function Ta(e){var n;const t=((n=e.puzzle.info.image)==null?void 0:n.url)||e.puzzle.info.imageUrl;if(!t)throw new Error("[2021-07-11] no image url set");return t}function N_(e){return Ci(e)===xi(e)}var de={setGame:Yg,unsetGame:Zg,loaded:jg,playerExists:pa,getActivePlayers:Jg,getIdlePlayers:e_,addPlayer:t_,getFinishedPiecesCount:Ho,getPieceCount:Fo,getImageUrl:s_,get:n_,getGroupedPieceCount:y_,getPlayerBgColor:E_,getPlayerColor:b_,getPlayerName:P_,getPlayerIndexById:Js,getPlayerIdByIndex:qg,changePlayer:Ke,setPlayer:wi,setPiece:Xg,setPuzzleData:Qg,getBounds:Ei,getTableWidth:Pi,getTableHeight:Ti,getPuzzle:C_,getRng:x_,getPuzzleWidth:S_,getPuzzleHeight:A_,getPiecesSortedByZIndex:o_,getFirstOwnedPiece:c_,getPieceDrawOffset:va,getPieceDrawSize:bi,getFinalPiecePos:ma,getStartTs:u_,getFinishTs:f_,handleInput:R_,Game_getStartTs:wa,Game_getFinishTs:Ea,Game_getFinishedPiecesCount:Ci,Game_getPieceCount:xi,Game_getActivePlayers:Pa,Game_getImageUrl:Ta,Game_isFinished:N_};let Ca=-10,xa=20,Wo=2,Sa=15;const $_=5,M_=5,Si=1,U_=200,Vl=10,L_=100,I_=10,D_=1,V_=5;function B_(e){const t=e.random(0,255),n=e.random(0,255),s=e.random(0,255);return"rgba("+t+","+n+","+s+", 0.8)"}class Bl{constructor(t){this.radius=Vl,this.previousRadius=Vl,this.explodingDuration=L_,this.hasExploded=!1,this.alive=!0,this.color=B_(t),this.px=window.innerWidth/4+Math.random()*window.innerWidth/2,this.py=window.innerHeight,this.vx=Ca+Math.random()*xa,this.vy=(Wo+Math.random()*Sa)*-1,this.duration=0}update(t){if(this.hasExploded){const n=U_-this.radius;this.previousRadius=this.radius,this.radius+=n/I_,this.explodingDuration--,this.explodingDuration==0&&(this.alive=!1)}else this.vx+=0,this.vy+=Si,this.vy>=0&&t&&this.explode(t),this.px+=this.vx,this.py+=this.vy}draw(t){t.beginPath(),t.arc(this.px,this.py,this.previousRadius,0,Math.PI*2,!1),this.hasExploded||(t.fillStyle=this.color,t.lineWidth=1,t.fill())}explode(t){this.hasExploded=!0;const n=3+Math.floor(Math.random()*3);for(let s=0;s<n;s++){const o=10+Math.floor(Math.random()*21),i=$_+Math.random()*M_,l=2*Math.PI/o,r=Math.random()*l;for(let c=0;c<o;c++)t.push(new z_(this,c*l+r,i))}}}class z_{constructor(t,n,s){this.px=t.px,this.py=t.py,this.vx=Math.cos(n)*s,this.vy=Math.sin(n)*s,this.color=t.color,this.duration=40+Math.floor(Math.random()*20),this.alive=!0,this.radius=0}update(){this.vx+=0,this.vy+=Si/10,this.px+=this.vx,this.py+=this.vy,this.radius=3,this.duration--,this.duration<=0&&(this.alive=!1)}draw(t){t.beginPath(),t.arc(this.px,this.py,this.radius,0,Math.PI*2,!1),t.fillStyle=this.color,t.lineWidth=1,t.fill()}}class G_{constructor(t,n){this.canvas=t,this.rng=n,this.ctx=this.canvas.getContext("2d"),this.resize(),this.readyBombs=[],this.explodedBombs=[],this.particles=[],window.addEventListener("resize",()=>{this.resize()})}setSpeedParams(){let t=0,n=0;for(;t<this.canvas.height&&n>=0;)n+=Si,t+=n;Wo=n/2,Sa=n-Wo;const s=1/4*this.canvas.width/(n/2);Ca=-s,xa=2*s}resize(){this.setSpeedParams()}init(){this.readyBombs=[],this.explodedBombs=[],this.particles=[];for(let t=0;t<D_;t++)this.readyBombs.push(new Bl(this.rng))}update(){Math.random()*100<V_&&this.readyBombs.push(new Bl(this.rng));const t=[];for(;this.explodedBombs.length>0;){const o=this.explodedBombs.shift();if(!o)break;o.update(),o.alive&&t.push(o)}this.explodedBombs=t;const n=[];for(;this.readyBombs.length>0;){const o=this.readyBombs.shift();if(!o)break;o.update(this.particles),o.hasExploded?this.explodedBombs.push(o):n.push(o)}this.readyBombs=n;const s=[];for(;this.particles.length>0;){const o=this.particles.shift();if(!o)break;o.update(),o.alive&&s.push(o)}this.particles=s}render(){this.ctx.beginPath(),this.ctx.fillStyle="rgba(0, 0, 0, 0.1)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height);for(let t=0;t<this.readyBombs.length;t++)this.readyBombs[t].draw(this.ctx);for(let t=0;t<this.explodedBombs.length;t++)this.explodedBombs[t].draw(this.ctx);for(let t=0;t<this.particles.length;t++)this.particles[t].draw(this.ctx)}}var F_="/assets/click.bb97cb07.mp3",H_=Object.freeze(Object.defineProperty({__proto__:null,default:F_},Symbol.toStringTag,{value:"Module"})),W_="/assets/click2.98536db5.mp3",j_=Object.freeze(Object.defineProperty({__proto__:null,default:W_},Symbol.toStringTag,{value:"Module"})),K_="/assets/Oak-none-3275x2565mm-Architextures.cc917130.jpg",Y_=Object.freeze(Object.defineProperty({__proto__:null,default:K_},Symbol.toStringTag,{value:"Module"})),Z_="/assets/wood-dark.1e21ffc1.jpg",q_=Object.freeze(Object.defineProperty({__proto__:null,default:Z_},Symbol.toStringTag,{value:"Module"})),X_="/assets/wood-light.ae1bd383.jpg",Q_=Object.freeze(Object.defineProperty({__proto__:null,default:X_},Symbol.toStringTag,{value:"Module"})),J_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAW0lEQVQ4je1RywrAIAxLxP//5exixRWlVgZelpOKeTQFfnDypgy3eLIkSLLL8mxGPoHsU2hPAgDHBLvRX6hZZw/fwT0BtlLSONqCbWAmEIqMZOCDDlaDR3N03gOyDCn+y4DWmAAAAABJRU5ErkJggg==",em=Object.freeze(Object.defineProperty({__proto__:null,default:J_},Symbol.toStringTag,{value:"Module"})),tm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAARElEQVQ4jWNgGAU0Af+hmBCbgYGBgYERhwHEAEYGBgYGJtIdiApYyLAZBVDsAqoagC1ACQJyY4ERg0GCISh6KA4DigEAou8LC+LnIJoAAAAASUVORK5CYII=",nm=Object.freeze(Object.defineProperty({__proto__:null,default:tm},Symbol.toStringTag,{value:"Module"})),sm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAcUlEQVQ4ja1TQQ7AIAgD///n7jCozA2Hbk00jbG1KIrcARszTugoBs49qioZj7r2kKACptkyAOCJsJuA+GzglwHjvMSSWFVaENWVASxh5eRLiq5fN/ASjI89VcP2K3hHpq1cEXNaMfnrL3TDZP2tDuoOA6MzCCXWr38AAAAASUVORK5CYII=",om=Object.freeze(Object.defineProperty({__proto__:null,default:sm},Symbol.toStringTag,{value:"Module"})),im="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAU0lEQVQ4jWNgoAH4D8X42HDARKlt5BoAd82AuQAOGLGIYQQUPv0wF5CiCQUge4EsQ5C9QI4BjMguwBYeBAElscCIy1ZivMKIwSDBEBQ9FCckigEAU3QOD7TGvY4AAAAASUVORK5CYII=",lm=Object.freeze(Object.defineProperty({__proto__:null,default:im},Symbol.toStringTag,{value:"Module"}));const _s={"./assets/gfx/grab.png":em,"./assets/gfx/grab_mask.png":nm,"./assets/gfx/hand.png":om,"./assets/gfx/hand_mask.png":lm},co={"./assets/textures/Oak-none-3275x2565mm-Architextures.jpg":Y_,"./assets/textures/wood-dark.jpg":q_,"./assets/textures/wood-light.jpg":Q_},zl={"./assets/sounds/click.mp3":H_,"./assets/sounds/click2.mp3":j_};class rm{async init(){this.Audio={CLICK:new Audio(zl["./assets/sounds/click.mp3"].default),CLICK_2:new Audio(zl["./assets/sounds/click2.mp3"].default)},this.Gfx={GRAB:await et.loadImageToBitmap(_s["./assets/gfx/grab.png"].default),HAND:await et.loadImageToBitmap(_s["./assets/gfx/hand.png"].default),GRAB_MASK:await et.loadImageToBitmap(_s["./assets/gfx/grab_mask.png"].default),HAND_MASK:await et.loadImageToBitmap(_s["./assets/gfx/hand_mask.png"].default)},this.Textures={WOOD_DARK:await et.loadImageToBitmap(co["./assets/textures/wood-dark.jpg"].default),WOOD_LIGHT:await et.loadImageToBitmap(co["./assets/textures/wood-light.jpg"].default),OAK_BROWN:await et.loadImageToBitmap(co["./assets/textures/Oak-none-3275x2565mm-Architextures.jpg"].default)}}}class am{constructor(t,n,s,o){this.canvas=t,this.window=n,this.viewport=s,this.MODE=o,this.events=[],this.KEYS_ON=!0,this.LEFT=!1,this.RIGHT=!1,this.UP=!1,this.DOWN=!1,this.ZOOM_IN=!1,this.ZOOM_OUT=!1,this.SHIFT=!1,this.mouseDown=!1,this.lastMouseRaw=null,this.lastMouseWorld=null}_toWorldPoint(t,n){const s=this.viewport.viewportToWorld({x:t,y:n});return[s.x,s.y]}_toWorldDim(t,n){const s=this.viewport.viewportDimToWorld({w:t,h:n});return[s.w,s.h]}_mousePos(t){return this._toWorldPoint(t.offsetX,t.offsetY)}_canvasCenter(){return this._toWorldPoint(this.canvas.width/2,this.canvas.height/2)}_key(t,n){!this.KEYS_ON||(n.code==="ShiftLeft"||n.code==="ShiftRight"?this.SHIFT=t:n.code==="ArrowUp"||n.code==="KeyW"?this.UP=t:n.code==="ArrowDown"||n.code==="KeyS"?this.DOWN=t:n.code==="ArrowLeft"||n.code==="KeyA"?this.LEFT=t:n.code==="ArrowRight"||n.code==="KeyD"?this.RIGHT=t:n.code==="KeyQ"?this.ZOOM_OUT=t:n.code==="KeyE"&&(this.ZOOM_IN=t))}_onMouseDown(t){this.lastMouseWorld=this._mousePos(t),this.lastMouseRaw=[t.offsetX,t.offsetY],t.button===0&&(this.mouseDown=!0,this.addEvent([I.INPUT_EV_MOUSE_DOWN,...this.lastMouseWorld]))}_onMouseUp(t){this.lastMouseWorld=this._mousePos(t),this.lastMouseRaw=[t.offsetX,t.offsetY],t.button===0&&(this.mouseDown=!1,this.addEvent([I.INPUT_EV_MOUSE_UP,...this.lastMouseWorld]))}_onMouseMove(t){if(!this.lastMouseRaw)return;this.lastMouseWorld=this._mousePos(t);const n=this._toWorldDim(-(this.lastMouseRaw[0]-t.offsetX),-(this.lastMouseRaw[1]-t.offsetY));this.addEvent([I.INPUT_EV_MOUSE_MOVE,...this.lastMouseWorld,...n,this.mouseDown?1:0]),this.lastMouseRaw=[t.offsetX,t.offsetY]}_onWheel(t){if(this.lastMouseWorld=this._mousePos(t),this.viewport.canZoom(t.deltaY<0?"in":"out")){const n=t.deltaY<0?I.INPUT_EV_ZOOM_IN:I.INPUT_EV_ZOOM_OUT;this.addEvent([n,...this.lastMouseWorld])}}_onKeyUp(t){this._key(!0,t)}_onKeyDown(t){this._key(!1,t)}_onKeyPress(t){if(!!this.KEYS_ON){if(this.MODE===Ft&&(t.code==="KeyI"?this.addEvent([I.INPUT_EV_REPLAY_SPEED_UP]):t.code==="KeyO"?this.addEvent([I.INPUT_EV_REPLAY_SPEED_DOWN]):t.code==="KeyP"&&this.addEvent([I.INPUT_EV_REPLAY_TOGGLE_PAUSE])),t.code==="KeyH")this.addEvent([I.INPUT_EV_TOGGLE_INTERFACE]);else if(t.code==="Space")this.addEvent([I.INPUT_EV_TOGGLE_PREVIEW]);else if(t.code==="KeyF")this.addEvent([I.INPUT_EV_TOGGLE_FIXED_PIECES]);else if(t.code==="KeyG")this.addEvent([I.INPUT_EV_TOGGLE_LOOSE_PIECES]);else if(t.code==="KeyM")this.addEvent([I.INPUT_EV_TOGGLE_SOUNDS]);else if(t.code==="KeyN")this.addEvent([I.INPUT_EV_TOGGLE_PLAYER_NAMES]);else if(t.code==="KeyT")this.addEvent([I.INPUT_EV_TOGGLE_TABLE]);else if(t.code==="KeyC")this.addEvent([I.INPUT_EV_CENTER_FIT_PUZZLE]);else for(let n=0;n<=9;n++)if(t.code===`Digit${n}`){const s=t.shiftKey?I.INPUT_EV_STORE_POS:I.INPUT_EV_RESTORE_POS;this.addEvent([s,n]);break}}}_onWndMouseDown(t){t.target===this.canvas&&t.detail>1&&t.preventDefault()}registerEvents(){this.canvas.addEventListener("mousedown",this._onMouseDown.bind(this)),this.canvas.addEventListener("mouseup",this._onMouseUp.bind(this)),this.canvas.addEventListener("mousemove",this._onMouseMove.bind(this)),this.canvas.addEventListener("wheel",this._onWheel.bind(this)),this.window.addEventListener("keydown",this._onKeyUp.bind(this)),this.window.addEventListener("keyup",this._onKeyDown.bind(this)),this.window.addEventListener("keypress",this._onKeyPress.bind(this)),this.window.addEventListener("mousedown",this._onWndMouseDown.bind(this))}unregisterEvents(){this.canvas.removeEventListener("mousedown",this._onMouseDown.bind(this)),this.canvas.removeEventListener("mouseup",this._onMouseUp.bind(this)),this.canvas.removeEventListener("mousemove",this._onMouseMove.bind(this)),this.canvas.removeEventListener("wheel",this._onWheel.bind(this)),this.window.removeEventListener("keydown",this._onKeyUp.bind(this)),this.window.removeEventListener("keyup",this._onKeyDown.bind(this)),this.window.removeEventListener("keypress",this._onKeyPress.bind(this)),this.window.removeEventListener("mousedown",this._onWndMouseDown.bind(this))}createSnapshotEvents(t,n){if(!this.lastMouseRaw||!this.lastMouseWorld)return;const s=new $o(t).viewportToWorld({x:this.lastMouseRaw[0],y:this.lastMouseRaw[1]}),o=new $o(n).viewportToWorld({x:this.lastMouseRaw[0],y:this.lastMouseRaw[1]}),i=[-(s.x-o.x),-(s.y-o.y)];this.addEvent([I.INPUT_EV_MOUSE_MOVE,...this.lastMouseWorld,...i,this.mouseDown?1:0])}addEvent(t){this.events.push(t)}consumeAll(){if(this.events.length===0)return[];const t=this.events.slice();return this.events=[],t}createKeyEvents(){const t=(this.LEFT?1:0)-(this.RIGHT?1:0),n=(this.UP?1:0)-(this.DOWN?1:0);if(t!==0||n!==0){const s=(this.SHIFT?24:12)*Math.sqrt(this.viewport.getCurrentZoom()),o=this.viewport.viewportDimToWorld({w:t*s,h:n*s});this.addEvent([I.INPUT_EV_MOVE,o.w,o.h]),this.lastMouseWorld&&(this.lastMouseWorld[0]-=o.w,this.lastMouseWorld[1]-=o.h)}if(!(this.ZOOM_IN&&this.ZOOM_OUT)){if(this.ZOOM_IN){if(this.viewport.canZoom("in")){const s=this.lastMouseWorld||this._canvasCenter();this.addEvent([I.INPUT_EV_ZOOM_IN,...s])}}else if(this.ZOOM_OUT&&this.viewport.canZoom("out")){const s=this.lastMouseWorld||this._canvasCenter();this.addEvent([I.INPUT_EV_ZOOM_OUT,...s])}}}setHotkeys(t){this.KEYS_ON=t}}class cm{constructor(t,n,s,o){this.bounds=t,this.assets=n,this.boardPos=s,this.boardDim=o,this.images={}}async init(){this.images.dark=await this._createTableGfx(this.assets.Textures.WOOD_DARK,!0),this.images.light=await this._createTableGfx(this.assets.Textures.WOOD_LIGHT,!1),this.images.brown=await this._createTableGfx(this.assets.Textures.OAK_BROWN,!0)}getImage(t){return this.images[t]}async _createTableGfx(t,n){const s=et.repeat(t,this.bounds,3),o={w:s.width,h:s.height},i=o.w/this.bounds.w,l=s.getContext("2d");{const u={w:16,h:16};l.fillStyle="rgba(0, 0, 0, .5)",l.fillRect(0,0,o.w,u.h),l.fillRect(0,0+u.h,u.w,o.h-2*u.h),l.fillRect(0+o.w-u.w,0+u.h,u.w,o.h-2*u.h),l.fillRect(0,0+o.h-u.h,o.w,u.w)}const r=-this.bounds.x+this.boardPos.x,c=-this.bounds.y+this.boardPos.y;{const u={w:8,h:8};l.fillStyle="rgba(0, 0, 0, .5)",l.fillRect(i*(r-u.w),i*(c-u.h),i*(this.boardDim.w+2*u.w),i*u.h),l.fillRect(i*(r-u.w),i*c,i*u.h,i*this.boardDim.h),l.fillRect(i*(r+this.boardDim.w),i*c,i*u.w,i*this.boardDim.h),l.fillRect(i*(r-u.w),i*(c+this.boardDim.h),i*(this.boardDim.w+2*u.w),i*u.h)}return l.fillStyle=n?"rgba(0, 0, 0, .3)":"rgba(255, 255, 255, .3)",l.fillRect(i*r,i*c,i*this.boardDim.w,i*this.boardDim.h),await createImageBitmap(s)}}const mn=class{constructor(e,t){this.evts=e,this.viewport=t,this.viewportToggleSlot="",this.viewportSnapshots={}}snap(e){this.viewportSnapshots[e]=this.viewport.snapshot()}remove(e){delete this.viewportSnapshots[e]}handle(e){if(this.viewportSnapshots[mn.LAST]&&this.viewportToggleSlot===e){const t=this.viewport.snapshot(),n=this.viewportSnapshots[mn.LAST];return this.viewport.fromSnapshot(n),this.evts.createSnapshotEvents(t,n),delete this.viewportSnapshots[mn.LAST],mn.LAST}if(this.viewportSnapshots[e]){const t=this.viewportSnapshots[e],n=this.viewport.snapshot();return this.viewportSnapshots[mn.LAST]=n,this.viewportToggleSlot=e,this.viewport.fromSnapshot(t),this.evts.createSnapshotEvents(n,t),e}return null}};let vn=mn;vn.LAST="last";const Me={SOUND_VOLUME:"sound_volume",SOUND_ENABLED:"sound_enabled",OTHER_PLAYER_CLICK_SOUND_ENABLED:"other_player_click_sound_enabled",COLOR_BACKGROUND:"bg_color",SHOW_TABLE:"show_table",TABLE_TEXTURE:"table_texture",PLAYER_COLOR:"player_color",PLAYER_NAME:"player_name",SHOW_PLAYER_NAMES:"show_player_names"},ct={SOUND_VOLUME:100,SOUND_ENABLED:!0,OTHER_PLAYER_CLICK_SOUND_ENABLED:!0,COLOR_BACKGROUND:"#222222",SHOW_TABLE:!0,TABLE_TEXTURE:"dark",PLAYER_COLOR:"#ffffff",PLAYER_NAME:"anon",SHOW_PLAYER_NAMES:!0};class um{constructor(t,n,s,o){this.MODE=t,this.gameId=n,this.clientId=s,this.eventBus=o}init(){this.settings={},this.settings.soundsVolume=ke.getInt(Me.SOUND_VOLUME,ct.SOUND_VOLUME),this.settings.otherPlayerClickSoundEnabled=ke.getBool(Me.OTHER_PLAYER_CLICK_SOUND_ENABLED,ct.OTHER_PLAYER_CLICK_SOUND_ENABLED),this.settings.soundsEnabled=ke.getBool(Me.SOUND_ENABLED,ct.SOUND_ENABLED),this.settings.showPlayerNames=ke.getBool(Me.SHOW_PLAYER_NAMES,ct.SHOW_PLAYER_NAMES),this.settings.showTable=ke.getBool(Me.SHOW_TABLE,ct.SHOW_TABLE),this.settings.tableTexture=ke.getStr(Me.TABLE_TEXTURE,ct.TABLE_TEXTURE),this.MODE===Ft?(this.settings.background=ke.getStr(Me.COLOR_BACKGROUND,ct.COLOR_BACKGROUND),this.settings.color=ke.getStr(Me.PLAYER_COLOR,ct.PLAYER_COLOR),this.settings.name=ke.getStr(Me.PLAYER_NAME,ct.PLAYER_NAME)):(this.settings.background=de.getPlayerBgColor(this.gameId,this.clientId)||ke.getStr(Me.COLOR_BACKGROUND,ct.COLOR_BACKGROUND),this.settings.color=de.getPlayerColor(this.gameId,this.clientId)||ke.getStr(Me.PLAYER_COLOR,ct.PLAYER_COLOR),this.settings.name=de.getPlayerName(this.gameId,this.clientId)||ke.getStr(Me.PLAYER_NAME,ct.PLAYER_NAME))}showStatusMessage(t,n=void 0){this.eventBus.emit("statusMessage",{what:t,value:n})}setBackground(t){return this.settings.background!==t?(this.settings.background=t,ke.setStr(Me.COLOR_BACKGROUND,t),this.showStatusMessage("Background",t),this.eventBus.emit("onBgChange",t),!0):!1}setTableTexture(t){return this.settings.tableTexture!==t?(this.settings.tableTexture=t,ke.setStr(Me.TABLE_TEXTURE,t),this.showStatusMessage("Table texture",t),this.eventBus.emit("onTableTextureChange",t),!0):!1}setShowTable(t){return this.settings.showTable!==t?(this.settings.showTable=t,ke.setBool(Me.SHOW_TABLE,t),this.showStatusMessage("Table",t),this.eventBus.emit("onShowTableChange",t),!0):!1}setColor(t){return this.settings.color!==t?(this.settings.color=t,ke.setStr(Me.PLAYER_COLOR,t),this.showStatusMessage("Color",t),this.eventBus.emit("onColorChange",t),!0):!1}setName(t){return this.settings.name!==t?(this.settings.name=t,ke.setStr(Me.PLAYER_NAME,t),this.showStatusMessage("Name",t),this.eventBus.emit("onNameChange",t),!0):!1}setOtherPlayerClickSoundEnabled(t){return this.settings.otherPlayerClickSoundEnabled!==t?(this.settings.otherPlayerClickSoundEnabled=t,ke.setBool(Me.OTHER_PLAYER_CLICK_SOUND_ENABLED,t),this.showStatusMessage("Other player sounds",t),this.eventBus.emit("onOtherPlayerClickSoundEnabledChange",t),!0):!1}setSoundsEnabled(t){return this.settings.soundsEnabled!==t?(this.settings.soundsEnabled=t,ke.setBool(Me.SOUND_ENABLED,t),this.showStatusMessage("Sounds",t),this.eventBus.emit("onSoundsEnabledChange",t),!0):!1}setSoundsVolume(t){return this.settings.soundsVolume!==t?(this.settings.soundsVolume=t,ke.setInt(Me.SOUND_VOLUME,t),this.showStatusMessage("Volume",t),this.eventBus.emit("onSoundsVolumeChange",t),!0):!1}setShowPlayerNames(t){return this.settings.showPlayerNames!==t?(this.settings.showPlayerNames=t,ke.setBool(Me.SHOW_PLAYER_NAMES,t),this.showStatusMessage("Player names",t),this.eventBus.emit("onShowPlayerNamesChange",t),!0):!1}toggleSoundsEnabled(){this.settings.soundsEnabled=!this.settings.soundsEnabled;const t=this.settings.soundsEnabled;this.eventBus.emit("toggleSoundsEnabled",t),ke.setBool(Me.SOUND_ENABLED,t),this.showStatusMessage("Sounds",t)}togglePlayerNames(){this.settings.showPlayerNames=!this.settings.showPlayerNames;const t=this.settings.showPlayerNames;this.eventBus.emit("togglePlayerNames",t),ke.setBool(Me.SHOW_PLAYER_NAMES,t),this.showStatusMessage("Player names",t)}toggleShowTable(){this.settings.showTable=!this.settings.showTable;const t=this.settings.showTable;this.eventBus.emit("toggleShowTable",t),ke.setBool(Me.SHOW_TABLE,t),this.showStatusMessage("Table",t)}showTable(){return this.settings.showTable}tableTexture(){return this.settings.tableTexture}soundsVolume(){return this.settings.soundsVolume}background(){return this.settings.background}color(){return this.settings.color}name(){return this.settings.name}otherPlayerClickSoundEnabled(){return this.settings.otherPlayerClickSoundEnabled}soundsEnabled(){return this.settings.soundsEnabled}showPlayerNames(){return this.settings.showPlayerNames}}class fm{constructor(t,n){this.assets=t,this.playerSettings=n}playPieceConnected(){const t=this.playerSettings.soundsVolume();this.assets.Audio.CLICK.volume=t/100,this.assets.Audio.CLICK.play()}playOtherPieceConnected(){const t=this.playerSettings.soundsVolume();this.assets.Audio.CLICK_2.volume=t/100,this.assets.Audio.CLICK_2.play()}}class dm{constructor(t,n){this.gameId=t,this.eventBus=n}update(t){const n=de.getStartTs(this.gameId),s=de.getFinishTs(this.gameId);this.eventBus.emit("status",{finished:!!s,duration:(s||t)-n,piecesDone:de.getFinishedPiecesCount(this.gameId),piecesTotal:de.getPieceCount(this.gameId)}),this.eventBus.emit("players",{active:de.getActivePlayers(this.gameId,t),idle:de.getIdlePlayers(this.gameId,t)})}}class hm{constructor(t,n){this.canvas=t,this.assets=n,this.cursorImages={},this.cursorDown="",this.cursor="",this.cursorState=!1,this.CURSOR_W=n.Gfx.GRAB.width,this.CURSOR_W_2=Math.round(this.CURSOR_W/2),this.CURSOR_H=n.Gfx.GRAB.height,this.CURSOR_H_2=Math.round(this.CURSOR_H/2)}async get(t){const n=t.color+" "+t.d;if(!this.cursorImages[n]){const s=t.d?this.assets.Gfx.GRAB:this.assets.Gfx.HAND;if(t.color){const o=t.d?this.assets.Gfx.GRAB_MASK:this.assets.Gfx.HAND_MASK;this.cursorImages[n]=await createImageBitmap(et.colorizedCanvas(s,o,t.color))}else this.cursorImages[n]=s}return this.cursorImages[n]}updatePlayerCursorState(t){this.cursorState=t;const[n,s]=t?[this.cursorDown,"grab"]:[this.cursor,"default"];this.canvas.style.cursor=`url('${n}') ${this.CURSOR_W_2} ${this.CURSOR_H_2}, ${s}`}updatePlayerCursorColor(t){this.cursorDown=et.colorizedCanvas(this.assets.Gfx.GRAB,this.assets.Gfx.GRAB_MASK,t).toDataURL(),this.cursor=et.colorizedCanvas(this.assets.Gfx.HAND,this.assets.Gfx.HAND_MASK,t).toDataURL(),this.updatePlayerCursorState(this.cursorState)}}const Gn="play",Ft="replay";let Qt=!0,Jt=!0;const pm=e=>e.owner===-1?Qt:Jt;let Ie=!0;async function Aa(e,t,n,s,o,i){typeof window.DEBUG=="undefined"&&(window.DEBUG=!1);const l=E=>s===Ft||E.id!==t,r=new rm;await r.init();const c=o,u=new hm(c,r),f={final:!1,log:[],logPointer:0,speeds:[.5,1,2,5,10,20,50,100,250,500],speedIdx:1,paused:!1,lastRealTs:0,lastGameTs:0,gameStartTs:0,skipNonActionPhases:!0,dataOffset:0};Gt.onConnectionStateChange(E=>{i.emit("connectionState",E)});const p=async E=>{const y=f.dataOffset;f.dataOffset+=1e4;const S=await Gt.requestReplayData(E,y);return f.log=f.log.slice(f.logPointer),f.logPointer=0,f.log.push(...S.log),S.log.length===0&&(f.final=!0),S};let h=()=>0;const m=async()=>{if(s===Gn){const E=await Gt.connect(n,e,t),y=Ee.decodeGame(E);de.setGame(y.id,y),h=()=>Rt.timestamp()}else if(s===Ft){const E=await p(e);if(!E.game)throw"[ 2021-05-29 no game received ]";const y=Ee.decodeGame(E.game);de.setGame(y.id,y),f.lastRealTs=Rt.timestamp(),f.gameStartTs=parseInt(E.log[0][4],10),f.lastGameTs=f.gameStartTs,h=()=>f.lastGameTs}else throw"[ 2020-12-22 MODE invalid, must be play|replay ]";Ie=!0};await m();const x=de.getPieceDrawOffset(e),b=de.getPieceDrawSize(e),T=de.getPuzzleWidth(e),w=de.getPuzzleHeight(e),g=de.getTableWidth(e),v=de.getTableHeight(e),k={x:(g-T)/2,y:(v-w)/2},U={w:T,h:w},O={w:b,h:b},K=de.getBounds(e),H=new cm(K,r,k,U);await H.init();const se=await Wg.loadPuzzleBitmaps(de.getPuzzle(e)),Q=new $o,Y=new am(c,window,Q,s),z=new vn(Y,Q),q=new um(s,e,t,i);q.init();const ve=new fm(r,q),$e=new G_(c,de.getRng(e));$e.init();const fe=c.getContext("2d");c.classList.add("loaded"),i.emit("puzzleCut"),Q.calculateZoomCapping(window.innerWidth,window.innerHeight,g,v);const le=()=>{Q.reset(),Q.move(-(g-c.width)/2,-(v-c.height)/2);const E=Q.worldDimToViewportRaw(U),y=20,S=c.width-y*2,C=c.height-y*2;if(E.w>S||E.h>C||E.w<S&&E.h<C){const F=Math.min(S/E.w,C/E.h),B={x:c.width/2,y:c.height/2};Q.setZoom(F,B)}};Y.registerEvents(),le(),z.snap("center");const xe=de.getImageUrl(e),ze=new dm(e,i);ze.update(h());const xt=!!de.getFinishTs(e);let st=xt;const ot=()=>st&&!xt;Y.addEvent([I.INPUT_EV_BG_COLOR,q.background()]),Y.addEvent([I.INPUT_EV_PLAYER_COLOR,q.color()]),Y.addEvent([I.INPUT_EV_PLAYER_NAME,q.name()]),u.updatePlayerCursorColor(q.color());const je=()=>{i.emit("replaySpeed",f.speeds[f.speedIdx]),i.emit("replayPaused",f.paused)},Be=(E,y=void 0)=>{i.emit("statusMessage",{what:E,value:y})},R=()=>{f.speedIdx+1<f.speeds.length&&(f.speedIdx++,je(),Be("Speed Up"))},Z=()=>{f.speedIdx>=1&&(f.speedIdx--,je(),Be("Speed Down"))},W=()=>{f.paused=!f.paused,je(),Be(f.paused?"Paused":"Playing")};let X=!0;const Pe=()=>{X=!X,i.emit("toggleInterface",X),Be("Interface",X)};let ye=!1;const ae=()=>{ye=!ye,i.emit("togglePreview",ye)};i.on("replayOnSpeedUp",()=>{R()}),i.on("replayOnSpeedDown",()=>{Z()}),i.on("replayOnPauseToggle",()=>{W()}),i.on("onPreviewChange",E=>{ye!==E&&(ye=E)}),i.on("onBgChange",E=>{Y.addEvent([I.INPUT_EV_BG_COLOR,E])}),i.on("onTableTextureChange",()=>{Ie=!0}),i.on("onShowTableChange",()=>{Ie=!0}),i.on("onColorChange",E=>{Y.addEvent([I.INPUT_EV_PLAYER_COLOR,E])}),i.on("onNameChange",E=>{Y.addEvent([I.INPUT_EV_PLAYER_NAME,E])}),i.on("onSoundsVolumeChange",()=>{ve.playPieceConnected()}),i.on("setHotkeys",E=>{Y.setHotkeys(E)}),i.on("requireRerender",()=>{Ie=!0});const ie=[];let d;const _=()=>{ie.forEach(E=>{clearInterval(E)}),d&&clearTimeout(d)};if(s===Gn?ie.push(setInterval(()=>{ze.update(h())},1e3)):s===Ft&&je(),s===Gn)Gt.onServerChange(E=>{E[0],E[1],E[2];const y=E[3];let S=!1,C=!1;for(const[F,B]of y)switch(F){case I.CHANGE_PLAYER:{const V=Ee.decodePlayer(B);V.id!==t&&(de.setPlayer(e,V.id,V),S=!0)}break;case I.CHANGE_PIECE:{const V=Ee.decodePiece(B);de.setPiece(e,V.idx,V),S=!0}break;case I.CHANGE_DATA:de.setPuzzleData(e,B),S=!0;break;case I.PLAYER_SNAP:B!==t&&(C=!0);break}C&&q.soundsEnabled()&&q.otherPlayerClickSoundEnabled()&&ve.playOtherPieceConnected(),S&&(Ie=!0),st=!!de.getFinishTs(e)});else if(s===Ft){const E=(C,F)=>{const B=C;if(B[0]===I.LOG_ADD_PLAYER){const V=B[1];return de.addPlayer(e,V,F),!0}if(B[0]===I.LOG_UPDATE_PLAYER){const V=de.getPlayerIdByIndex(e,B[1]);if(!V)throw"[ 2021-05-17 player not found (update player) ]";return de.addPlayer(e,V,F),!0}if(B[0]===I.LOG_HANDLE_INPUT){const V=de.getPlayerIdByIndex(e,B[1]);if(!V)throw"[ 2021-05-17 player not found (handle input) ]";const J=B[2];return de.handleInput(e,V,J,F),!0}return!1};let y=f.lastGameTs;const S=async()=>{f.logPointer+1>=f.log.length&&await p(e);const C=Rt.timestamp();if(f.paused){f.lastRealTs=C,d=setTimeout(S,50);return}const B=(C-f.lastRealTs)*f.speeds[f.speedIdx];let V=f.lastGameTs+B,J=!0;do if(f.paused)J=!1;else{const ce=f.logPointer+1;if(ce>=f.log.length)J=!1;else{const Te=f.log[f.logPointer],Ce=y+Te[Te.length-1],Se=f.log[ce],tt=Se[Se.length-1],mt=Ce+tt;mt>V?(V+500*Rt.MS<mt&&(V+=tt),J=!1):(y=Ce,E(Se,mt)&&(Ie=!0),f.logPointer=ce)}}while(J);f.lastRealTs=C,f.lastGameTs=V,ze.update(h()),f.final||(d=setTimeout(S,50))};S()}const $=Lp({update:()=>{Y.createKeyEvents();for(const E of Y.consumeAll())if(s===Gn){const y=E[0];if(y===I.INPUT_EV_MOVE){const F=Q.worldDimToViewportRaw({w:E[1],h:E[2]});Ie=!0,Q.move(F.w,F.h),z.remove(vn.LAST)}else if(y===I.INPUT_EV_MOUSE_MOVE){if(E[5]&&!de.getFirstOwnedPiece(e,t)){const B=Q.worldDimToViewportRaw({w:E[3],h:E[4]});Ie=!0,Q.move(B.w,B.h),z.remove(vn.LAST)}}else if(y===I.INPUT_EV_PLAYER_COLOR)u.updatePlayerCursorColor(E[1]);else if(y===I.INPUT_EV_MOUSE_DOWN)u.updatePlayerCursorState(!0);else if(y===I.INPUT_EV_MOUSE_UP)u.updatePlayerCursorState(!1);else if(y===I.INPUT_EV_ZOOM_IN){const F={x:E[1],y:E[2]};Ie=!0,Q.zoom("in",Q.worldToViewportRaw(F)),z.remove(vn.LAST)}else if(y===I.INPUT_EV_ZOOM_OUT){const F={x:E[1],y:E[2]};Ie=!0,Q.zoom("out",Q.worldToViewportRaw(F)),z.remove(vn.LAST)}else if(y===I.INPUT_EV_TOGGLE_INTERFACE)Pe();else if(y===I.INPUT_EV_TOGGLE_PREVIEW)ae();else if(y===I.INPUT_EV_TOGGLE_SOUNDS)q.toggleSoundsEnabled();else if(y===I.INPUT_EV_TOGGLE_PLAYER_NAMES)q.togglePlayerNames();else if(y===I.INPUT_EV_CENTER_FIT_PUZZLE){const F="center",B=z.handle(F);Be(B?`Restored position "${B}"`:`Position "${F}" not set`)}else if(y===I.INPUT_EV_TOGGLE_FIXED_PIECES)Qt=!Qt,Be(`${Qt?"Showing":"Hiding"} finished pieces`),Ie=!0;else if(y===I.INPUT_EV_TOGGLE_LOOSE_PIECES)Jt=!Jt,Be(`${Jt?"Showing":"Hiding"} unfinished pieces`),Ie=!0;else if(y===I.INPUT_EV_TOGGLE_TABLE)q.toggleShowTable();else if(y===I.INPUT_EV_STORE_POS){const F=`${E[1]}`;z.snap(F),Be(`Stored position ${F}`)}else if(y===I.INPUT_EV_RESTORE_POS){const F=`${E[1]}`,B=z.handle(F);Be(B?`Restored position "${B}"`:`Position "${F}" not set`)}const S=h(),C=de.handleInput(e,t,E,S);q.soundsEnabled()&&C.find(F=>F[0]===I.PLAYER_SNAP)&&ve.playPieceConnected(),C.length>0&&(Ie=!0),Gt.sendClientEvent(E)}else if(s===Ft){const y=E[0];if(y===I.INPUT_EV_REPLAY_TOGGLE_PAUSE)W();else if(y===I.INPUT_EV_REPLAY_SPEED_DOWN)Z();else if(y===I.INPUT_EV_REPLAY_SPEED_UP)R();else if(y===I.INPUT_EV_MOVE){const S=Q.worldDimToViewportRaw({w:E[1],h:E[2]});Ie=!0,Q.move(S.w,S.h)}else if(y===I.INPUT_EV_MOUSE_MOVE){if(E[5]){const C=Q.worldDimToViewportRaw({w:E[3],h:E[4]});Ie=!0,Q.move(C.w,C.h)}}else if(y===I.INPUT_EV_PLAYER_COLOR)u.updatePlayerCursorColor(E[1]);else if(y===I.INPUT_EV_MOUSE_DOWN)u.updatePlayerCursorState(!0);else if(y===I.INPUT_EV_MOUSE_UP)u.updatePlayerCursorState(!1);else if(y===I.INPUT_EV_ZOOM_IN){const S={x:E[1],y:E[2]};Ie=!0,Q.zoom("in",Q.worldToViewportRaw(S))}else if(y===I.INPUT_EV_ZOOM_OUT){const S={x:E[1],y:E[2]};Ie=!0,Q.zoom("out",Q.worldToViewportRaw(S))}else if(y===I.INPUT_EV_TOGGLE_INTERFACE)Pe();else if(y===I.INPUT_EV_TOGGLE_PREVIEW)ae();else if(y===I.INPUT_EV_TOGGLE_SOUNDS)q.toggleSoundsEnabled();else if(y===I.INPUT_EV_TOGGLE_PLAYER_NAMES)q.togglePlayerNames();else if(y===I.INPUT_EV_CENTER_FIT_PUZZLE){const S="center",C=z.handle(S);Be(C?`Restored position "${C}"`:`Position "${S}" not set`)}else if(y===I.INPUT_EV_TOGGLE_FIXED_PIECES)Qt=!Qt,Be(`${Qt?"Showing":"Hiding"} finished pieces`),Ie=!0;else if(y===I.INPUT_EV_TOGGLE_LOOSE_PIECES)Jt=!Jt,Be(`${Jt?"Showing":"Hiding"} unfinished pieces`),Ie=!0;else if(y===I.INPUT_EV_TOGGLE_TABLE)q.toggleShowTable();else if(y===I.INPUT_EV_STORE_POS){const S=`${E[1]}`;z.snap(S),Be(`Stored position ${S}`)}else if(y===I.INPUT_EV_RESTORE_POS){const S=`${E[1]}`,C=z.handle(S);Be(C?`Restored position "${C}"`:`Position "${S}" not set`)}}st=!!de.getFinishTs(e),ot()&&($e.update(),Ie=!0)},render:async()=>{if(!Ie)return;const E=h();let y,S,C;if(window.DEBUG&&Dt.checkpoint_start(0),fe.fillStyle=q.background(),fe.fillRect(0,0,c.width,c.height),window.DEBUG&&Dt.checkpoint("clear done"),q.showTable()){const V=H.getImage(q.tableTexture());V&&(y=Q.worldToViewportRaw(K),S=Q.worldDimToViewportRaw(K),fe.drawImage(V,y.x,y.y,S.w,S.h))}window.DEBUG&&Dt.checkpoint("table done"),q.showTable()||(y=Q.worldToViewportRaw(k),S=Q.worldDimToViewportRaw(U),fe.fillStyle="rgba(255, 255, 255, .3)",fe.fillRect(y.x,y.y,S.w,S.h)),window.DEBUG&&Dt.checkpoint("board done");const F=de.getPiecesSortedByZIndex(e);window.DEBUG&&Dt.checkpoint("get pieces done"),S=Q.worldDimToViewportRaw(O);for(const V of F)!pm(V)||(C=se[V.idx],y=Q.worldToViewportRaw({x:x+V.pos.x,y:x+V.pos.y}),fe.drawImage(C,0,0,C.width,C.height,y.x,y.y,S.w,S.h));window.DEBUG&&Dt.checkpoint("pieces done");const B=[];for(const V of de.getActivePlayers(e,E))l(V)&&(C=await u.get(V),y=Q.worldToViewport(V),fe.drawImage(C,y.x-u.CURSOR_W_2,y.y-u.CURSOR_H_2),q.showPlayerNames()&&B.push([`${V.name} (${V.points})`,y.x,y.y+u.CURSOR_H]));fe.fillStyle="white",fe.textAlign="center";for(const[V,J,ce]of B)fe.fillText(V,J,ce);window.DEBUG&&Dt.checkpoint("players done"),ze.update(E),window.DEBUG&&Dt.checkpoint("HUD done"),ot()&&$e.render(),Ie=!1}}),G=()=>{_(),$.stop(),Y&&Y.unregisterEvents()};return{previewImageUrl:xe,playerSettings:q,puzzleStatus:ze,game:de.get(e),disconnect:Gt.disconnect,connect:m,unload:G}}let Oa;const gm=async()=>{Oa=await(await Le.pub.config()).json()},_m=()=>Oa;var Ai={init:gm,get:_m};const mm={key:0},vm=D(" LOST CONNECTION "),ym={key:2},Ra=me({__name:"ConnectionOverlay",props:{connectionState:null},emits:["reconnect","close"],setup(e,{emit:t}){const n=e,s=he(()=>n.connectionState===Gt.CONN_STATE_DISCONNECTED),o=he(()=>n.connectionState===Gt.CONN_STATE_CONNECTING),i=he(()=>!!(s.value||o.value));return(l,r)=>{const c=_e("icon"),u=_e("overlay");return Ae((A(),we(u,{class:"connection-lost",onClose:r[1]||(r[1]=f=>t("close"))},{default:De(()=>[ue(s)?(A(),L("div",mm,[N(c,{icon:"disconnect"}),vm,N(c,{icon:"disconnect"})])):oe("",!0),ue(s)?(A(),L("span",{key:1,class:"btn",onClick:r[0]||(r[0]=f=>t("reconnect"))},"Reconnect")):oe("",!0),ue(o)?(A(),L("div",ym,"Connecting...")):oe("",!0)]),_:1},512)),[[Gr,ue(i)]])}}}),wm={class:"help"},Em=D(" Move up:"),bm=a("kbd",null,"W",-1),Pm=D("/"),Tm=a("kbd",null,"\u2191",-1),Cm=D("/"),xm=D(" Move down:"),Sm=a("kbd",null,"S",-1),Am=D("/"),Om=a("kbd",null,"\u2193",-1),Rm=D("/"),km=D(" Move left:"),Nm=a("kbd",null,"A",-1),$m=D("/"),Mm=a("kbd",null,"\u2190",-1),Um=D("/"),Lm=D(" Move right:"),Im=a("kbd",null,"D",-1),Dm=D("/"),Vm=a("kbd",null,"\u2192",-1),Bm=D("/"),zm=a("tr",null,[a("td"),a("td",null,[a("div",null,[D("Move faster by holding "),a("kbd",null,"Shift")])])],-1),Gm=D(" Zoom in:"),Fm=a("kbd",null,"E",-1),Hm=D("/"),Wm=D(" Zoom out:"),jm=a("kbd",null,"Q",-1),Km=D("/"),Ym=D(" Toggle preview:"),Zm=a("td",null,[a("div",null,[a("kbd",null,"Space")])],-1),qm=D(" Center puzzle in screen:"),Xm=a("td",null,[a("div",null,[a("kbd",null,"C")])],-1),Qm=D(" Toggle fixed pieces:"),Jm=a("td",null,[a("div",null,[a("kbd",null,"F")])],-1),ev=D(" Toggle loose pieces:"),tv=a("td",null,[a("div",null,[a("kbd",null,"G")])],-1),nv=D(" Toggle table:"),sv=a("td",null,[a("div",null,[a("kbd",null,"T")])],-1),ov=D(" Toggle interface:"),iv=a("td",null,[a("div",null,[a("kbd",null,"H")])],-1),lv=D(" Toggle player names:"),rv=a("td",null,[a("div",null,[a("kbd",null,"N")])],-1),av=D(" Toggle sounds:"),cv=a("td",null,[a("div",null,[a("kbd",null,"M")])],-1),uv=D(" Store position [0-9]:"),fv=a("td",null,[a("div",null,[a("kbd",null,"Shift"),D(" + "),a("kbd",null,"0"),D("-"),a("kbd",null,"9")])],-1),dv=D(" Restore position [0-9]:"),hv=a("td",null,[a("div",null,[a("kbd",null,"0"),D("-"),a("kbd",null,"9")])],-1),pv=D(" Speed up (replay):"),gv=a("td",null,[a("div",null,[a("kbd",null,"I")])],-1),_v=D(" Speed down (replay):"),mv=a("td",null,[a("div",null,[a("kbd",null,"O")])],-1),vv=D(" Pause (replay):"),yv=a("td",null,[a("div",null,[a("kbd",null,"P")])],-1),Oi=me({__name:"HelpOverlay",emits:["close"],setup(e,{emit:t}){return(n,s)=>{const o=_e("icon"),i=_e("overlay");return A(),we(i,{class:"transparent",onClose:s[0]||(s[0]=l=>t("close"))},{default:De(()=>[a("table",wm,[a("tr",null,[a("td",null,[N(o,{icon:"arrow-up"}),Em]),a("td",null,[a("div",null,[bm,Pm,Tm,Cm,N(o,{icon:"mouse-left"})])])]),a("tr",null,[a("td",null,[N(o,{icon:"arrow-down"}),xm]),a("td",null,[a("div",null,[Sm,Am,Om,Rm,N(o,{icon:"mouse-left"})])])]),a("tr",null,[a("td",null,[N(o,{icon:"arrow-left"}),km]),a("td",null,[a("div",null,[Nm,$m,Mm,Um,N(o,{icon:"mouse-left"})])])]),a("tr",null,[a("td",null,[N(o,{icon:"arrow-right"}),Lm]),a("td",null,[a("div",null,[Im,Dm,Vm,Bm,N(o,{icon:"mouse-left"})])])]),zm,a("tr",null,[a("td",null,[N(o,{icon:"zoom-in"}),Gm]),a("td",null,[a("div",null,[Fm,Hm,N(o,{icon:"mouse-wheel"})])])]),a("tr",null,[a("td",null,[N(o,{icon:"zoom-out"}),Wm]),a("td",null,[a("div",null,[jm,Km,N(o,{icon:"mouse-wheel"})])])]),a("tr",null,[a("td",null,[N(o,{icon:"preview"}),Ym]),Zm]),a("tr",null,[a("td",null,[N(o,{icon:"center"}),qm]),Xm]),a("tr",null,[a("td",null,[N(o,{icon:"puzzle-piece-locked"}),Qm]),Jm]),a("tr",null,[a("td",null,[N(o,{icon:"puzzle-piece-free"}),ev]),tv]),a("tr",null,[a("td",null,[N(o,{icon:"table"}),nv]),sv]),a("tr",null,[a("td",null,[N(o,{icon:"eye"}),ov]),iv]),a("tr",null,[a("td",null,[N(o,{icon:"player-name"}),lv]),rv]),a("tr",null,[a("td",null,[N(o,{icon:"volume-up"}),av]),cv]),a("tr",null,[a("td",null,[N(o,{icon:"save-pos"}),uv]),fv]),a("tr",null,[a("td",null,[N(o,{icon:"load-pos"}),dv]),hv]),a("tr",null,[a("td",null,[N(o,{icon:"speed-up"}),pv]),gv]),a("tr",null,[a("td",null,[N(o,{icon:"speed-down"}),_v]),mv]),a("tr",null,[a("td",null,[N(o,{icon:"pause"}),vv]),yv])])]),_:1})}}}),wv={class:"help"},Ev=a("tr",null,[a("td",{colspan:"2"},"Info about this puzzle")],-1),bv=a("td",null,"Image Title: ",-1),Pv=a("td",null,"Scoring: ",-1),Tv=["title"],Cv=a("td",null,"Shapes: ",-1),xv=["title"],Sv=a("td",null,"Snapping: ",-1),Av=["title"],Ri=me({__name:"InfoOverlay",props:{game:null},emits:["close"],setup(e,{emit:t}){const n=e,s=he(()=>{switch(n.game.scoreMode){case rn.ANY:return["Any","Score when pieces are connected to each other or on final location"];case rn.FINAL:default:return["Final","Score when pieces are put to their final location"]}}),o=he(()=>{switch(n.game.shapeMode){case Zn.FLAT:return["Flat","All pieces flat on all sides"];case Zn.ANY:return["Any","Flat pieces can occur anywhere"];case Zn.NORMAL:default:return["Normal",""]}}),i=he(()=>{switch(n.game.snapMode){case On.REAL:return["Real","Pieces snap only to corners, already snapped pieces and to each other"];case On.NORMAL:default:return["Normal","Pieces snap to final destination and to each other"]}});return(l,r)=>{const c=_e("overlay");return A(),we(c,{class:"transparent",onClose:r[0]||(r[0]=u=>t("close"))},{default:De(()=>{var u;return[a("table",wv,[Ev,a("tr",null,[bv,a("td",null,ee((u=e.game.puzzle.info.image)==null?void 0:u.title),1)]),a("tr",null,[Pv,a("td",null,[a("span",{title:ue(i)[1]},ee(ue(s)[0]),9,Tv)])]),a("tr",null,[Cv,a("td",null,[a("span",{title:ue(i)[1]},ee(ue(o)[0]),9,xv)])]),a("tr",null,[Sv,a("td",null,[a("span",{title:ue(i)[1]},ee(ue(i)[0]),9,Av)])])])]}),_:1})}}}),Ov={class:"overlay-content"},ka=me({__name:"Overlay",emits:["bgclick","close"],setup(e,{emit:t}){const n=j(),s=o=>{o.code==="Escape"&&window.getComputedStyle(n.value).display!=="none"&&t("close")};return Qe(()=>{window.addEventListener("keyup",s)}),$n(()=>{window.removeEventListener("keyup",s)}),(o,i)=>(A(),L("div",{class:"overlay",ref_key:"el",ref:n},[a("div",{class:"overlay-background",onClick:i[0]||(i[0]=l=>t("bgclick"))}),a("div",Ov,[Tr(o.$slots,"default")])],512))}}),Rv={class:"preview"},ki=me({__name:"PreviewOverlay",props:{img:null},emits:["close"],setup(e,{emit:t}){const n=e,s=he(()=>({backgroundImage:`url('${n.img}')`}));return(o,i)=>{const l=_e("overlay");return A(),we(l,{class:"preview-overlay",onClose:i[0]||(i[0]=r=>t("close"))},{default:De(()=>[a("div",Rv,[a("div",{class:"img",style:Nt(ue(s))},null,4)])]),_:1})}}}),kv={class:"puzzle-status"},Ni=me({__name:"PuzzleStatus",props:{status:null},setup(e){const t=e,n=he(()=>Rt.durationStr(t.status.duration));return(s,o)=>{const i=_e("icon");return A(),L("div",kv,[a("div",null,[N(i,{icon:"puzzle-piece"}),D(" "+ee(e.status.piecesDone)+"/"+ee(e.status.piecesTotal),1)]),a("div",null,[e.status.finished?(A(),we(i,{key:1,icon:"flag"})):(A(),we(i,{key:0,icon:"clock"})),D(" "+ee(ue(n)),1)])])}}}),Nv={class:"scores"},$v=a("div",null,"Scores",-1),$i=me({__name:"Scores",props:{players:null},setup(e){const t=e,n=he(()=>(t.players.active.sort((i,l)=>l.points-i.points),t.players.active)),s=he(()=>(t.players.idle.sort((i,l)=>l.points-i.points),t.players.idle)),o=i=>i.color==="ukraine"?{backgroundImage:"linear-gradient(180deg, rgba(0,87,183,1) 0%, rgba(0,87,183,1) 50%, rgba(255,221,0,1) 50%)","-webkit-background-clip":"text","-webkit-text-fill-color":"transparent"}:{color:i.color};return(i,l)=>{const r=_e("icon");return A(),L("div",Nv,[$v,a("table",null,[(A(!0),L(pe,null,Ze(ue(n),(c,u)=>(A(),L("tr",{key:u,style:Nt(o(c))},[a("td",null,[N(r,{icon:"lightning"})]),a("td",null,ee(c.name),1),a("td",null,ee(c.points),1)],4))),128)),(A(!0),L(pe,null,Ze(ue(s),(c,u)=>(A(),L("tr",{key:u,style:Nt(o(c))},[a("td",null,[N(r,{icon:"zzz"})]),a("td",null,ee(c.name),1),a("td",null,ee(c.points),1)],4))),128))])])}}}),Mv={class:"settings"},Uv=a("td",null,[a("label",null,"Background: ")],-1),Lv=a("td",null,[a("label",null,"Table: ")],-1),Iv=D("Show"),Dv={key:0},Vv=D(" Dark"),Bv={key:1},zv=D(" Brown"),Gv={key:2},Fv=D(" Light"),Hv=a("td",null,[a("label",null,"Color: ")],-1),Wv=a("td",null,[a("label",null,"Name: ")],-1),jv=a("td",null,[a("label",null,"Sounds: ")],-1),Kv=a("td",null,[a("label",null,"Piece connect sounds of others: ")],-1),Yv=["disabled"],Zv=a("td",null,[a("label",null,"Sounds Volume: ")],-1),qv={class:"sound-volume"},Xv=["disabled","value"],Qv=a("td",null,[a("label",null,"Show player names: ")],-1),Mi=me({__name:"SettingsOverlay",props:{settings:null},emits:["close"],setup(e,{emit:t}){const n=e,s=j(n.settings.showTable()),o=j(n.settings.tableTexture()),i=j(n.settings.background()),l=j(n.settings.color()),r=j(l.value==="ukraine"),c=j(n.settings.name()),u=j(n.settings.soundsEnabled()),f=j(n.settings.otherPlayerClickSoundEnabled()),p=j(n.settings.soundsVolume()),h=j(n.settings.showPlayerNames()),m=w=>{const g=parseInt(w.target.value);p.value=g},x=()=>{p.value=Math.max(0,p.value-5)},b=()=>{p.value=Math.min(100,p.value+5)},T=()=>{n.settings.setShowTable(s.value),n.settings.setTableTexture(o.value),n.settings.setBackground(i.value),n.settings.setColor(r.value?"ukraine":l.value),n.settings.setName(c.value),n.settings.setSoundsEnabled(u.value),n.settings.setOtherPlayerClickSoundEnabled(f.value),n.settings.setSoundsVolume(p.value),n.settings.setShowPlayerNames(h.value)};return Ge(r,T),Ge(i,T),Ge(s,T),Ge(o,T),Ge(l,T),Ge(c,T),Ge(u,T),Ge(f,T),Ge(p,T),Ge(h,T),(w,g)=>{const v=_e("icon"),k=_e("overlay");return A(),we(k,{class:"transparent",onClose:g[11]||(g[11]=U=>t("close"))},{default:De(()=>[a("table",Mv,[a("tr",null,[Uv,a("td",null,[Ae(a("input",{type:"color","onUpdate:modelValue":g[0]||(g[0]=U=>i.value=U)},null,512),[[kt,i.value]])])]),a("tr",null,[Lv,a("td",null,[a("label",null,[Ae(a("input",{type:"checkbox","onUpdate:modelValue":g[1]||(g[1]=U=>s.value=U)},null,512),[[nn,s.value]]),Iv]),s.value?(A(),L("label",Dv,[Ae(a("input",{type:"radio","onUpdate:modelValue":g[2]||(g[2]=U=>o.value=U),value:"dark"},null,512),[[Et,o.value]]),Vv])):oe("",!0),s.value?(A(),L("label",Bv,[Ae(a("input",{type:"radio","onUpdate:modelValue":g[3]||(g[3]=U=>o.value=U),value:"brown"},null,512),[[Et,o.value]]),zv])):oe("",!0),s.value?(A(),L("label",Gv,[Ae(a("input",{type:"radio","onUpdate:modelValue":g[4]||(g[4]=U=>o.value=U),value:"light"},null,512),[[Et,o.value]]),Fv])):oe("",!0)])]),a("tr",null,[Hv,a("td",null,[r.value?oe("",!0):Ae((A(),L("input",{key:0,type:"color","onUpdate:modelValue":g[5]||(g[5]=U=>l.value=U)},null,512)),[[kt,l.value]]),a("label",null,[Ae(a("input",{type:"checkbox","onUpdate:modelValue":g[6]||(g[6]=U=>r.value=U)},null,512),[[nn,r.value]]),N(v,{icon:"ukraine-heart"})])])]),a("tr",null,[Wv,a("td",null,[Ae(a("input",{type:"text",maxLength:"16","onUpdate:modelValue":g[7]||(g[7]=U=>c.value=U)},null,512),[[kt,c.value]])])]),a("tr",null,[jv,a("td",null,[Ae(a("input",{type:"checkbox","onUpdate:modelValue":g[8]||(g[8]=U=>u.value=U)},null,512),[[nn,u.value]])])]),a("tr",null,[Kv,a("td",null,[Ae(a("input",{type:"checkbox",disabled:!u.value,"onUpdate:modelValue":g[9]||(g[9]=U=>f.value=U)},null,8,Yv),[[nn,f.value]])])]),a("tr",null,[Zv,a("td",qv,[a("span",{onClick:x},[N(v,{icon:"volume-down"})]),a("input",{disabled:!u.value,type:"range",min:"0",max:"100",value:p.value,onChange:m},null,40,Xv),a("span",{onClick:b},[N(v,{icon:"volume-up"})])])]),a("tr",null,[Qv,a("td",null,[Ae(a("input",{type:"checkbox","onUpdate:modelValue":g[10]||(g[10]=U=>h.value=U)},null,512),[[nn,h.value]])])])])]),_:1})}}}),Jv={id:"game"},ey=D(" Cutting puzzle, please wait... "),ty={key:4,class:"menu-left"},ny={key:0,class:"switch-game-replay"},sy=D(" Watch replay"),oy={key:5,class:"menu"},iy=D(" Puzzles"),ly=D(" Preview"),ry=D(" Settings"),ay=D(" Info"),cy=D(" Hotkeys"),uy={class:"opener",href:"https://stand-with-ukraine.pp.ua/",target:"_blank"},fy=D(" Stand with Ukraine "),dy={key:6,class:"menu-right"},hy={key:7,class:"status-messages"},py=me({__name:"Game",setup(e){const t=j([]),n=j({active:[],idle:[]}),s=j({finished:!1,duration:0,piecesDone:0,piecesTotal:0}),o=j(""),i=j(0),l=j(!0),r=j(!0),c=j(),u=hi(),f=j({playerSettings:null,game:null,previewImageUrl:"",connect:()=>{},disconnect:()=>{},unload:()=>{}}),p=di(),h=(w,g)=>{typeof g=="undefined"?t.value.push(`${w}`):g===!0||g===!1?t.value.push(`${w} ${g?"enabled":"disabled"}`):t.value.push(`${w} changed to ${g}`),setTimeout(()=>{t.value.shift()},3e3)},m=()=>{c.value.width=window.innerWidth,c.value.height=window.innerHeight,u.emit("requireRerender")},x=()=>{f.value.connect()},b=(w,g,v)=>{g===!1?(o.value="",v&&u.emit("setHotkeys",!0)):(o.value=w,v&&u.emit("setHotkeys",!1))},T=(w,g)=>{o.value===""?(o.value=w,g&&u.emit("setHotkeys",!1)):(o.value="",g&&u.emit("setHotkeys",!0)),w==="preview"&&u.emit("onPreviewChange",o.value==="preview")};return Qe(async()=>{!p.params.id||(u.on("puzzleCut",()=>{l.value=!1}),u.on("players",w=>{n.value=w}),u.on("status",w=>{s.value=w}),u.on("connectionState",w=>{i.value=w}),u.on("togglePreview",w=>{b("preview",w,!1)}),u.on("toggleInterface",w=>{r.value=!!w}),c.value.width=window.innerWidth,c.value.height=window.innerHeight,window.addEventListener("resize",m),f.value=await Aa(`${p.params.id}`,Le.clientId(),Ai.get().WS_ADDRESS,Gn,c.value,u),u.on("statusMessage",w=>{h(w.what,w.value)}))}),$n(()=>{f.value.unload(),f.value.disconnect(),window.removeEventListener("resize",m)}),(w,g)=>{const v=_e("icon"),k=_e("router-link");return A(),L("div",Jv,[o.value==="settings"&&f.value.playerSettings?(A(),we(Mi,{key:0,onClose:g[0]||(g[0]=U=>T("settings",!0)),onBgclick:g[1]||(g[1]=U=>T("settings",!0)),settings:f.value.playerSettings},null,8,["settings"])):oe("",!0),o.value==="preview"?(A(),we(ki,{key:1,onClose:g[2]||(g[2]=U=>T("preview",!1)),onClick:g[3]||(g[3]=U=>T("preview",!1)),img:f.value.previewImageUrl},null,8,["img"])):oe("",!0),f.value.game&&o.value==="info"?(A(),we(Ri,{key:2,onClose:g[4]||(g[4]=U=>T("info",!0)),onBgclick:g[5]||(g[5]=U=>T("info",!0)),game:f.value.game},null,8,["game"])):oe("",!0),o.value==="help"?(A(),we(Oi,{key:3,onClose:g[6]||(g[6]=U=>T("help",!0)),onBgclick:g[7]||(g[7]=U=>T("help",!0))})):oe("",!0),Ae(N(ka,null,{default:De(()=>[a("div",null,[N(v,{icon:"hourglass"}),ey,N(v,{icon:"hourglass"})])]),_:1},512),[[Gr,l.value]]),N(Ra,{connectionState:i.value,onReconnect:x},null,8,["connectionState"]),r.value?(A(),L("div",ty,[N(Ni,{status:s.value},null,8,["status"]),f.value.game&&f.value.game.hasReplay?(A(),L("div",ny,[N(k,{to:{name:"replay",params:{id:f.value.game.id}}},{default:De(()=>[N(v,{icon:"replay"}),sy]),_:1},8,["to"])])):oe("",!0)])):oe("",!0),r.value?(A(),L("div",oy,[N(k,{class:"opener",to:{name:"index"},target:"_blank"},{default:De(()=>[N(v,{icon:"puzzle-piece"}),iy]),_:1}),a("div",{class:"opener",onClick:g[8]||(g[8]=U=>T("preview",!1))},[N(v,{icon:"preview"}),ly]),a("div",{class:"opener",onClick:g[9]||(g[9]=U=>T("settings",!0))},[N(v,{icon:"settings"}),ry]),a("div",{class:"opener",onClick:g[10]||(g[10]=U=>T("info",!0))},[N(v,{icon:"info"}),ay]),a("div",{class:"opener",onClick:g[11]||(g[11]=U=>T("help",!0))},[N(v,{icon:"hotkey"}),cy]),a("a",uy,[N(v,{icon:"ukraine-heart"}),fy])])):oe("",!0),r.value?(A(),L("div",dy,[N($i,{players:n.value},null,8,["players"])])):oe("",!0),t.value.length?(A(),L("div",hy,[(A(!0),L(pe,null,Ze(t.value,(U,O)=>(A(),L("div",{key:O},ee(U),1))),128))])):oe("",!0),a("canvas",{ref_key:"canvasEl",ref:c},null,512)])}}}),gy={id:"replay"},_y={key:4,class:"overlay"},my={class:"overlay-content"},vy=D(" Cutting puzzle, please wait... "),yy={key:5,class:"menu-left"},wy={class:"playback-control"},Ey={key:0,class:"switch-game-replay"},by=D(" To the game"),Py={key:6,class:"menu"},Ty=D(" Puzzles"),Cy=D(" Preview"),xy=D(" Settings"),Sy=D(" Info"),Ay=D(" Hotkeys"),Oy={class:"opener",href:"https://stand-with-ukraine.pp.ua/",target:"_blank"},Ry=D(" Stand with Ukraine "),ky={key:7,class:"menu-right"},Ny={key:8,class:"status-messages"},$y=me({__name:"Replay",setup(e){const t=j([]),n=j({active:[],idle:[]}),s=j({finished:!1,duration:0,piecesDone:0,piecesTotal:0}),o=j(""),i=j(0),l=j(!0),r=j(!0),c=j(),u=hi(),f=j({playerSettings:null,game:null,previewImageUrl:"",connect:()=>{},disconnect:()=>{},unload:()=>{}}),p=j({speed:1,paused:!1}),h=di(),m=he(()=>"Replay-Speed: "+(p.value.speed+"x")+(p.value.paused?" Paused":"")),x=(g,v)=>{typeof v=="undefined"?t.value.push(`${g}`):v===!0||v===!1?t.value.push(`${g} ${v?"enabled":"disabled"}`):t.value.push(`${g} changed to ${v}`),setTimeout(()=>{t.value.shift()},3e3)},b=()=>{c.value.width=window.innerWidth,c.value.height=window.innerHeight,u.emit("requireRerender")},T=(g,v,k)=>{v===!1?(o.value="",k&&u.emit("setHotkeys",!0)):(o.value=g,k&&u.emit("setHotkeys",!1))},w=(g,v)=>{o.value===""?(o.value=g,v&&u.emit("setHotkeys",!1)):(o.value="",v&&u.emit("setHotkeys",!0)),g==="preview"&&u.emit("onPreviewChange",o.value==="preview")};return Qe(async()=>{!h.params.id||(u.on("puzzleCut",()=>{l.value=!1}),u.on("players",g=>{n.value=g}),u.on("status",g=>{s.value=g}),u.on("connectionState",g=>{i.value=g}),u.on("togglePreview",g=>{T("preview",g,!1)}),u.on("toggleInterface",g=>{r.value=!!g}),u.on("replaySpeed",g=>{p.value.speed=g}),u.on("replayPaused",g=>{p.value.paused=g}),c.value.width=window.innerWidth,c.value.height=window.innerHeight,window.addEventListener("resize",b),f.value=await Aa(`${h.params.id}`,Le.clientId(),Ai.get().WS_ADDRESS,Ft,c.value,u),u.on("statusMessage",g=>{x(g.what,g.value)}))}),$n(()=>{f.value.unload(),f.value.disconnect(),window.removeEventListener("resize",b)}),(g,v)=>{const k=_e("icon"),U=_e("router-link");return A(),L("div",gy,[o.value==="settings"&&f.value.playerSettings?(A(),we(Mi,{key:0,onClose:v[0]||(v[0]=O=>w("settings",!0)),onBgclick:v[1]||(v[1]=O=>w("settings",!0)),settings:f.value.playerSettings},null,8,["settings"])):oe("",!0),o.value==="preview"?(A(),we(ki,{key:1,onClose:v[2]||(v[2]=O=>w("preview",!1)),onClick:v[3]||(v[3]=O=>w("preview",!1)),img:f.value.previewImageUrl},null,8,["img"])):oe("",!0),f.value.game&&o.value==="info"?(A(),we(Ri,{key:2,onClose:v[4]||(v[4]=O=>w("info",!0)),onBgclick:v[5]||(v[5]=O=>w("info",!0)),game:f.value.game},null,8,["game"])):oe("",!0),o.value==="help"?(A(),we(Oi,{key:3,onClose:v[6]||(v[6]=O=>w("help",!0)),onBgclick:v[7]||(v[7]=O=>w("help",!0))})):oe("",!0),l.value?(A(),L("div",_y,[a("div",my,[a("div",null,[N(k,{icon:"hourglass"}),vy,N(k,{icon:"hourglass"})])])])):oe("",!0),r.value?(A(),L("div",yy,[N(Ni,{status:s.value},null,8,["status"]),a("div",wy,[a("div",null,ee(ue(m)),1),a("button",{class:"btn",onClick:v[8]||(v[8]=O=>ue(u).emit("replayOnSpeedUp"))},[N(k,{icon:"speed-up"})]),a("button",{class:"btn",onClick:v[9]||(v[9]=O=>ue(u).emit("replayOnSpeedDown"))},[N(k,{icon:"speed-down"})]),a("button",{class:"btn",onClick:v[10]||(v[10]=O=>ue(u).emit("replayOnPauseToggle"))},[N(k,{icon:"pause"})])]),f.value.game?(A(),L("div",Ey,[N(U,{to:{name:"game",params:{id:f.value.game.id}}},{default:De(()=>[N(k,{icon:"puzzle-piece"}),by]),_:1},8,["to"])])):oe("",!0)])):oe("",!0),r.value?(A(),L("div",Py,[N(U,{class:"opener",to:{name:"index"},target:"_blank"},{default:De(()=>[N(k,{icon:"puzzle-piece"}),Ty]),_:1}),a("div",{class:"opener",onClick:v[11]||(v[11]=O=>w("preview",!1))},[N(k,{icon:"preview"}),Cy]),a("div",{class:"opener",onClick:v[12]||(v[12]=O=>w("settings",!0))},[N(k,{icon:"settings"}),xy]),a("div",{class:"opener",onClick:v[13]||(v[13]=O=>w("info",!0))},[N(k,{icon:"info"}),Sy]),a("div",{class:"opener",onClick:v[14]||(v[14]=O=>w("help",!0))},[N(k,{icon:"hotkey"}),Ay]),a("a",Oy,[N(k,{icon:"ukraine-heart"}),Ry])])):oe("",!0),r.value?(A(),L("div",ky,[N($i,{players:n.value},null,8,["players"])])):oe("",!0),t.value.length?(A(),L("div",Ny,[(A(!0),L(pe,null,Ze(t.value,(O,K)=>(A(),L("div",{key:K},ee(O),1))),128))])):oe("",!0),a("canvas",{ref_key:"canvasEl",ref:c},null,512)])}}}),My=me({__name:"Icon",props:{icon:null},setup(e){return(t,n)=>(A(),L("i",{class:Pt(["icon",`icon-${e.icon}`])},null,2))}}),Uy=["src"],Ly=["onClick"],Iy={class:"imageteaser-info"},Dy=me({__name:"ImageTeaser",props:{image:{type:Object,required:!0}},emits:["click","editClick"],setup(e,{emit:t}){const n=e,s=j(null),o=he(()=>n.image.url.replace("uploads/","uploads/r/")+"-375x0.webp"),i=he(()=>!s.value||!s.value.id?!1:s.value.id===n.image.uploaderUserId),l=()=>{t("click")},r=()=>{t("editClick")};return Qe(async()=>{s.value=Ne.getMe()}),(c,u)=>{const f=_e("icon");return A(),L("div",{class:"imageteaser",onClick:l},[a("img",{src:ue(o)},null,8,Uy),ue(i)?(A(),L("div",{key:0,class:"btn edit",onClick:Ns(r,["stop"])},[N(f,{icon:"edit"})],8,Ly)):oe("",!0),a("div",Iy,ee(e.image.gameCount)+"x plays ",1)])}}}),Vy=["title"],By=me({__name:"ResponsiveImage",props:{src:null,title:{default:""},height:{default:"100%"},width:{default:"100%"}},setup(e){const t=e,n=he(()=>({display:"inline-block",verticalAlign:"text-bottom",backgroundImage:`url('${t.src}')`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",width:t.width,height:t.height}));return(s,o)=>(A(),L("div",{style:Nt(ue(n)),title:e.title},null,12,Vy))}}),zy={class:"input-holder"},Gy=["onKeydown"],Fy={key:0,class:"enter-hint color-highlight"},Hy={key:0,class:"autocomplete"},Wy=["onClick"],jy=["onClick"],Ky=me({__name:"TagsInput",props:{modelValue:null,autocompleteTags:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=j(""),o=j(n.modelValue),i=j({idx:-1,values:[]}),l=j(),r=p=>{if(p.code==="ArrowDown"&&i.value.values.length>0)return i.value.idx<i.value.values.length-1&&i.value.idx++,p.stopPropagation(),!1;if(p.code==="ArrowUp"&&i.value.values.length>0)return i.value.idx>0&&i.value.idx--,p.stopPropagation(),!1;if(p.key===",")return u(),p.stopPropagation(),!1;if(p.code==="Escape")return i.value.values=[],i.value.idx=-1,p.stopPropagation(),!1;s.value&&n.autocompleteTags?(i.value.values=n.autocompleteTags(s.value,o.value),i.value.idx=-1):(i.value.values=[],i.value.idx=-1)},c=p=>{const h=p.replace(/,/g,"").trim();!h||(o.value.includes(h)||o.value.push(h),s.value="",i.value.values=[],i.value.idx=-1,t("update:modelValue",o.value),l.value.focus())},u=()=>{const p=i.value.idx>=0?i.value.values[i.value.idx]:s.value;c(p)},f=p=>{o.value=o.value.filter(h=>h!==p),t("update:modelValue",o.value)};return Ge(()=>n.modelValue,p=>{o.value=p}),(p,h)=>(A(),L("div",null,[a("div",zy,[Ae(a("input",{ref_key:"inputEl",ref:l,class:"input",type:"text","onUpdate:modelValue":h[0]||(h[0]=m=>s.value=m),placeholder:"Plants, People",onKeydown:[So(Ns(u,["prevent"]),["enter"]),So(Ns(u,["prevent"]),["tab"])],onKeyup:r},null,40,Gy),[[kt,s.value]]),s.value?(A(),L("div",Fy,"[Press ENTER/TAB to add]")):oe("",!0)]),i.value.values?(A(),L("div",Hy,[a("ul",null,[(A(!0),L(pe,null,Ze(i.value.values,(m,x)=>(A(),L("li",{key:x,class:Pt({active:x===i.value.idx}),onClick:b=>c(m)},ee(m),11,Wy))),128))])])):oe("",!0),(A(!0),L(pe,null,Ze(o.value,(m,x)=>(A(),L("span",{key:x,class:"bit is-clickable",onClick:b=>f(m)},ee(m)+" \u2716",9,jy))),128))]))}}),Yy=["data-index"],Zy=me({__name:"MasonryWall",props:{columnWidth:{default:400},items:null,gap:{default:0},rtl:{type:Boolean,default:!1},ssrColumns:{default:0}},emits:["redraw","redraw-skip"],setup(e,{emit:t}){const n=e,{columnWidth:s,items:o,gap:i,rtl:l,ssrColumns:r}=Pc(n),c=j([]),u=j(),f=he(()=>({display:"flex",flexBasis:0,flexDirection:"column",flexGrow:1,height:["-webkit-max-content","-moz-max-content","max-content"],gap:`${i}px`})),p=()=>{const T=Math.floor((u.value.getBoundingClientRect().width+i.value)/(s.value+i.value));return T>0?T:1},h=T=>[...new Array(T)].map(()=>[]);if(r.value>0){const T=h(r.value);o.value.forEach((w,g)=>T[g%r.value].push(g)),c.value=T}async function m(T){if(T>=o.value.length)return;await ii();const w=[...u.value.children];l.value&&w.reverse();const g=w.reduce((v,k)=>k.getBoundingClientRect().height<v.getBoundingClientRect().height?k:v);c.value[+g.dataset.index].push(T),await m(T+1)}async function x(T=!1){if(c.value.length===p()&&!T){t("redraw-skip");return}c.value=h(p());const w=window.scrollY;await m(0),window.scrollTo({top:w}),t("redraw")}const b=new ResizeObserver(()=>x());return Qe(()=>{x(),b.observe(u.value)}),li(()=>b.unobserve(u.value)),Ge([o,l],()=>x(!0)),Ge([s,i],()=>x()),(T,w)=>(A(),L("div",{ref_key:"wall",ref:u,class:"masonry-wall",style:Nt({display:"flex",gap:`${ue(i)}px`})},[(A(!0),L(pe,null,Ze(c.value,(g,v)=>(A(),L("div",{key:v,class:"masonry-column","data-index":v,style:Nt(ue(f))},[(A(!0),L(pe,null,Ze(g,k=>(A(),L("div",{key:k,class:"masonry-item"},[Tr(T.$slots,"default",{item:ue(o)[k],index:k},()=>[D(ee(ue(o)[k]),1)])]))),128))],12,Yy))),128))],4))}}),qy={class:"nav"},ls=me({__name:"Nav",setup(e){const t=j(["admin_games","admin_images","admin_users","admin_groups"]);return(n,s)=>{const o=_e("router-link");return A(),L("ul",qy,[(A(!0),L(pe,null,Ze(t.value,(i,l)=>(A(),L("li",{key:l},[N(o,{to:{name:i}},{default:De(()=>[D(ee(i),1)]),_:2},1032,["to"])]))),128))])}}}),Xy=a("h2",null,"Login",-1),Qy=a("td",null,"Name:",-1),Jy=a("td",null,"Pass:",-1),ew=["onKeydown"],tw=me({__name:"LoginForm",setup(e){const t=j(""),n=j("");async function s(){await Ne.login(t.value,n.value)}return(o,i)=>(A(),L("div",null,[Xy,a("table",null,[a("tr",null,[Qy,a("td",null,[Ae(a("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=l=>t.value=l)},null,512),[[kt,t.value]])])]),a("tr",null,[Jy,a("td",null,[Ae(a("input",{type:"password","onUpdate:modelValue":i[1]||(i[1]=l=>n.value=l),onKeydown:So(Ns(s,["prevent"]),["enter"])},null,40,ew),[[kt,n.value]])])]),a("tr",null,[a("td",{colspan:"2"},[a("span",{class:"btn",onClick:s},"Login")])])])]))}}),nw=me({__name:"Index",setup(e){const t=j(!1);return Qe(async()=>{t.value=!!Ne.getMe(),Ne.eventBus.on("login",()=>{console.log("login"),t.value=!0}),Ne.eventBus.on("logout",()=>{console.log("logout"),t.value=!1})}),(n,s)=>(A(),L("div",null,[t.value?(A(),we(ls,{key:0})):oe("",!0),t.value?oe("",!0):(A(),we(tw,{key:1}))]))}}),sw=D(" GAMES "),ow={class:"data-table"},iw=a("tr",null,[a("th",null,"Id"),a("th",null,"Creator"),a("th",null,"Image"),a("th",null,"Created"),a("th",null,"Finished"),a("th",null,"Private"),a("th",null,"Actions")],-1),lw=["onClick"],rw=me({__name:"Games",setup(e){const t=j([]),n=async s=>{if(!confirm(`Really delete game ${s.id}?`))return;(await Le.admin.deleteGame(s.id)).ok?(t.value=t.value.filter(i=>i.id!==s.id),alert("Successfully deleted game!")):alert("Deleting game failed!")};return Qe(async()=>{Ne.getMe()&&(t.value=await Le.admin.getGames()),Ne.eventBus.on("login",async()=>{t.value=await Le.admin.getGames()}),Ne.eventBus.on("logout",()=>{t.value=[]})}),(s,o)=>(A(),L("div",null,[N(ls),sw,a("table",ow,[iw,(A(!0),L(pe,null,Ze(t.value,(i,l)=>(A(),L("tr",{key:l},[a("td",null,ee(i.id),1),a("td",null,ee(i.creator_user_id||"-"),1),a("td",null,ee(i.image_id),1),a("td",null,ee(i.created),1),a("td",null,ee(i.finished),1),a("td",null,ee(i.private?"\u2713":"\u2716"),1),a("td",null,[a("span",{onClick:r=>n(i),class:"is-clickable"},"DELETE",8,lw)])]))),128))])]))}}),aw=D(" USERS "),cw={class:"data-table"},uw=a("tr",null,[a("th",null,"Id"),a("th",null,"Created"),a("th",null,"Login")],-1),fw=D("-"),dw=me({__name:"Users",setup(e){const t=j([]);return Qe(async()=>{Ne.getMe()&&(t.value=await Le.admin.getUsers()),Ne.eventBus.on("login",async()=>{t.value=await Le.admin.getUsers()}),Ne.eventBus.on("logout",()=>{t.value=[]})}),(n,s)=>(A(),L("div",null,[N(ls),aw,a("table",cw,[uw,(A(!0),L(pe,null,Ze(t.value,(o,i)=>(A(),L("tr",{key:i},[a("td",null,ee(o.id),1),a("td",null,ee(o.created),1),a("td",null,[o.login?(A(),L(pe,{key:0},[D(ee(o.login),1)],64)):(A(),L(pe,{key:1},[fw],64))])]))),128))])]))}}),hw=D(" IMAGES "),pw={class:"data-table"},gw=a("tr",null,[a("th",null,"Id"),a("th",null,"Uploader"),a("th",null,"Created"),a("th",null,"Filename"),a("th",null,"Filename Original"),a("th",null,"Title"),a("th",null,"Width"),a("th",null,"Height"),a("th",null,"Private"),a("th",null,"Actions")],-1),_w=["onClick"],mw=me({__name:"Images",setup(e){const t=j([]),n=async s=>{if(!confirm(`Really delete image ${s.id}?`))return;(await Le.admin.deleteImage(s.id)).ok?(t.value=t.value.filter(i=>i.id!==s.id),alert("Successfully deleted image!")):alert("Deleting image failed!")};return Qe(async()=>{Ne.getMe()&&(t.value=await Le.admin.getImages()),Ne.eventBus.on("login",async()=>{t.value=await Le.admin.getImages()}),Ne.eventBus.on("logout",()=>{t.value=[]})}),(s,o)=>(A(),L("div",null,[N(ls),hw,a("table",pw,[gw,(A(!0),L(pe,null,Ze(t.value,(i,l)=>(A(),L("tr",{key:l},[a("td",null,ee(i.id),1),a("td",null,ee(i.uploader_user_id||"-"),1),a("td",null,ee(i.created),1),a("td",null,ee(i.filename),1),a("td",null,ee(i.filename_original),1),a("td",null,ee(i.title),1),a("td",null,ee(i.width),1),a("td",null,ee(i.height),1),a("td",null,ee(i.private?"\u2713":"\u2716"),1),a("td",null,[a("span",{onClick:r=>n(i),class:"is-clickable"},"DELETE",8,_w)])]))),128))])]))}}),vw=D(" GROUPS "),yw={class:"data-table"},ww=a("tr",null,[a("th",null,"Id"),a("th",null,"Name")],-1),Ew=me({__name:"Groups",setup(e){const t=j([]);return Qe(async()=>{Ne.getMe()&&(t.value=await Le.admin.getGroups()),Ne.eventBus.on("login",async()=>{t.value=await Le.admin.getGroups()}),Ne.eventBus.on("logout",()=>{t.value=[]})}),(n,s)=>(A(),L("div",null,[N(ls),vw,a("table",yw,[ww,(A(!0),L(pe,null,Ze(t.value,(o,i)=>(A(),L("tr",{key:i},[a("td",null,ee(o.id),1),a("td",null,ee(o.name),1)]))),128))])]))}});(async()=>{Le.init(),await Ne.init(),await Ai.init();const e=hd({history:Af(),routes:[{name:"index",path:"/",component:Ph},{name:"new-game",path:"/new-game",component:Up},{name:"game",path:"/g/:id",component:py},{name:"replay",path:"/replay/:id",component:$y},{name:"admin",path:"/admin",component:nw},{name:"admin_games",path:"/admin/games",component:rw},{name:"admin_users",path:"/admin/users",component:dw},{name:"admin_images",path:"/admin/images",component:mw},{name:"admin_groups",path:"/admin/groups",component:Ew}]});e.beforeEach((n,s)=>{s.name&&document.documentElement.classList.remove(`view-${String(s.name)}`),document.documentElement.classList.add(`view-${String(n.name)}`)});const t=af(dh);t.use(e),t.component("connection-overlay",Ra),t.component("edit-image-dialog",sa),t.component("game-teaser",No),t.component("help-overlay",Oi),t.component("icon",My),t.component("image-library",ia),t.component("image-teaser",Dy),t.component("info-overlay",Ri),t.component("masonry-wall",Zy),t.component("new-game-dialog",oa),t.component("new-image-dialog",na),t.component("overlay",ka),t.component("preview-overlay",ki),t.component("puzzle-status",Ni),t.component("responsive-image",By),t.component("scores",$i),t.component("settings-overlay",Mi),t.component("tags-input",Ky),t.mount("#app")})();
//# sourceMappingURL=index.fde59ed2.js.map
